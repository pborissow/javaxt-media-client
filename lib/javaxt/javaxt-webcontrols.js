if(!javaxt)var javaxt={};if(!javaxt.dhtml)javaxt.dhtml={};
javaxt.dhtml.Accordion=function(h,t){this.className="javaxt.dhtml.Accordion";var u=this;var p={};var b=null;var m;var v;var k={activeOnTop:false,animate:true,animationSteps:250,defaultTab:null,style:{accordion:{width:"100%",height:"100%",border:"1px solid #969696",margin:"0px"},tabHeader:{background:"#F6F6F6",borderBottom:"1px solid #969696",padding:"7px 0 6px 7px",cursor:"pointer",whiteSpace:"nowrap"},tabContent:{borderBottom:"1px solid #969696",padding:"3px 0 0 7px"},activeTab:{}}};var o=function(){if(typeof h==="string"){h=document.getElementById(h)}if(!h){return}var C={};f(C,t);f(C,k);t=C;var D=[];for(var A=0;A<h.childNodes.length;A++){var y=h.childNodes[A];if(y.nodeType===1){D.push(y)}}for(var A=0;A<D.length;A++){h.removeChild(D[A])}h.innerHTML="";var E=c(h);E.setAttribute("desc",u.className);a(E,"accordion");E.style.borderCollapse="collapse";var z=E.addRow().addColumn({width:"100%",height:"100%",verticalAlign:"top"});u.el=E;var x=l("div",z,{width:"100%",height:"100%",position:"relative"});var B=l("div",x,{width:"100%",height:"100%",position:"absolute",overflow:"hidden"});v=l("div",B,{width:"100%",height:"100%",position:"relative"});g(h,function(){u.resize()});for(var A=0;A<D.length;A++){u.add(D[A])}if(t.defaultTab){var w=t.animate;t.animate=false;u.open(t.defaultTab);t.animate=w}};this.enableAnimation=function(){t.animate=true};this.disableAnimation=function(){t.animate=false};this.add=function(x,A){var y;if(A){if(typeof A=="string"){y=A;A=i(y,v)}else{y=A.title}}else{y=x.title;A=i(y,v)}a(x,"tabContent");x.style.height="0px";x.style.overflow="hidden";x.style.display="none";v.appendChild(x);var z=1;for(var w in p){if(p.hasOwnProperty(w)){z++}}p["tab"+z]={title:y,el:x};A.setAttribute("tabID",z);A.onclick=function(D){var B=parseInt(this.getAttribute("tabID"));var C=p["tab"+B];u.open(B);u.onHeaderClick(C.title,this,C.el,D)}};var i=function(x,w){var y=l("div",w);y.innerHTML=x;y.onselectstart=function(){return false};a(y,"tabHeader");return y};this.getCurrentTab=function(){if(b){var w=p["tab"+b];if(w){return{id:b,el:w.el,title:w.title}}}return null};this.open=function(A){var z=null;if(typeof A=="string"){for(var x in p){if(p.hasOwnProperty(x)){var y=p[x];if(y.title===A){z=y.el;A=parseInt(x.substring(3));break}}}}else{if(typeof A=="number"){var y=p["tab"+A];if(y){z=y.el}}}if(z==null){return}if(A==b){if(t.activeTabClosable==true){}else{return}}var w=null;if(b){var y=p["tab"+b];if(y){w=y.el}}u.beforeChange();b=A;m=r(z);if(t.animate==true){e(new Date().getTime(),t.animationSteps,w,z)}else{j(z,w)}};var j=function(x,A){if(x){n(x.previousSibling,"activeTab");x.style.display="block";x.style.height=m+"px";x.style.filter="alpha(opacity=100)";x.style.MozOpacity=1}if(A){a(A.previousSibling,"tabHeader");A.style.display="none";A.style.height="0px";A.style.filter="alpha(opacity=0)";A.style.MozOpacity=0}if(t.activeOnTop==true){var w=[];var B=[];var C=0;for(var D=0;D<v.childNodes.length;D++){var z=v.childNodes[D];if(z.nodeType===1){var F=z.getAttribute("tabID");if(F){if(F==b){break}var E=z.cloneNode(true);E.onclick=z.onclick;v.appendChild(E);w.push(z);B.push(E);if(z.offsetHeight>0){C+=z.offsetHeight}}}}var y=function(){while(w.length>0){var H=w.shift();var G=H.nextSibling;v.removeChild(H);H=B.shift();v.insertBefore(G,H.nextSibling)}v.style.marginTop="0px";v.style.height="100%"};v.style.height="";if(t.animate==true){q(new Date().getTime(),100,C,y)}else{v.style.marginTop=-C+"px";y()}}u.afterChange()};var e=function(x,A,y,w){var B=new Date().getTime();var D=B-x;if(m==null){m=r(w)}if(A<=D){j(w,y);return}A-=D;var E=d(w);var z=Math.round((A/t.animationSteps)*m-E);var C=(A/t.animationSteps)*100;if(w){if(w.style.display!="block"){w.style.display="block";w.style.filter="alpha(opacity="+(100-C)+")";w.style.MozOpacity=(100-C)/100}w.style.height=(m-z)-E+"px"}if(y){y.style.height=z+"px";y.style.filter="alpha(opacity="+(C)+")";y.style.MozOpacity=C/100}setTimeout(function(){e(B,A,y,w)},33)};var q=function(x,C,A,B){var w=new Date().getTime();var z=w-x;if(C<=z){if(B!=null){B.apply(u,[])}return}C-=z;var y=A-Math.round((C/t.animationSteps)*A);v.style.marginTop=-y+"px";setTimeout(function(){q(w,C,A,B)},33)};this.resize=function(){if(b){var x=p["tab"+b];if(x){var w=r();var y=d(x.el);x.el.style.height=(w-y)+"px"}}};this.onHeaderClick=function(y,z,w,x){};this.beforeChange=function(){};this.afterChange=function(){};var r=function(x){var w=v.offsetHeight;if(w>0){if(document.body.clientHeight<w){w=document.body.clientHeight}for(var z=0;z<v.childNodes.length;z++){var A=v.childNodes[z];if(A.nodeType===1){var y=A.getAttribute("tabID");if(y){if(A.offsetHeight>0){w-=A.offsetHeight}}}}var B=0;if(x){B=d(x)}return w-B}return 0};var d=function(w){var z=parseFloat(s(w,"padding-top").replace("px",""));var A=parseFloat(s(w,"padding-bottom").replace("px",""));var B=parseFloat(s(w,"border-top-width").replace("px",""));var x=parseFloat(s(w,"border-bottom-width").replace("px",""));var y=(z+A+B+x);if(isNaN(y)){return 0}else{return y}};var s=function(x,w){if(x.currentStyle){return x.currentStyle[w]}else{if(window.getComputedStyle){return document.defaultView.getComputedStyle(x,"").getPropertyValue(w)}}};var f=javaxt.dhtml.utils.merge;var c=javaxt.dhtml.utils.createTable;var l=javaxt.dhtml.utils.createElement;var g=javaxt.dhtml.utils.addResizeListener;var a=function(x,w){javaxt.dhtml.utils.setStyle(x,t.style[w])};var n=function(x,w){javaxt.dhtml.utils.addStyle(x,t.style[w])};o()};
javaxt.dhtml.Authentication=function(c,a){var b=navigator.userAgent.toLowerCase();this.login=function(h,d,g){var f=this.logoff;var e=((window.XMLHttpRequest)?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP"));e.open("GET",c,true,h,d);e.setRequestHeader("Cache-Control","no-cache, no-transform");e.onreadystatechange=function(){if(e.readyState===4){if(e.status!==200){if(navigator.userAgent.toLowerCase().indexOf("firefox")!=-1){f()}}if(g!=null){g.call(e)}}};e.send(null)};this.logoff=function(e){if(b.indexOf("msie")!=-1){document.execCommand("ClearAuthenticationCache");if(e!=null){e.call()}}else{var d=new XMLHttpRequest();d.open("GET",a+"?prompt=false",true);d.setRequestHeader("Cache-Control","no-cache, no-transform");d.onreadystatechange=function(){if(d.readyState===4){var f=new XMLHttpRequest();f.open("GET",c,true,"logout","logout");f.setRequestHeader("Cache-Control","no-cache, no-transform");f.onreadystatechange=function(){if(f.readyState===4){if(e!=null){e.call()}}};f.send("")}};d.send("")}}};
javaxt.dhtml.BarGraph=function(h,w){this.className="javaxt.dhtml.BarGraph";var y=this;var r,z,m;var u,i,a,v;var p;var b=[];var l=0;var s=0;var x={};var j={animate:false,animationSteps:750,maxHorizonalLabels:3,style:{cell:{borderBottom:"1px solid #ccc",padding:"0 5px"},bar:{backgroundColor:"#7baaf7",borderRadius:"3px 3px 0 0",cursor:"pointer"},tick:{borderLeft:"1px solid #ccc",borderRight:"1px solid #ccc",height:"5px"},labelX:{textAlign:"center",color:"#757575",fontSize:"10px",height:"14px"},labelY:{textAlign:"right",color:"#757575",fontSize:"10px",padding:"0 5px 0 0",margin:"-5px 0 0 0"},hline:{borderTop:"1px solid #ccc",opacity:0.5,zIndex:1},select:{backgroundColor:"orange"}}};var q=function(){if(typeof h==="string"){h=document.getElementById(h)}if(!h){return}var F={};g(F,w);g(F,j);w=F;var B=n("div",h,{height:"100%",position:"relative"});B.setAttribute("desc",y.className);y.el=B;var I=d(B);var D=I.addRow().addColumn({width:"100%",height:"100%",verticalAlign:"bottom"});u=d(D);var G=u.addRow();D=G.addColumn({width:"1px",height:"100%",verticalAlign:"top"});a=d(D);a.setAttribute("desc","yAxis");D=G.addColumn({width:"100%",height:"100%"});var H=n("div",D,{width:"100%",height:"100%",position:"relative"});var A=n("div",H,{width:"100%",height:"100%",position:"absolute",top:0,overflow:"hidden",padding:"0 1px"});var C=n("div",A,{width:"100%",position:"relative"});v=d(C);var E=n("div",H,{width:"100%",height:"100%",position:"absolute",overflow:"auto",overflowY:"hidden",padding:"0 1px"});i=d(E);i.setAttribute("desc","dataTable");r=i.addRow();z=i.addRow();m=i.addRow();if(w.animate===true){u.style.height=0}e(H,function(){y.update()})};this.show=function(){y.el.style.display=""};this.hide=function(){y.el.style.display="none"};this.add=function(I,H){if(!k(I)){I=0}b.push(I);if(I>s){s=I}if(I<l){l=I}var D,F;if(!x.cell){D=n("td");c(D,"cell");D.style.height="100%";D.style.verticalAlign="bottom";var A=n("div",D,{height:"100%",position:"relative"});F=n("div",A);c(F,"bar");F.style.position="absolute";F.style.bottom=0;F.style.width="100%";x.cell=D}else{D=x.cell.cloneNode(true);F=D.childNodes[0].childNodes[0]}F.onclick=function(){var L=this.parentNode.parentNode;for(var M=0;M<r.childNodes.length;M++){if(r.childNodes[M]==L){y.onClick(b[M],M,this);break}}};D.onclick=function(){var L=this;for(var M=0;M<r.childNodes.length;M++){if(r.childNodes[M]==L){y.onCellClick(M,L);break}}};r.appendChild(D);if(w.style.cell.width){D.style.width=w.style.bar.width;D.childNodes[0].style.width=w.style.bar.width;p=parseInt(w.style.cell.width)}else{if(typeof w.style.cell==="string"){if(!p){var K=n("div");c(K,"cell");K.style.position="absolute";K.style.visibility="hidden";K.style.display="block";var E=document.getElementsByTagName("body")[0];E.appendChild(K);var B=K.currentStyle||window.getComputedStyle(K);var G=function(M){if(B.getPropertyValue){var L=B.getPropertyValue(M);if(L&&L.length>0){return L}return B.getPropertyValue(M)}else{return B[M]}};p=parseInt(G("width"));E.removeChild(K);K=null}}}var D=z.addColumn();c(D,"tick");D=m.addColumn();c(D,"labelX");if(H!=null){var J=n("div",D,{width:"100%",height:"100%",position:"relative"});var C=n("div",J,{width:"100%",height:"100%",position:"absolute"});if(typeof H==="string"||k(H)){C.innerHTML=H}else{if(H instanceof Function){H.apply(y,[C])}}}};this.setValue=function(A,B){b[A]=B;if(B>s){s=B}if(B<l){l=B}};this.update=function(P){for(var G=0;G<b.length;G++){var B=r.childNodes[G].childNodes[0].childNodes[0];if(B){var D=(b[G]/s)*100;B.style.height=D+"%"}}if(!isNaN(p)){if(p>0){var C=(p*b.length)+"px";i.style.width=C;v.parentNode.style.width=C}}var E=a.firstChild.childNodes.length;var M=w.maxHorizonalLabels;var L=t(b).length;if(L<M){M=L}var A=Math.round((1/M)*100)+"%";if(L===1&&b[0]===0){A="100%";M=0}var I=a.firstChild;var H=v.firstChild;if(E>M){while(I.childNodes.length>0){I.removeChild(I.childNodes[0])}while(H.childNodes.length>0){H.removeChild(H.childNodes[0])}E=0}for(var G=E;G<M;G++){var K=a.addRow();var F=K.addColumn({verticalAlign:"top"});var B=n("div",F);c(B,"labelY");F.label=B;var F=K.addColumn({verticalAlign:"top"});var B=n("div",F);c(B,"hline");B.style.width="100%";K=v.addRow();F=K.addColumn({verticalAlign:"top"});var B=n("div",F);c(B,"hline");B.style.width="100%";B.style.position="absolute"}for(var G=0;G<I.childNodes.length;G++){var F=I.childNodes[G].childNodes[0];F.style.height=A;var J=I.childNodes.length;var O=J-G;var N=s/M;var D=N*O;y.createLabel(D,O,J,F.label)}for(var G=0;G<H.childNodes.length;G++){var F=H.childNodes[G].childNodes[0];F.style.height=A}if(w.animate===true){a.style.display="none";f(new Date().getTime(),w.animationSteps,function(){a.style.display="";a.style.height=r.offsetHeight+"px";v.style.height=r.offsetHeight+"px";if(P!=null){P.apply(y,[])}})}else{a.style.height=r.offsetHeight+"px";v.style.height=r.offsetHeight+"px";if(P!=null){P.apply(y,[])}}};this.clear=function(A){l=0;s=0;y.deselectAll();if(A===true){for(var B=0;B<b.length;B++){b[B]=0}for(var B=0;B<b.length;B++){var C=r.childNodes[B].childNodes[0].childNodes[0];C.style.height="0%"}}else{b=[];while(r.childNodes.length>1){r.removeChild(r.childNodes[1]);z.removeChild(z.childNodes[1]);m.removeChild(m.childNodes[1])}i.style.width="100%";v.parentNode.style.width="100%";y.update()}};this.onClick=function(B,A,C){};this.onCellClick=function(B,A){};this.getCell=function(A){return r.childNodes[A]};this.select=function(A){var C=r.childNodes[A];if(C){C.selected=true;var B=C.childNodes[0].childNodes[0];o(B,"select")}};this.deselect=function(A){var D=r.childNodes[A];if(D){D.selected=false;var C=D.childNodes[0].childNodes[0];var B=C.style.height;c(C,"bar");C.style.position="absolute";C.style.bottom=0;C.style.width="100%";C.style.height=B}};this.selectAll=function(){for(var A=0;A<r.childNodes.length;A++){y.select(A)}};this.deselectAll=function(){for(var A=0;A<r.childNodes.length;A++){y.deselect(A)}};this.getSelectedItems=function(){var A=[];for(var B=0;B<r.childNodes.length;B++){var C=r.childNodes[B];if(C.selected){A.push({idx:B,val:b[B],cell:C})}}return A};this.createLabel=function(C,B,A,D){D.innerHTML=Math.round(C)};this.getValues=function(){var A=[];for(var B=0;B<b.length;B++){A.push(b[B])}return A};var t=function(A){var C=[];for(var D=0,B=A.length;D<B;D++){if(C.indexOf(A[D])===-1&&A[D]!==""){C.push(A[D])}}return C};var k=function(A){return !isNaN(parseFloat(A))&&!isNaN(A-0)};var f=function(B,F,E){var A=new Date().getTime();var D=A-B;if(F<=D){u.style.height="100%";if(E!=null){E.apply(y,[])}return}F-=D;var C=(F/w.animationSteps)*100;u.style.height=(100-C)+"%";setTimeout(function(){f(A,F,E)},33)};var g=javaxt.dhtml.utils.merge;var e=javaxt.dhtml.utils.onRender;var d=javaxt.dhtml.utils.createTable;var n=javaxt.dhtml.utils.createElement;var c=function(B,A){javaxt.dhtml.utils.setStyle(B,w.style[A])};var o=function(B,A){javaxt.dhtml.utils.addStyle(B,w.style[A])};q()};
javaxt.dhtml.Button=function(j,q){this.className="javaxt.dhtml.Button";var r=this;var k={label:null,selected:false,disabled:false,toggle:false,menu:false,menuAlign:"bottom",display:"inline-block",width:null,height:null,iconAlign:"left",style:{button:{border:"1px solid #cccccc",borderRadius:"3px",background:"#F6F6F6",cursor:"pointer",padding:"3px 7px",margin:"0px",color:"#2b2b2b"},label:{fontFamily:"helvetica,arial,verdana,sans-serif",fontSize:"14px",whiteSpace:"nowrap"},icon:{},arrow:{},select:{background:"#007FFF",border:"1px solid #003EFF",color:"#FFFFFF"},hover:{background:"#ededed"},menu:{border:"1px solid #cccccc",background:"#F6F6F6",cursor:"pointer",padding:"3px 3px",zIndex:"1"}},sound:null};var h;var n,b;var p,i,c;var o=function(){if(typeof j==="string"){j=document.getElementById(j)}if(!j){return}var A={};g(A,q);g(A,k);q=A;var v=q.style.iconAlign;if(!v){v=q.iconAlign}if(v!=="right"){v="left"}var I=q.style.menuAlignment;if(!I){I=q.menuAlign}if(I!=="right"){I="bottom"}if(q.menu===true){var y=false;for(var F in q.style.arrow){if(q.style.arrow.hasOwnProperty(F)){y=true;break}}if(!y){if(I==="bottom"){q.style.arrow={width:0,height:0,borderLeft:"5px solid transparent",borderRight:"5px solid transparent",borderTop:"5px solid #575757",marginLeft:"10px"};q.style.arrowSelect={borderTop:"5px solid #FFFFFF"}}}}var E=l("div",j);E.className="javaxt-button";E.style.display=q.display;if(q.width){if(typeof q.width==="string"){E.style.width=q.width}else{E.style.width=q.width+"px"}}if(q.height){if(typeof q.height==="string"){E.style.height=q.height}else{E.style.height=q.height+"px"}}E.style.position="relative";if(q.hidden===true){E.style.visibility="hidden";E.style.display="none"}r.el=E;var u=l("div",E);if(E.style.display==="inline-block"){u.style.display="table";if(q.width){u.style.width=E.style.width}}u.style.height="100%";h=l("div",u,q.style.button);h.setAttribute("desc","button");a(h);var H=f(h);H.style.fontFamily="inherit";H.style.textAlign="inherit";H.style.color="inherit";var z=H.addRow();var w;w=z.addColumn();if(v==="left"){p=l("div",w,q.style.icon)}else{c=l("div",w,q.style.arrow)}w=z.addColumn({width:"100%"});i=l("div",w);d(i,"label");if(q.label){i.innerHTML=q.label}w=z.addColumn();if(v==="left"){c=l("div",w,q.style.arrow)}else{p=l("div",w,q.style.icon)}if(q.menu===true){q.toggle=true;b=l("div",E,q.style.menu);b.setAttribute("desc","menu");b.style.position="absolute";b.style.visibility="hidden";var D=function(J){if(!h.contains(J.target)){b.style.visibility="hidden";r.deselect()}};window.addEventListener("click",D);var x,G;var t,s,C,B;window.addEventListener("touchstart",function(J){t=J.changedTouches[0].pageX;C=J.changedTouches[0].pageY;x=new Date().getTime();G=null});window.addEventListener("touchend",function(K){G=new Date().getTime();s=K.changedTouches[0].pageX;B=K.changedTouches[0].pageY;var L=Math.sqrt((s-=t)*s+(B-=C)*B);if(L<0){L=-L}var J=G-x;if((J<=500&&L<=10)||(J>500&&L<=10)){D(K)}})}if(q.disabled===true){r.disable()}if(q.selected===true){r.select()}e(r)};var a=function(s){s.unselectable="on";s.onselectstart=function(){return false};var A=function(B){B.stopPropagation();if(q.sound!=null){q.sound.play()}if(q.toggle===true){if(b){if(v){r.toggle()}else{}}else{r.toggle()}}else{d(h,"button");d(p,"icon");d(c,"arrow")}r.onClick()};var w;var z;var u,t,y,x;var v=false;s.ontouchstart=function(B){v=true;B.preventDefault();u=B.changedTouches[0].pageX;y=B.changedTouches[0].pageY;w=new Date().getTime();z=null;if(s.selected!==true){m(s,"hover");m(p,"iconHover");m(c,"arrowHover")}};s.ontouchend=function(C){z=new Date().getTime();t=C.changedTouches[0].pageX;x=C.changedTouches[0].pageY;var D=Math.sqrt((t-=u)*t+(x-=y)*x);if(D<0){D=-D}var B=z-w;if((B<=500&&D<=10)||(B>500&&D<=10)){A(C)}else{d(s,"button");d(p,"icon");d(c,"arrow")}};if(!v){s.onmousedown=function(){m(s,"select");m(p,"iconSelect");m(c,"arrowSelect");if(b){r.toggle()}};s.onclick=function(B){A(B)};s.onmouseover=function(){if(s.selected!==true){m(s,"hover");m(p,"iconHover");m(c,"arrowHover")}};s.onmouseout=function(){if(s.selected!==true){d(s,"button");d(p,"icon");d(c,"arrow")}}}};this.click=function(){h.click()};this.onClick=function(){};this.getText=function(){return r.getLabel()};this.getLabel=function(){return i.innerText};this.setLabel=function(s){i.innerText=s+""};this.enable=function(){var s=r.el;s.style.opacity="";if(n){n.style.visibility="hidden"}};this.disable=function(){var s=r.el;s.style.opacity="0.5";if(n){n.style.visibility="visible"}else{n=l("div",{position:"absolute",zIndex:"1",width:"100%",height:"100%"});n.setAttribute("desc","mask");s.insertBefore(n,s.firstChild)}};this.isEnabled=function(){return !r.isDisabled()};this.isDisabled=function(){if(n){if(n.style.visibility!=="hidden"){return true}}return false};this.select=function(){if(h.selected===true){return}h.selected=true;d(h,"button");d(p,"icon");d(c,"arrow");m(h,"select");m(p,"iconSelect");m(c,"arrowSelect")};this.deselect=function(){if(h.selected===true){h.selected=false;d(h,"button");d(p,"icon");d(c,"arrow")}};this.isSelected=function(){return(h.selected===true)};this.toggle=function(){if(q.toggle===true){if(h.selected===true){r.deselect();if(b){b.style.visibility="hidden"}}else{r.select();if(b){b.style.visibility="visible"}}}};this.getMenuPanel=function(){return b};var g=javaxt.dhtml.utils.merge;var f=javaxt.dhtml.utils.createTable;var l=javaxt.dhtml.utils.createElement;var e=javaxt.dhtml.utils.addShowHide;var d=function(t,s){javaxt.dhtml.utils.setStyle(t,q.style[s])};var m=function(t,s){javaxt.dhtml.utils.addStyle(t,q.style[s])};o()};
javaxt.dhtml.Calendar=function(k,c){this.className="javaxt.dhtml.Calendar";var h=this;var j=null;var n={};var m;var d=false;var a=[];var g={};var l={day:javaxt.dhtml.calendar.Day,week:javaxt.dhtml.calendar.Week,month:javaxt.dhtml.calendar.Month};var o=function(){var u={};i(u,c);c=u;if(c.eventStore==null){c.eventStore=new javaxt.dhtml.calendar.EventStore()}var r=c.listeners;var q=null;var p=null;if(r!=null){for(var s in r){if(r.hasOwnProperty(s)){var t=r[s];if(s=="beforerender"){q=t;delete r[s]}else{if(s=="afterrender"){p=t;delete r[s]}else{g[s]=t;(function(v){r[v]=function(){var z=[];for(var A=0;A<arguments.length;A++){var w=arguments[A];for(var y in l){if(l.hasOwnProperty(y)){var x=l[y];if(w instanceof x){w=h;break}}}z.push(w)}if(!d){a.push({name:v,args:z});return}var B=g[v];if(B!=null){B.apply(h,z)}}})(s)}}}}}e();new javaxt.dhtml.calendar.View(h,c);if(q!=null){q.apply(h,[h])}h.setView(c.view);if(p!=null){p.apply(h,[h])}f()};var e=function(){a=[];d=false};var f=function(){d=true;for(var q=0;q<a.length;q++){var r=a[q];var s=g[r.name];var p=r.args;if(s!=null){s.apply(h,p)}}a=[]};var b=function(){for(var p in j){if(j.hasOwnProperty(p)&&p!=="className"){h[p]=j[p]}}};this.setView=function(s){if(s!=null){s=s.toLowerCase()}if(s==m){return}var u=n[s];if(u!=null){m=s;var q=j.getDate();j.hide();j=u;j.setDate(q);b();j.show();j.refresh();var r=h.getListener("update");if(r!=null){r.callback.apply(r.scope,[h])}}else{var t=null;for(var p in l){if(l.hasOwnProperty(p)){if(s==p){t=l[p];break}}}if(t){e();var q=null;if(j!=null){q=j.getDate();j.hide()}j=new t(k,c);if(q!=null){j.setDate(q)}b();n[s]=j;m=s;f()}}};this.getView=function(){return j};var i=function(q,s){for(var r in s){if(s.hasOwnProperty(r)&&typeof q[r]!=="undefined"){if(r!=0){i(q[r],s[r])}}else{q[r]=s[r]}}};o()};
if(!javaxt.dhtml.calendar)javaxt.dhtml.calendar={};javaxt.dhtml.calendar.Day=function(parent,config){this.className="javaxt.dhtml.calendar.Day";var me=this;var el;var bodyDiv;var footerRow;var multidayRow,multidayEventsTable;var currTimeDiv,getCurrentDate;var rendered;var startDate,endDate;var cells={};var widths={};var rowHeights=[];var scrollWidth;var scrollable=true;var days=1;var date;var store;var eventHeight=17;var eventPadding=2;var holdDelay=500;var debug=false;var isFirefox=navigator.userAgent.toLowerCase().indexOf('firefox')>-1;var isIE=window.navigator.userAgent.indexOf("MSIE ")>-1||window.navigator.userAgent.indexOf("Trident/")>-1;var init=function(){new javaxt.dhtml.calendar.View(me,config);store=config.eventStore==null?new javaxt.dhtml.calendar.EventStore():config.eventStore;if(config.days!=null)days=config.days;function isNumeric(n){return!isNaN(parseFloat(n))&&isFinite(n);}
if(isNumeric(config.eventHeight))eventHeight=parseInt(config.eventHeight);if(isNumeric(config.eventPadding))eventPadding=parseInt(config.eventPadding);getCurrentDate=config.getCurrentDate==null?getCurrentDate=function(){return new Date();}:config.getCurrentDate;if(config.renderers){for(var rendererName in config.renderers){if(config.renderers.hasOwnProperty(rendererName)){if(me[rendererName]){(function(rendererName){me[rendererName]=function(){var renderer=config.renderers[rendererName];return renderer.apply(me,arguments);};})(rendererName);}}}}
rendered=false;var listener=me.getListener('beforerender');if(listener!=null)listener.callback.apply(listener.scope,[me]);me.setDate(config.date);listener=me.getListener('afterrender');if(listener!=null)listener.callback.apply(listener.scope,[me]);rendered=true;listener=me.getListener('update');if(listener!=null)listener.callback.apply(listener.scope,[me]);};this.hasHours=function(){return true;};this.show=function(){parent.appendChild(el);};this.hide=function(){parent.removeChild(el);};this.showFooter=function(){footerRow.style.display='';};this.hideFooter=function(){footerRow.style.display="none";};this.enableTouch=function(){scrollable=true;};this.disableTouch=function(){scrollable=false;};var renderTable=function(){if(el!=null){for(var i=0;i<parent.childNodes.length;i++){if(parent.childNodes[i]==el){parent.removeChild(el);break;}}}
cells={};widths={};rowHeights=[];var div,tbody,tr,td;tbody=createTable();var table=el=tbody.parentNode;table.className="javaxt-noselect";table.style.cursor="default";parent.appendChild(table);tr=document.createElement("tr");tr.setAttribute("desc","header");tr.className="javaxt-cal-header";tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="inherit";tr.appendChild(td);var header=td;tr=document.createElement("tr");tr.setAttribute("desc","multiday events");tr.className="javaxt-cal-multiday-header";tr.style.display="none";tr.style.visibility="hidden";multidayRow=tr;tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="inherit";tr.appendChild(td);var multidayDiv=document.createElement('div');multidayDiv.setAttribute("desc","multiday-div");multidayDiv.style.width="100%";multidayDiv.style.height="inherit";multidayDiv.style.position="relative";td.appendChild(multidayDiv);tr=document.createElement("tr");tr.setAttribute("desc","body");tr.className="javaxt-cal-body";tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="100%";tr.appendChild(td);bodyDiv=document.createElement('div');bodyDiv.setAttribute("desc","body-div");bodyDiv.style.width="100%";bodyDiv.style.height="100%";bodyDiv.style.position="relative";td.appendChild(bodyDiv);div=document.createElement('div');div.style.width="100%";div.style.height="100%";div.style.position="absolute";div.style.overflow='scroll';div.style.overflowX='hidden';bodyDiv.appendChild(div);bodyDiv=div;bodyDiv.addEventListener('touchstart',function(e){if(!scrollable)e.preventDefault();},false);bodyDiv.addEventListener('touchmove',function(e){if(!scrollable)e.preventDefault();},false);var listener=me.getListener('scroll');if(listener){div.addEventListener('scroll',function(e){listener.callback.apply(listener.scope,[me]);},false);}
tr=document.createElement("tr");tr.setAttribute("desc","footer");tr.className="javaxt-cal-footer";tbody.appendChild(tr);td=document.createElement("td");td.style.width="100%";td.style.height="inherit";tr.appendChild(td);footerRow=tr;var footer=td;currTimeDiv=document.createElement("div");currTimeDiv.className="javaxt-cal-current-time-indicator";currTimeDiv.style.position="absolute";currTimeDiv.style.width="100%";currTimeDiv.style.display="none";bodyDiv.appendChild(currTimeDiv);tbody=createTable();header.appendChild(tbody.parentNode);tr=document.createElement("tr");tbody.appendChild(tr);td=document.createElement("td");tr.appendChild(td);var spacerUL=document.createElement('div');td.appendChild(spacerUL);var d=new Date(startDate);for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-header-col";td.style.width=(100/days)+'%';td.style.height="100%";td.appendChild(me.createColumnHeader(d.getDay()));tr.appendChild(td);d.setDate(d.getDate()+1);}
td=document.createElement("td");tr.appendChild(td);var spacerUR=document.createElement('div');td.appendChild(spacerUR);tbody=createTable();footer.appendChild(tbody.parentNode);tr=document.createElement("tr");tbody.appendChild(tr);td=document.createElement("td");tr.appendChild(td);var spacerLL=document.createElement('div');td.appendChild(spacerLL);var d=new Date(startDate);for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-footer-col";td.style.width=(100/days)+'%';td.style.height="100%";td.appendChild(me.createColumnFooter(d.getDay()));tr.appendChild(td);d.setDate(d.getDate()+1);}
td=document.createElement("td");tr.appendChild(td);var spacerLR=document.createElement('div');td.appendChild(spacerLR);var multidayContent=document.createElement('div');multidayContent.setAttribute("desc","multiday-content");multidayContent.style.width="100%";multidayContent.style.height="100%";multidayContent.style.position="relative";multidayDiv.appendChild(multidayContent);div=document.createElement('div');multidayContent.appendChild(div);div.style.width="100%";div.style.height="100%";div.style.position="absolute";div.style.overflow='scroll';div.style.overflowX='hidden';tbody=createTable();div.appendChild(tbody.parentNode);tr=document.createElement("tr");tbody.appendChild(tr);td=document.createElement("td");tr.appendChild(td);var spacerML=document.createElement('div');td.appendChild(spacerML);for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-multiday-col";td.style.width=(100/days)+'%';td.style.height="1px";tr.appendChild(td);}
multidayEventsTable=tbody;tbody=createTable();bodyDiv.appendChild(tbody.parentNode);var row=document.createElement('tr');tbody.appendChild(row);var leftCol=document.createElement('td');leftCol.style.verticalAlign="top";row.appendChild(leftCol);var hours=document.createElement('table');hours.style.borderCollapse="collapse";hours.cellSpacing=0;hours.cellPadding=0;leftCol.appendChild(hours);tbody=document.createElement('tbody');hours.appendChild(tbody);for(var i=0;i<24;i++){var tr=document.createElement('tr');tbody.appendChild(tr);var td=document.createElement('td');td.className="javaxt-cal-hour"+(i==23?" javaxt-cal-hour-last":"");if(i==0)td.style.borderTop="0px";td.appendChild(me.createHourLabel(i));tr.appendChild(td);}
var d=new Date(startDate);for(var i=0;i<days;i++){td=document.createElement('td');td.className='javaxt-cal-cell';td.style.width=(100/days)+'%';td.style.height="100%";td.style.verticalAlign="top";td.valign="top";row.appendChild(td);var outerDiv=document.createElement('div');outerDiv.style.width="100%";outerDiv.style.height="100%";outerDiv.style.position="relative";outerDiv.style.cursor="inherit";var innerDiv=document.createElement('div');innerDiv.style.width="100%";innerDiv.style.height="100%";innerDiv.style.position="absolute";innerDiv.style.whiteSpace='nowrap';innerDiv.style.overflow='hidden';innerDiv.style.cursor="inherit";outerDiv.appendChild(innerDiv);var cell=innerDiv;var cellID=(d.getMonth()+1)+"-"+d.getDate()+"-"+d.getFullYear();cell.date=new Date(d);cells[cellID]=cell;td.appendChild(outerDiv);var innerTable=document.createElement('table');innerTable.cellSpacing=0;innerTable.cellPadding=0;innerTable.style.width="100%";innerTable.style.borderCollapse="collapse";tbody=document.createElement('tbody');innerTable.appendChild(tbody);cell.appendChild(innerTable);for(var j=0;j<24*2;j++){var tr=document.createElement('tr');tbody.appendChild(tr);var col=document.createElement('td');col.className="javaxt-cal-half-hour"+(j%2==0?"":" javaxt-cal-half-hour-sep")+(j==47?" javaxt-cal-hour-last":"");if(j==0)col.style.borderTop="0px";tr.appendChild(col);addListeners(tr,holdDelay);}
d.setDate(d.getDate()+1);}
var lt=_getRect(leftCol.childNodes[0]).width;spacerUL.style.width=spacerML.style.width=spacerLL.style.width=lt+'px';var bodyWidth=_getRect(bodyDiv).width;var tableWidth=_getRect(leftCol.parentNode.parentNode.parentNode).width;scrollWidth=Math.abs(bodyWidth-tableWidth);spacerUR.style.width=spacerLR.style.width=scrollWidth+'px';currTimeDiv.style.left=lt+'px';updateCurrTime();var epoch=getCurrentDate().getTime()/1000;var secondsSinceLastTimerTrigger=epoch%60;var secondsUntilNextTimerTrigger=60-secondsSinceLastTimerTrigger;setTimeout(function(){setInterval(updateCurrTime,60*1000);updateCurrTime();},secondsUntilNextTimerTrigger*1000);me.scrollTo(6.5);if(rendered){var listener=me.getListener('update');if(listener!=null)listener.callback.apply(listener.scope,[me]);}};var addListeners=function(cell,holdDelay){var holdStarter=null;var holdActive=false;var onMouseDown=function(e){var tr=this;holdStarter=setTimeout(function(){holdStarter=null;holdActive=true;var listener=me.getListener('cellhold');if(listener){var callback=listener.callback;var scope=listener.scope;var date=getDate();callback.apply(scope,[date,tr,me,e]);}},holdDelay);};var onMouseUp=function(e){var tr=this;var date=getDate();if(holdStarter){clearTimeout(holdStarter);var listener=me.getListener('cellclick');if(listener){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[date,tr,me,e]);}}
else if(holdActive){holdActive=false;var listener=me.getListener('cellrelease');if(listener){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[date,tr,me,e]);}}};cell.onmousedown=onMouseDown;cell.onmouseup=onMouseUp;cell.ontouchstart=function(e){var touch=e.touches[0];var x=touch.pageX;var y=touch.pageY;this.onmousedown.apply(this,[{clientX:x,clientY:y}]);};cell.ontouchend=function(e){var touch=e.changedTouches[0];var x=touch.pageX;var y=touch.pageY;this.onmouseup.apply(this,[{clientX:x,clientY:y}]);};var getDate=function(){var tbody=cell.parentNode;var _cell=tbody.parentNode.parentNode;var date=new Date(_cell.date);var hour=0;for(var i=0;i<tbody.childNodes.length;i++){var tr=tbody.childNodes[i];if(tr===cell){hour=(i/2);break;}}
date.setTime(date.getTime()+((hour*60)*60*1000));return date;};};this.createColumnHeader=function(i){var outerDiv=document.createElement('div');outerDiv.style.width="100%";outerDiv.style.height="100%";outerDiv.style.position="relative";outerDiv.style.cursor="inherit";var innerDiv=document.createElement('div');innerDiv.style.width="100%";innerDiv.style.height="100%";innerDiv.style.position="absolute";innerDiv.style.whiteSpace='nowrap';innerDiv.style.overflow='hidden';innerDiv.style.cursor="inherit";var text=javaxt.dhtml.calendar.Utils.dayNames[i];if(days>1)text=text.substring(0,3);innerDiv.innerHTML=text;outerDiv.appendChild(innerDiv);return outerDiv;};this.createColumnFooter=function(i){return document.createElement('div');};this.createHourLabel=function(hour){var div=document.createElement('div');div.style.float="right";div.style.padding="0px 7px 0px 7px";var meridian='AM';if(hour==0)hour=12;else if(hour==12)meridian='PM';else if(hour>12){hour=(hour-12);meridian='PM';}
var hdr=document.createElement('table');hdr.cellSpacing=0;hdr.cellPadding=0;div.appendChild(hdr);var t=document.createElement('tbody');hdr.appendChild(t);var tr=document.createElement('tr');t.appendChild(tr);var td=document.createElement('td');td.className="javaxt-cal-label-hour";td.innerHTML=hour;tr.appendChild(td);td=document.createElement('td');td.className="javaxt-cal-label-meridian";td.innerHTML=meridian;tr.appendChild(td);return div;};var updateCurrTime=function(){var date=getCurrentDate();var cellID=(date.getMonth()+1)+"-"+date.getDate()+"-"+date.getFullYear();var cell=cells[cellID];if(cell){var hours=date.getHours();var h1=getVerticalOffset(hours,cell);var h2=getVerticalOffset(hours+1,cell);var pixelsPerMinute=(h2-h1)/60;var h=h1+(date.getMinutes()*pixelsPerMinute);currTimeDiv.style.display='';currTimeDiv.style.top=h+"px";}
else{currTimeDiv.style.display="none";}};this.scrollTo=function(hour){var cellID=(date.getMonth()+1)+"-"+date.getDate()+"-"+date.getFullYear();var cell=cells[cellID];var offset=getVerticalOffset(hour,cell);bodyDiv.scrollTop=offset+1;};this.getScrollDiv=function(){return bodyDiv;};var getVerticalOffset=function(hour,cell){if(rowHeights.length==0){var tbody=cell.childNodes[0].childNodes[0];var rows=tbody.childNodes;for(var i=0;i<rows.length;i++){var tr=rows[i];var rect=_getRect(tr);rowHeights.push(rect.height);}}
var offset=0;for(var i=0;i<rowHeights.length;i++){var rowHeight=rowHeights[i];offset+=rowHeight;var h=i*0.5;if(h>=hour){return(offset-rowHeight);}}
return 0;};this.getEventStore=function(){return store;};this.addEvent=function(event){addEvent(event);};var addEvent=function(event,deferUpdates){log("Adding "+event.getSubject()+"...");var numDays=event.numDays();if(numDays>=1){for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];if(div.event.equals(event)){return;}}}}}
else{var divs=getDivs(event.getStartDate());for(var i=0;i<divs.length;i++){var div=divs[i];if(div.event.equals(event)){return;}}}
if(numDays>=1){addMultiDayEvent(event);}
else{addSingleDayEvent(event,deferUpdates);}
store.add(event);};this.addEvents=function(events){for(var i=0;i<events.length;i++){addEvent(events[i],true);}
var singleDayEvents=[];events=me.getEvents();for(var i=0;i<events.length;i++){var event=events[i];if(event.numDays()<1){var div=getDiv(event);if(div!=null)singleDayEvents.push(event);}}
var processedEvents=[];var isProcessed=function(event){for(var i=0;i<processedEvents.length;i++){if(processedEvents[i].equals(event)){return true;}}
return false;};for(var i=0;i<singleDayEvents.length;i++){var event=singleDayEvents[i];var updateWidth=!isProcessed(event);if(updateWidth){var overlappingEvents=getOverlappingEvents(event);if(overlappingEvents.length>0){var numColumns=2;if(overlappingEvents.length>1){for(var j=0;j<overlappingEvents.length;j++){var _event=overlappingEvents[j];var _startDate=_event.getStartDate();var _endDate=_event.getEndDate();var numIntersects=0;for(var k=0;k<overlappingEvents.length;k++){if(!overlappingEvents[k].equals(_event)){var a=overlappingEvents[k].getStartDate();var b=overlappingEvents[k].getEndDate();if(_startDate.getTime()<b.getTime()&&a.getTime()<_endDate.getTime()){numIntersects++;}}}
if(numIntersects>0){var _numColumns=1+1+numIntersects;if(_numColumns>numColumns)numColumns=_numColumns;}}}
var width=(Math.floor((1/(numColumns))*100));log("Update "+event.getSubject()+" width to "+width+"%");var outerDiv=getDiv(event);outerDiv.style.width=width+"%";for(var j=0;j<overlappingEvents.length;j++){var _event=overlappingEvents[j];var _outerDiv=getDiv(_event);var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];if(_width<width)width=_width;_outerDiv.style.width=width+"%";processedEvents.push(_event);}}}
processedEvents.push(event);}
processedEvents=[];for(var i=0;i<singleDayEvents.length;i++){var event=singleDayEvents[i];if(!isProcessed(event)){var overlappingEvents=getOverlappingEvents(event);if(overlappingEvents.length>0){for(var j=0;j<overlappingEvents.length;j++){var _event=overlappingEvents[j];var _outerDiv=getDiv(_event);var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];updatePosition(_outerDiv,_event,_width);processedEvents.push(_event);}}}
processedEvents.push(event);}
processedEvents=null;for(var i=0;i<singleDayEvents.length;i++){var event=singleDayEvents[i];var outerDiv=getDiv(event);var width=parseInt(outerDiv.style.width);if(widths["_"+width]!=null)width=widths["_"+width];var numColumns=Math.floor(100/width);if(numColumns>1){var left=parseInt(outerDiv.style.left);var colIndex=Math.floor(left/width)+1;log(event.getSubject()+" is in column "+colIndex+"/"+numColumns);if(colIndex===(numColumns-1)){var overlappingEvents=getOverlappingEvents(event);var nextEvent=overlappingEvents[overlappingEvents.length-1];var nextDiv=getDiv(nextEvent);var orgWidth=parseInt(outerDiv.style.width);var newWidth=parseInt(nextDiv.style.left)-left;if(newWidth>orgWidth){log("   ++ Updating "+event.getSubject()+" width to "+newWidth+"% (was "+orgWidth+"%)");outerDiv.style.width=newWidth+"%";}}}}};this.removeEvent=function(event){store.remove(event);if(event.numDays()>=1){for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];if(div.event.equals(event)){td.removeChild(div);var colSpan=td.colSpan;if(colSpan>=2){td.colSpan=1;var nextSibling=td.nextSibling;var clone=td.cloneNode(true);for(var k=0;k<colSpan;k++){if(nextSibling){tr.insertBefore(clone,nextSibling);}
else{tr.appendChild(clone);}}}
if(multidayEventsTable.childNodes.length>1){var hasEvents=false;for(var k=1;k<tr.childNodes.length;k++){if(tr.childNodes[k].childNodes.length>0){hasEvents=true;break;}}
if(!hasEvents){multidayEventsTable.removeChild(tr);}}
var maxHeight=(multidayEventsTable.childNodes.length-1)*(eventHeight+eventPadding);if(maxHeight==0){multidayRow.style.display="none";multidayRow.style.visibility="hidden";}
else{multidayEventsTable.parentNode.parentNode.parentNode.style.height=(maxHeight+(eventPadding))+"px";}
return;}}}}}
else{var divs=getDivs(event.getStartDate());for(var i=0;i<divs.length;i++){var div=divs[i];if(div.event.equals(event)){var parentNode=div.parentNode;parentNode.removeChild(div);break;}}
var overlappingEvents=getOverlappingEvents(event);if(overlappingEvents.length>0){for(var i=0;i<overlappingEvents.length;i++){for(var j=0;j<divs.length;j++){var div=divs[j];if(div.event.equals(overlappingEvents[i])){var parentNode=div.parentNode;parentNode.removeChild(div);break;}}}
me.addEvents(overlappingEvents);}}};this.getEvents=function(){var events=[];var d=new Date(date);if(days>1&&d.getDay()>0)d.setDate(d.getDate()-d.getDay());for(var i=0;i<days;i++){var divs=getDivs(d);for(var j=0;j<divs.length;j++){var div=divs[j];var event=div.event;events.push(event);}
d.setDate(d.getDate()+1);}
for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];var event=div.event;var addEvent=true;for(var k=0;k<events.length;k++){if(events[k].equals(event)){addEvent=false;break;}}
if(addEvent)events.push(event);}}}
return events;};this.clear=function(){var d=new Date(date);if(days>1&&d.getDay()>0)d.setDate(d.getDate()-d.getDay());for(var i=0;i<days;i++){var divs=getDivs(d);for(var j=0;j<divs.length;j++){var div=divs[j];var event=div.event;store.remove(event);var parentNode=div.parentNode;parentNode.removeChild(div);}
d.setDate(d.getDate()+1);}
var row=multidayEventsTable.childNodes[0];while(row.nextSibling){var tr=row.nextSibling;for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(td.childNodes.length>0){var div=td.childNodes[0];var event=div.event;store.remove(event);}}
multidayEventsTable.removeChild(tr);}
multidayRow.style.display="none";multidayRow.style.visibility="hidden";};this.refresh=function(){var events=me.getEvents();me.clear();me.addEvents(events);me.scrollTo(6.5);};var addSingleDayEvent=function(event,deferUpdates){if(deferUpdates!=true)deferUpdates=false;var d=event.getStartDate();var cellID=(d.getMonth()+1)+"-"+d.getDate()+"-"+d.getFullYear();var cell=cells[cellID];if(cell==null)return;var width=100;var overlappingEvents,rects,leftCoords;if(!deferUpdates){rects=[];var overlappingEvents=getOverlappingEvents(event);for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];var _outerDiv=getDiv(_event);if(_outerDiv!=null){rects.push(_getRect(_outerDiv));}}
leftCoords=[];for(var i=0;i<rects.length;i++){var x=rects[i].left;var addCoord=true;for(j=0;j<leftCoords.length;j++){if(leftCoords[j]==x){addCoord=false;break;}}
if(addCoord)leftCoords.push(x);}
leftCoords.sort(function(a,b){return a-b;});var numColumns=leftCoords.length;width=(Math.floor((1/(numColumns+1))*100));for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];var _outerDiv=getDiv(_event);if(_outerDiv!=null){var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];if(_width<width)width=_width;}}
for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];var _outerDiv=getDiv(_event);if(_outerDiv!=null){var _width=parseInt(_outerDiv.style.width);if(widths["_"+_width]!=null)_width=widths["_"+_width];if(width<_width)_width=width;log(event.getSubject()+" intersects "+_event.getSubject());log("   Moving "+_event.getSubject()+" to 0 and setting width to "+_width+"% (was "+_outerDiv.style.width+")");_outerDiv.style.width=_width+"%";_outerDiv.style.left="0px";updatePadding(_outerDiv);if(!deferUpdates)updatePosition(_outerDiv,_event,_width);}}}
var outerDiv=document.createElement('div');outerDiv.style.width=width+"%";outerDiv.style.left="0px";updatePadding(outerDiv);outerDiv.style.position="absolute";var startTime=event.getStartDate().getHours()+(event.getStartDate().getMinutes()/60);var endTime=event.getEndDate().getHours()+(event.getEndDate().getMinutes()/60);var y=getVerticalOffset(startTime,cell);var h=getVerticalOffset(endTime,cell)-y;outerDiv.style.top=y+"px";outerDiv.style.height=h+'px';outerDiv.event=event;cell.appendChild(outerDiv);var div=event.createDiv();var tbody=createTable();outerDiv.appendChild(tbody.parentNode);var tr=document.createElement('tr');tbody.appendChild(tr);var td=document.createElement('td');tr.appendChild(td);td.style.verticalAlign="top";td.style.width="100%";td.style.height="100%";td.style.padding=((eventPadding/2)+1)+"px "+eventPadding+"px "+(eventPadding/2)+"px";td.appendChild(div);if(isIE){td.style.paddingTop=(eventPadding/2)+"px";td.style.paddingBottom=(eventPadding+1)+"px";}
if(isFirefox){td.style.paddingTop=(eventPadding/2)+"px";td.style.paddingBottom=(((eventPadding/2)+1)*2)+"px";}
if(event.isEditable())initDrag(outerDiv,me,holdDelay);else{outerDiv.onclick=function(e){var listener=me.getListener('eventclick');if(listener!=null){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[this.event,this,me,e]);}};}
if(!deferUpdates){if(overlappingEvents.length>0){log("Update "+event.getSubject()+"?");updatePosition(outerDiv,event,width);var rightDiv;var r1=_getRect(outerDiv);var _right=r1.right;for(var i=0;i<leftCoords.length;i++){if(leftCoords[i]>=_right){for(var j=0;j<rects.length;j++){var x=rects[j].left;if(x==leftCoords[i]){rightDiv=getDiv(overlappingEvents[j]);break;}}
break;}
if(rightDiv!=null)break;}
if(rightDiv!=null){var _left=parseInt(outerDiv.style.left);var newWidth=parseInt(rightDiv.style.left)-_left;log("   ++ Updating "+event.getSubject()+" width to "+newWidth+"% (was "+width+"%)");outerDiv.style.width=newWidth+"%";}}}};var addMultiDayEvent=function(event){if(event.getEndDate()<startDate||event.getStartDate()>endDate)return;var startColID,endColID;var continueLeft=false;var continueRight=false;var a=javaxt.dhtml.calendar.Utils.getDaysBetween(startDate,event.getStartDate());var b=javaxt.dhtml.calendar.Utils.getDaysBetween(startDate,event.getEndDate());startColID=a;if(a<0){startColID=0;continueLeft=true;}
startColID=Math.floor(startColID);endColID=startColID+b;if(endColID>days-1){endColID=days-1;continueRight=true;}
endColID=Math.floor(endColID);var startCol,endCol;for(var i=1;i<multidayEventsTable.childNodes.length;i++){var tr=multidayEventsTable.childNodes[i];var idx=0;for(var j=1;j<tr.childNodes.length;j++){var td=tr.childNodes[j];if(idx==startColID){if(td.childNodes.length==0){startCol=td;}
else{i=multidayEventsTable.childNodes.length;break;}}
if(idx==endColID){if(td.childNodes.length==0){endCol=td;if(startCol!=endCol){var previousCol=td.previousSibling;while(previousCol!=startCol){if(previousCol.childNodes.length>0){startCol=endCol=null;break;}
previousCol=previousCol.previousSibling;}}}
i=multidayEventsTable.childNodes.length;break;}
var colSpan=td.colSpan;if(colSpan>=2)idx+=colSpan;else idx++;}}
if(!startCol||!endCol){var tr=document.createElement("tr");multidayEventsTable.appendChild(tr);var td=document.createElement("td");td.className="javaxt-cal-multiday-col-spacer";tr.appendChild(td);if(multidayEventsTable.childNodes.length>1){tr.previousSibling.childNodes[0].style.height='';}
td.style.height="100%";for(var i=0;i<days;i++){td=document.createElement('td');td.className="javaxt-cal-multiday-col";tr.appendChild(td);if(i==startColID)startCol=td;if(i==endColID)endCol=td;}}
var colSpan=(endColID-startColID)+1;if(colSpan>=2){javaxt.dhtml.calendar.Utils.addColSpan(startCol,colSpan);}
var outerDiv=document.createElement('div');outerDiv.style.width="100%";outerDiv.style.height="100%";outerDiv.style.position="absolute";var innerDiv=document.createElement('div');innerDiv.style.height="100%";var paddingLeft=continueLeft?"0px":eventPadding+"px";var paddingRight=continueRight?"0px":eventPadding+"px";innerDiv.style.padding="0px "+paddingRight+" 0px "+paddingLeft;innerDiv.style.position="relative";outerDiv.appendChild(innerDiv);var div=event.createDiv(continueLeft,continueRight);div.style.height="100%";innerDiv.appendChild(div);var wrapper=document.createElement('div');wrapper.style.width="100%";wrapper.style.height=eventHeight+"px";wrapper.style.position="relative";wrapper.style.marginTop=(multidayEventsTable.childNodes.length>2?(eventPadding*2):0)+"px";wrapper.appendChild(outerDiv);wrapper.event=event;wrapper.onclick=function(e){var listener=me.getListener('eventclick');if(listener!=null){var callback=listener.callback;var scope=listener.scope;callback.apply(scope,[this.event,this,me,e]);}};startCol.appendChild(wrapper);multidayRow.style.display='';multidayRow.style.visibility="visible";var numMultiDayEvents=multidayEventsTable.childNodes.length-1;var h=numMultiDayEvents*(eventHeight+eventPadding);h=(h+(eventPadding*2));var multidayEventsDiv=multidayEventsTable.parentNode.parentNode.parentNode;multidayEventsDiv.style.height=h+"px";var h1=multidayEventsTable.childNodes[0].childNodes[1];var c1;for(var id in cells){if(cells.hasOwnProperty(id)){c1=cells[id].parentNode.parentNode;break;}}
var orgHeight=h;while(h1.offsetWidth>c1.offsetWidth){if(h<scrollWidth*2)h=scrollWidth*2;else h++;multidayEventsDiv.style.height=h+"px";if(h===100){multidayEventsDiv.style.height=orgHeight+"px";break;}}};this.getDOM=function(){return el;};this.next=function(){var d=new Date(startDate);d.setDate(d.getDate()+days);me.setDate(d);};this.back=function(){var d=new Date(startDate);d.setDate(d.getDate()-days);me.setDate(d);};this.setDate=function(d){if(d==null)d=getCurrentDate();if(date!=null){if(d.getFullYear()==date.getFullYear()&&d.getMonth()==date.getMonth()&&d.getDate()==date.getDate()){date=d;return;}}
date=d;startDate=new Date(date.getFullYear(),date.getMonth(),date.getDate());if(days>1&&startDate.getDay()>0)startDate.setDate(startDate.getDate()-startDate.getDay());endDate=new Date(startDate);endDate.setDate(endDate.getDate()+days);renderTable();loadEvents();};this.getDate=function(){return date;};this.getDateRange=function(){return{startDate:new Date(startDate),endDate:new Date(endDate)};};this.getTitle=function(){if(days==1){var month=javaxt.dhtml.calendar.Utils.monthNames[date.getMonth()];return(month+" "+date.getDate()+", "+date.getFullYear());}
else{var range=me.getDateRange();var startDate=range.startDate;var endDate=range.endDate;endDate.setDate(endDate.getDate()-1);var startMonth=javaxt.dhtml.calendar.Utils.monthNames[startDate.getMonth()];var endMonth=javaxt.dhtml.calendar.Utils.monthNames[endDate.getMonth()];var a=startMonth+" "+startDate.getDate();var b=endDate.getDate()+", "+endDate.getFullYear();if(startDate.getMonth()==endDate.getMonth()&&startDate.getFullYear()==endDate.getFullYear()){return(a+" - "+b);}
else{if(startDate.getFullYear()==endDate.getFullYear()){return(a+" - "+endMonth+" "+b);}
else{return(a+", "+startDate.getFullYear()+" - "+endMonth+" "+b);}}}};var loadEvents=function(){var events=store.getEvents();for(var i=0;i<events.length;i++){if(events[i].getStartDate().getTime()<endDate.getTime()&&events[i].getEndDate().getTime()>=startDate.getTime()){me.addEvent(events[i]);}}};var updatePosition=function(div,_event,width){var r1=_getRect(div);r1={left:r1.left+1,right:r1.right-1,top:r1.top+1,bottom:r1.bottom-1};var divs=getDivs(_event.getStartDate());var x=0;while(x<=100){var shiftRight=false;for(var j=0;j<divs.length;j++){if(div==divs[j]){}
else{var r2=_getRect(divs[j]);r2={left:r2.left+1,right:r2.right-1,top:r2.top+1,bottom:r2.bottom-1};if(intersects(r1,r2)){log("   -- "+_event.getSubject()+" intersects "+divs[j].innerHTML);log(r1.left+" vs "+r2.left);log(r1.right+" vs "+r2.right);shiftRight=true;break;}}}
if(shiftRight){x++;div.style.left=(x*width)+"%";updatePadding(div);r1=_getRect(div);r1={left:r1.left+1,right:r1.right-1,top:r1.top+1,bottom:r1.bottom-1};log("   -- "+_event.getSubject()+" is now here: "+div.style.left+" (column "+(x+1)+")");}
else{break;}}
log("   -- "+_event.getSubject()+" is in column "+(x+1)+"/"+Math.floor(100/width));var _colIndex=x+1;var _numColumns=Math.floor(100/width);var _left=(x*width);if(_colIndex==_numColumns){if(_left+width<100){var newWidth=(width+(100-(_left+width)));log("   -- Updating "+_event.getSubject()+" width to "+newWidth+"% (was "+width+"%)");div.style.width=newWidth+"%";widths["_"+newWidth]=width;}}};var updatePadding=function(outerDiv){var td;var el=outerDiv;while(el.childNodes.length>0){el=el.childNodes[0];if(el.tagName.toUpperCase()==="TD"){td=el;break;}}
if(td){var left=parseInt(outerDiv.style.left);if(left===0){td.style.paddingLeft=eventPadding+"px";}
else{td.style.paddingLeft="0px";}}};var sortEvents=function(events){var _events=[];for(var i=0;i<events.length;i++){_events.push(events[i]);}
var divs=[];for(var id in cells){if(cells.hasOwnProperty(id)){var cell=cells[id];for(var i=0;i<cell.childNodes.length;i++){var el=cell.childNodes[i];var tagName=el.tagName.toLowerCase();if(tagName=="div"&&el.event!=null)divs.push(el);}}}
var getRow=function(event){var startRow=event.getStartDate().getHours()*2;if(event.getStartDate().getMinutes()>=30)startRow+=1;return startRow;};events.sort(function(event1,event2){var y1=getRow(event1);var y2=getRow(event2);var div1,div2;for(var i=0;i<_events.length;i++){if(_events[i].equals(event1)){div1=divs[i];}
if(_events[i].equals(event2)){div2=divs[i];}
if(div1!=null&&div2!=null)break;}
var x1=parseInt(div1.style.left);var x2=parseInt(div2.style.left);var a=x1+(y1*1000);var b=x2+(y2*1000);return a-b;});return events;};var getOverlappingEvents=function(event){var arr=[];var overlappingEvents=store.getOverlappingEvents(event);for(var i=0;i<overlappingEvents.length;i++){var _event=overlappingEvents[i];if(_event.numDays()<1){var _div=getDiv(_event);if(_div!=null){arr.push(_event);}}}
return sortEvents(arr);};var getDivs=function(date){var divs=[];var d=new Date(date);var cellID=(d.getMonth()+1)+"-"+d.getDate()+"-"+d.getFullYear();var cell=cells[cellID];if(cell!=null){for(var i=0;i<cell.childNodes.length;i++){var el=cell.childNodes[i];var tagName=el.tagName.toLowerCase();if(tagName=="div"&&el.event!=null)divs.push(el);}}
return divs;};var getDiv=function(event){if(event.numDays()>=1){}
else{var divs=getDivs(event.getStartDate());for(var i=0;i<divs.length;i++){var div=divs[i];if(div.event.equals(event))return div;}}
return null;};this.getCells=function(){var arr=[];for(var id in cells){if(cells.hasOwnProperty(id)){var div=cells[id];var rect=_getRect(div);arr.push({id:id,rect:rect});}}
return arr;};var intersects=function(r1,r2){return!(r2.left>r1.right||r2.right<r1.left||r2.top>r1.bottom||r2.bottom<r1.top);};var createTable=function(){var table=document.createElement('table');table.style.width="100%";table.style.height="100%";table.cellSpacing=0;table.cellPadding=0;table.style.borderCollapse="collapse";var tbody=document.createElement('tbody');table.appendChild(tbody);return tbody;};var _getRect=javaxt.dhtml.calendar.Utils.getRect;var initDrag=javaxt.dhtml.calendar.Utils.initDrag;var log=function(str){if(debug)console.log(str);};init();};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Event=function(d){var h=this;var a;var i;var b,e;var c;var g;var j=function(){a=d.id;i=d.subject;b=new Date(d.startDate);e=new Date(d.endDate);c=d.editable;if(c==true){c=true}else{c=false}g={};for(var k in d){if(d.hasOwnProperty(k)){switch(k){case"subject","startDate","endDate","editable":break;default:g[k]=d[k]}}}};this.getID=function(){return a};this.getSubject=function(){return i};this.getStartDate=function(){return new Date(b)};this.setStartDate=function(k){b=new Date(k)};this.getEndDate=function(){return new Date(e)};this.setEndDate=function(k){e=new Date(k)};this.numDays=function(){return Math.floor(javaxt.dhtml.calendar.Utils.getDaysBetween(b,e))};this.isEditable=function(){return c};this.setEditable=function(k){c=k};this.get=function(k){switch(k){case"subject":return getSubject();break;case"startDate":return getStartDate();break;case"endDate":return getEndDate();break;case"editable":return isEditable();break;default:return g[k]}};this.toJson=function(){var l={};for(var k in g){if(g.hasOwnProperty(k)){l[k]=g[k]}}for(var k in h){if(h.hasOwnProperty(k)){if(k.indexOf("get")==0&&k!="get"){var m=h[k];k=k.substring(3,4).toLowerCase()+k.substring(4);if(k=="iD"){k="id"}var n=m.apply(h,[]);if(n instanceof Date){n=f(n)}l[k]=n}else{if(k.indexOf("is")==0){var m=h[k];k=k.substring(2,3).toLowerCase()+k.substring(3);l[k]=m.apply(h,[])}}}}return l};this.equals=function(o){var m=h.toJson();var l=o.toJson();for(var n in m){if(m.hasOwnProperty(n)){var k=m[n];var p=l[n];if(k==null&&p!=null){return false}if(k!=null&&p==null){return false}if(k!=null){if(k instanceof Date){if(!(p instanceof Date)){return false}else{k=k.getTime();p=p.getTime()}}if(k!=p){return false}}}}return true};this.createDiv=function(k,n){var m=document.createElement("div");m.className="javaxt-cal-event"+(k==true?" javaxt-cal-event-continue-left":"")+(n==true?" javaxt-cal-event-continue-right":"");m.style.height="100%";m.style.position="relative";m.style.overflow="hidden";var l=document.createElement("div");l.style.width="100%";l.style.height="100%";l.style.position="absolute";l.style.overflow="hidden";l.innerHTML=h.getSubject();m.appendChild(l);return m};var f=function(k){function l(m){return m<10?"0"+m:m}return k.getUTCFullYear()+"-"+l(k.getUTCMonth()+1)+"-"+l(k.getUTCDate())+"T"+l(k.getUTCHours())+":"+l(k.getUTCMinutes())+":"+l(k.getUTCSeconds())+"Z"};j()};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.EventStore=function(a){this.className="javaxt.dhtml.calendar.EventStore";var b=this;var c=function(){if(a==null||!(a instanceof Array)){a=[]}};this.add=function(d){if(b.contains(d)){return}a.push(d)};this.remove=function(e){for(var d=0;d<a.length;d++){if(a[d].equals(e)){a.splice(d,1);break}}};this.contains=function(e){for(var d=0;d<a.length;d++){if(a[d].equals(e)){return true}}return false};this.clear=function(){a.length=0};this.getEvents=function(){return a};this.getOverlappingEvents=function(j){var e=j.getStartDate();var l=j.getEndDate();var k=[];var h=b.getEvents();for(var g=0;g<h.length;g++){if(!h[g].equals(j)){var f=h[g].getStartDate();var d=h[g].getEndDate();if(e.getTime()<d.getTime()&&f.getTime()<l.getTime()){k.push(h[g])}}}return k};c()};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Month=function(m,D){this.className="javaxt.dhtml.calendar.Month";var E=this;var x;var c,v;var i;var d={};var w={};var A={};var e=[];var a=true;var F;var z;var g=javaxt.dhtml.calendar.Utils.dayNames;var h;var j=17;var r=2;var B=2;var y=500;var q=false;var t=function(){new javaxt.dhtml.calendar.View(E,D);h=D.eventStore==null?new javaxt.dhtml.calendar.EventStore():D.eventStore;function H(J){return !isNaN(parseFloat(J))&&isFinite(J)}if(H(D.eventHeight)){j=parseInt(D.eventHeight)}if(H(D.eventPadding)){r=parseInt(D.eventPadding)}if(H(D.eventSpacing)){B=parseInt(D.eventSpacing)}if(D.renderers){for(var G in D.renderers){if(D.renderers.hasOwnProperty(G)){if(E[G]){(function(J){E[J]=function(){var K=D.renderers[J];return K.apply(E,arguments)}})(G)}}}}F=false;var I=E.getListener("beforerender");if(I!=null){I.callback.apply(I.scope,[E])}E.setDate(D.date);I=E.getListener("afterrender");if(I!=null){I.callback.apply(I.scope,[E])}F=true;I=E.getListener("update");if(I!=null){I.callback.apply(I.scope,[E])}};this.hasHours=function(){return false};this.show=function(){var G=E.getDOM();m.appendChild(G)};this.hide=function(){var G=E.getDOM();m.removeChild(G)};this.enableTouch=function(){a=true};this.disableTouch=function(){a=false};var o=function(){if(x!=null){for(var W=0;W<m.childNodes.length;W++){if(m.childNodes[W]==x){m.removeChild(x);break}}}var G=f();x=G.parentNode;x.className="javaxt-noselect";x.style.cursor="default";var H=document.createElement("tr");H.setAttribute("desc","header-row");H.className="javaxt-cal-header";G.appendChild(H);var V=document.createElement("td");V.style.width="100%";H.appendChild(V);H=document.createElement("tr");H.setAttribute("desc","body-row");H.className="javaxt-cal-body";G.appendChild(H);var O=document.createElement("td");O.style.width="100%";O.style.height="100%";H.appendChild(O);G=f();var K=document.createElement("tr");G.appendChild(K);for(var W=0;W<g.length;W++){var M=document.createElement("td");M.className="javaxt-cal-header-col";M.style.width=(100/g.length)+"%";if(W==0){M.style.borderLeft="0px"}if(W==g.length-1){M.style.borderRight="0px"}M.appendChild(E.createColumnHeader(W));K.appendChild(M)}V.appendChild(G.parentNode);G=f();for(var W=0;W<i;W++){H=document.createElement("tr");M=document.createElement("td");M.style.width="100%";H.appendChild(M);G.appendChild(H);var S=f();M.appendChild(S.parentNode);for(var N=0;N<3;N++){H=document.createElement("tr");S.appendChild(H);M=document.createElement("td");M.style.width="100%";H.appendChild(M);var Y=f();if(N==1){var P=document.createElement("div");P.style.width="100%";P.style.height="100%";P.style.position="absolute";P.style.whiteSpace="nowrap";P.style.overflow="hidden";P.appendChild(Y.parentNode);var L=document.createElement("div");L.style.width="100%";L.style.height="100%";L.style.position="relative";L.appendChild(P);M.style.height="100%";M.appendChild(L)}else{M.appendChild(Y.parentNode)}var R=1;if(N==1){R=2}for(var T=0;T<R;T++){var X=new Date(c);X.setDate(X.getDate()+(W*g.length));H=document.createElement("tr");Y.appendChild(H);for(var U=0;U<g.length;U++){M=document.createElement("td");M.style.width=(100/g.length)+"%";M.className="javaxt-cal-cell";if(X.getMonth()<z.getMonth()){M.className+="-prev-month"}else{if(X.getMonth()>z.getMonth()){M.className+="-next-month"}}var Q=(X.getMonth()+1)+"-"+X.getDate()+"-"+X.getFullYear();var I=d[Q];if(I==null){d[Q]=[M]}else{d[Q].push(M)}M.date=new Date(X);if(N==1){M.onclick=function(ae){var ab=this;var ad=false;var aa=ab.childNodes[0];if(aa.childNodes.length>0){var af=n(aa.childNodes[0]);var Z=aa.childNodes.length==1?af:n(aa.childNodes[aa.childNodes.length-1]);var ag=ae.clientY;if(ag<af.top||ag>Z.bottom){}else{ad=true}}if(!ad){var aj=new Date(ab.date);var ac=E.getListener("cellclick");if(ac!=null){var ah=ac.callback;var ai=ac.scope;ah.apply(ai,[aj,ab,E,ae])}}}}else{M.onclick=function(ad){var ab=this;var Z=new Date(ab.date);var ac=E.getListener("cellclick");if(ac!=null){var ae=ac.callback;var aa=ac.scope;ae.apply(aa,[Z,ab,E,ad])}}}M.ontouchstart=function(aa){aa.preventDefault();if(a){var ac=aa.touches[0];var Z=ac.pageX;var ab=ac.pageY;this.onclick.apply(this,[{clientX:Z,clientY:ab}])}};if(N==0){M.className+=" javaxt-cal-cell-header";M.appendChild(E.createCellHeader(new Date(X),W,U))}else{if(N==1){if(T==0){w[Q]=[M];M.style.height="1px"}else{P=document.createElement("div");P.style.width="100%";P.style.height="100%";P.style.position="relative";M.appendChild(P);A[Q]=M}}else{if(N==2){M.className+=" javaxt-cal-cell-footer";M.style.height="1px";M.appendChild(E.createCellFooter(new Date(X),W,U))}}}X.setDate(X.getDate()+1);if(U==0){M.style.borderLeft="0px"}if(U==g.length-1){M.style.borderRight="0px"}if(W==0){M.style.borderTop="0px"}if(W==i-1){M.style.borderBottom="0px"}H.appendChild(M)}}}}O.appendChild(G.parentNode);m.appendChild(x);if(F){var J=E.getListener("update");if(J!=null){J.callback.apply(J.scope,[E])}}};this.createColumnHeader=function(G){var I=document.createElement("div");I.style.width="100%";I.style.height="100%";I.style.position="relative";var H=document.createElement("div");H.style.width="100%";H.style.height="100%";H.style.position="absolute";H.style.whiteSpace="nowrap";H.style.overflow="hidden";H.innerHTML=g[G];I.appendChild(H);return I};this.createCellHeader=function(I,J,H){var K=I.getDate();var G=javaxt.dhtml.calendar.Utils.monthNames[I.getMonth()].substring(0,3)+" ";if(J==0&&H==0){K=G+K}else{if(K==1){K=G+K}}var L=document.createElement("div");L.innerHTML=K;return L};this.createCellFooter=function(H,I,G){var J=document.createElement("div");return J};this.getCells=function(){var L=[];for(var H in d){if(d.hasOwnProperty(H)){var O=d[H];var K=n(O[0]);var J=n(O[O.length-1]);var I=K.left;var G=K.right;var P=K.top;var N=J.bottom;var M={left:I,right:G,top:P,bottom:N,width:G-I,height:N-P};L.push({id:H,rect:M})}}return L};this.getEventStore=function(){return h};this.addEvent=function(H){k("Adding "+H.getSubject()+"...");var N=H.numDays();if(N>=1){for(var I in w){if(w.hasOwnProperty(I)){var O=w[I];if(O!=null){for(var M=1;M<O.length;M++){var L=O[M];var J=L.firstChild;if(J!=null){var K=J.event;if(K.equals(H)){return}}}}}}}else{var P=H.getStartDate();var I=(P.getMonth()+1)+"-"+P.getDate()+"-"+P.getFullYear();var L=A[I];if(L!=null){var G=L.childNodes[0];for(var M=0;M<G.childNodes.length;M++){if(G.childNodes[M].event.equals(H)){return}}}}if(N>=1){b(H)}else{C(H)}h.add(H)};this.removeEvent=function(aa){h.remove(aa);if(aa.numDays()>=1){var S=[];for(var W in w){if(w.hasOwnProperty(W)){var H=w[W];for(var ac=1;ac<H.length;ac++){var Q=H[ac];var L=Q.firstChild;if(L!=null){var P=L.event;if(P.equals(aa)){Q.removeChild(L);var K=Q.parentNode;if(K!=null){var J=true;for(var Z=0;Z<S.length;Z++){if(S[Z]==K){J=false;break}}if(J){S.push(K)}}}}}}}for(var ac=0;ac<S.length;ac++){var K=S[ac];var O=0;var T=[];for(Z=0;Z<K.childNodes.length;Z++){var Q=K.childNodes[Z];T.push(Q);var L=Q.firstChild;if(L!=null){O++}}if(O==0){var I=K.parentNode;I.removeChild(K);for(Z=0;Z<T.length;Z++){var Q=T[Z];for(var W in w){if(w.hasOwnProperty(W)){var H=w[W];for(var Y=1;Y<H.length;Y++){var ag=H[Y];if(Q==ag){H.splice(Y,1);if(Q.colSpan>=2){var X=W.split("-");var af=parseInt(X[0]);var ab=parseInt(X[1]);var U=parseInt(X[2]);var ae=new Date(U,af-1,ab);for(var R=1;R<Q.colSpan;R++){ae.setDate(ae.getDate()+1);var M=(ae.getMonth()+1)+"-"+ae.getDate()+"-"+ae.getFullYear();var N=w[M];N.splice(Y,1)}}break}}}}}var G=I.childNodes[0];for(var W in w){if(w.hasOwnProperty(W)){var H=w[W];if(H.length>1){var Q=H[1];if(Q.parentNode!=null){if(Q.parentNode.previousSibling==G){var L=Q.firstChild;if(L!=null){L.style.marginTop="0px"}}}}}}}}u()}else{var ad=aa.getStartDate();var W=(ad.getMonth()+1)+"-"+ad.getDate()+"-"+ad.getFullYear();var Q=A[W];var V=Q.childNodes[0];for(var ac=0;ac<V.childNodes.length;ac++){if(V.childNodes[ac].event.equals(aa)){V.removeChild(V.childNodes[ac]);break}}}};this.getEvents=function(){var P=[];for(var I in A){if(A.hasOwnProperty(I)){var K=A[I];var G=K.childNodes[0];for(var N=0;N<G.childNodes.length;N++){var J=G.childNodes[N];var H=J.event;P.push(H)}}}for(var I in w){if(w.hasOwnProperty(I)){var O=w[I];for(var N=1;N<O.length;N++){var K=O[N];var J=K.firstChild;if(J!=null){var H=J.event;var M=true;for(var L=0;L<P.length;L++){if(P[L].equals(H)){M=false;break}}if(M){P.push(H)}}}}}return P};this.clear=function(){for(var J in A){if(A.hasOwnProperty(J)){var L=A[J];var H=L.childNodes[0];H.style.marginTop="0px";while(H.firstChild){var K=H.firstChild;var I=K.event;h.remove(I);H.removeChild(K)}}}var R=[];for(var J in w){if(w.hasOwnProperty(J)){var P=w[J];for(var O=1;O<P.length;O++){var L=P[O];var K=L.firstChild;if(K!=null){var I=K.event;h.remove(I)}var Q=L.parentNode;if(Q!=null){var G=true;for(var M=0;M<R.length;M++){if(R[M]==Q){G=false;break}}if(G){R.push(Q)}}}w[J]=[P[0]]}}for(var O=0;O<R.length;O++){var Q=R[O];var N=Q.parentNode;N.removeChild(Q)}};this.refresh=function(){var H=E.getEvents();E.clear();for(var G=0;G<H.length;G++){E.addEvent(H[G])}};var C=function(I){var P=I.getStartDate();var J=(P.getMonth()+1)+"-"+P.getDate()+"-"+P.getFullYear();var M=A[J];if(M==null){return}var G=I.createDiv(E);var H=document.createElement("div");H.style.width="100%";H.style.height=j+"px";H.style.marginTop=(B*2)+"px";H.style.position="relative";H.style.cursor="pointer";H.event=I;var Q=document.createElement("div");Q.style.width="100%";Q.style.height="100%";Q.style.position="absolute";H.appendChild(Q);var L=document.createElement("div");L.style.height="100%";L.style.padding="0px "+r+"px";L.style.position="relative";Q.appendChild(L);L.appendChild(G);if(I.isEditable()){s(H,E,y)}else{H.onclick=function(T){var S=E.getListener("eventclick");if(S!=null){var U=S.callback;var R=S.scope;U.apply(R,[this.event,this,E,T])}}}var G=M.childNodes[0];var O=false;for(var N=0;N<G.childNodes.length;N++){var K=G.childNodes[N].event;if(!I.equals(K)){if(K.getStartDate().getTime()>=I.getStartDate().getTime()){G.insertBefore(H,G.childNodes[N]);O=true;break}}}if(!O){G.appendChild(H)}};var b=function(aa){var T=[];for(var S=0;S<aa.numDays()+1;S++){var ae=new Date(aa.getStartDate());ae.setDate(ae.getDate()+S);var W=(ae.getMonth()+1)+"-"+ae.getDate()+"-"+ae.getFullYear();if(w[W]!=null){T.push(w[W])}}if(T.length==0){return}var N=[];var ab=[];for(var ac=0;ac<T.length;ac++){var L=T[ac][0];ab.push(T[ac]);if(L.nextSibling==null){N.push(ab);ab=[]}}if(ab.length>0){N.push(ab)}for(var ac=0;ac<N.length;ac++){var T=N[ac];var Y;var L=null;if(T[0].length>1){for(Y=1;Y<T[0].length;Y++){var Q=false;for(var Z=0;Z<T.length;Z++){var P=T[Z][Y];if(P.childNodes.length>0||P.parentNode==null){Q=true;break}}if(!Q){L=T[0][Y];break}}}if(L==null){var R=T[0][T[0].length-1].parentNode;var X=R.nextSibling;var J=T[0][0].parentNode.cloneNode(true);R.parentNode.insertBefore(J,X);for(var Z=0;Z<T[0][0].parentNode.childNodes.length;Z++){var O=T[0][0].parentNode.childNodes[Z];for(var ag in w){if(w.hasOwnProperty(ag)){var I=w[ag];if(I[0]==O){I.push(J.childNodes[Z])}}}}Y=T[0].length-1;L=T[0][Y]}javaxt.dhtml.calendar.Utils.addColSpan(L,T.length);var H=ac>0&&L.previousSibling==null;var U=L.nextSibling==null&&(N.length>1&&ac<N.length-1);var V=aa.createDiv(H,U);var K=document.createElement("div");K.style.width="100%";K.style.height="100%";K.style.position="absolute";var af=document.createElement("div");af.style.height="100%";var ad=H?"0px":r+"px";var G=U?"0px":r+"px";af.style.padding="0px "+G+" 0px "+ad;af.style.position="relative";K.appendChild(af);V.style.height="100%";af.appendChild(V);var M=document.createElement("div");M.style.width="100%";M.style.height=j+"px";M.style.position="relative";if(Y>1){M.style.marginTop=(B*2)+"px"}M.appendChild(K);M.event=aa;M.onclick=function(aj){var ai=E.getListener("eventclick");if(ai!=null){var ak=ai.callback;var ah=ai.scope;ak.apply(ah,[this.event,this,E,aj])}};L.appendChild(M);L.style.height=j+"px";e.push(M)}u()};var u=function(){for(var H in A){if(A.hasOwnProperty(H)){var J=A[H];var G=J.childNodes[0];var O=w[H];var K=0;var Q=0;var I=null;for(var L=1;L<O.length;L++){if(O[L].childNodes.length>0||O[L].parentNode==null){Q++;I=L}}var M=J.parentNode;var N=n(M).top;var P;if(I!=null){var R=M.parentNode.childNodes[I];P=n(R).bottom;K=N-P}else{P=n(M.parentNode.childNodes[0]).top;K=((N-P)+((B*2)-1))}G.style.marginTop=-K+"px"}}};var f=function(){var H=document.createElement("table");H.style.width="100%";H.style.height="100%";H.cellSpacing=0;H.cellPadding=0;H.style.borderCollapse="collapse";var G=document.createElement("tbody");H.appendChild(G);return G};this.getDOM=function(){return x};this.next=function(){z.setMonth(z.getMonth()+1);l(z);o();p()};this.back=function(){z.setMonth(z.getMonth()-1);l(z);o();p()};this.setDate=function(G){if(G==null){G=new Date()}if(z!=null){if(G.getFullYear()==z.getFullYear()&&G.getMonth()==z.getMonth()){z=G;return}}z=G;l(z);o();p()};this.getDate=function(){return z};var l=function(K){var H=K.getFullYear();var I=K.getMonth()+1;var J=new Date(H,I-1,1);var G=new Date(H,I,0);i=Math.ceil((J.getDay()+G.getDate())/7);c=new Date(J);c.setDate(c.getDate()-J.getDay());v=new Date(G);v.setDate(v.getDate()+(6-G.getDay()))};this.getDateRange=function(){return{startDate:new Date(c),endDate:new Date(v)}};this.getTitle=function(){return(javaxt.dhtml.calendar.Utils.monthNames[z.getMonth()]+" "+z.getFullYear())};var p=function(){var H=h.getEvents();for(var G=0;G<H.length;G++){E.addEvent(H[G])}};var n=javaxt.dhtml.calendar.Utils.getRect;var s=javaxt.dhtml.calendar.Utils.initDrag;var k=function(G){if(q){console.log(G)}};t()};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Utils={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],getDaysBetween:function(c,d){function b(f){var e=new Date(f);e.setMinutes(e.getMinutes()-e.getTimezoneOffset());return e}var a=24*60*60*1000;return(b(d)-b(c))/a},addColSpan:function(c,b){if(b<2){return}c.colSpan=b;var a=function(k,g){if(k==null){return}var l=k;var j=l.parentNode;var d=0;var e=[];while(d<g){var h=l.colSpan;if(h==null||h<2){h=1}d=d+h;e.push(l);l=l.nextSibling;if(l==null){break}}for(var f=0;f<e.length;f++){j.removeChild(e[f])}};a(c.nextSibling,b-1)},getRect:function(e){if(e.getBoundingClientRect){return e.getBoundingClientRect()}else{var a=0;var g=0;var b=e.offsetWidth;var d=e.offsetHeight;function c(h){return h===parseFloat(h)}var f=e;do{a+=e.offsetLeft-e.scrollLeft;g+=e.offsetTop-e.scrollTop}while(e=e.offsetParent);e=f;do{if(c(e.scrollLeft)){a-=e.scrollLeft}if(c(e.scrollTop)){g-=e.scrollTop}}while(e=e.parentNode);return{left:a,right:a+b,top:g,bottom:g+d,width:b,height:d}}},initDrag:function(o,l,A){var u=null;var t=false;o.onmousedown=function(C){u=setTimeout(function(){u=null;t=true;b(C);if(document.addEventListener){document.addEventListener("mousemove",n);document.addEventListener("mouseup",h)}else{if(document.attachEvent){document.attachEvent("onmousemove",n);document.attachEvent("onmouseup",h)}}},A)};var h=function(G){var E=B(o);E.className=E.className.replace(/(?:^|\s)javaxt-cal-event-drag(?!\S)/g,"");o.style.zIndex="";if(u){clearTimeout(u);var F=l.getListener("eventclick");if(F!=null){var H=F.callback;var D=F.scope;H.apply(D,[o.event,o,l,G])}}else{if(t){t=false;if(document.removeEventListener){document.removeEventListener("mousemove",n);document.removeEventListener("mouseup",h)}else{if(document.detachEvent){document.detachEvent("onmousemove",n);document.detachEvent("onmouseup",h)}}o.style.cursor="pointer";v(o);var C=document.getElementsByTagName("body")[0];C.className=C.className.replace(/(?:^|\s)javaxt-noselect(?!\S)/g,"")}}};o.onmouseup=h;var x,w,g,f;var y,m;var c=function(C){w=C.changedTouches[0].pageX;f=C.changedTouches[0].pageY;if(y&&t===false){y.scrollTop=m+(g-f)}};var d=function(){if(document.removeEventListener){document.removeEventListener("touchmove",c);document.removeEventListener("touchend",d)}else{if(document.detachEvent){document.detachEvent("ontouchmove",c);document.detachEvent("ontouchend",d)}}};o.ontouchstart=function(D){D.preventDefault();var F=D.touches[0];var C=F.pageX;var E=F.pageY;x=D.changedTouches[0].pageX;g=D.changedTouches[0].pageY;y=l.getScrollDiv();if(y){m=y.scrollTop;if(document.addEventListener){document.addEventListener("touchmove",c);document.addEventListener("touchend",d)}else{if(document.attachEvent){document.attachEvent("ontouchmove",c);document.attachEvent("ontouchend",d)}}}l.disableTouch();u=setTimeout(function(){u=null;var G=Math.sqrt((w-=x)*w+(f-=g)*f);if(G<0){G=-G}if(G>10){t=false;return}t=true;b({clientX:C,clientY:E});if(document.addEventListener){o.addEventListener("touchmove",i)}else{if(document.attachEvent){o.attachEvent("ontouchmove",i)}}},A)};o.ontouchend=function(G){l.enableTouch();if(u){clearTimeout(u);var F=l.getListener("eventclick");if(F!=null){var J=F.callback;var E=F.scope;var I=G.changedTouches[0];var C=I.pageX;var H=I.pageY;J.apply(E,[o.event,o,l,{clientX:C,clientY:H}])}}else{if(t){t=false;v(o);var D=B(o);D.className=D.className.replace(/(?:^|\s)javaxt-cal-event-drag(?!\S)/g,"");o.style.zIndex="";if(document.removeEventListener){o.removeEventListener("touchmove",i)}else{if(document.detachEvent){o.detachEvent("ontouchmove",i)}}}}};var n=function(D){var C=D.clientX;var E=D.clientY;o.style.left=(C-o.xOffset)+"px";o.style.top=(E-o.yOffset)+"px"};var i=function(D){D.preventDefault();var F=D.touches[0];var C=F.pageX;var E=F.pageY;n({clientX:C,clientY:E})};var b=function(J){var O=J.clientX;var L=J.clientY;var N=k(o);var M=N.top-parseInt(o.style.marginTop);var K=O-N.left;var E=l.hasHours()?(N.height/2):L-M;var H=o.parentNode;var F={width:o.style.width,left:o.style.left,top:o.style.top,rect:N};o.orgStyle=F;o.orgParent=H;o.xOffset=K;o.yOffset=E;var I=document.getElementsByTagName("body")[0];if(!I.className.match(/(?:^|\s)javaxt-noselect(?!\S)/)){I.className+=(I.className.length==0?"":" ")+"javaxt-noselect"}var G=o.nextSibling;H.removeChild(o);I.appendChild(o);if(l.hasHours()==false&&G!=null){var C=document.createElement("div");C.style.width="100%";C.style.height=N.height+"px";C.style.marginTop=o.style.marginTop;H.insertBefore(C,G);C.event=o.event}o.style.position="absolute";o.style.width=N.width+"px";o.style.left=N.left+"px";o.style.top=(L-E)+"px";o.style.cursor="move";o.style.zIndex=a();var D=B(o);D.className+=" javaxt-cal-event-drag"};var v=function(J){var E=k(J);var Q=E.top;var H=r(E);if(H.length==0){j(J);return}var D;if(H.length==1){D=H[0]}else{var T={};var I=[];for(var M=0;M<H.length;M++){var D=H[M];var O=s(E,D);I.push(O);T[O]=D}I.sort(function(V,U){return U-V});D=T[I[0]]}var L=J.event;var P=L.getStartDate();var K=(P.getMonth()+1)+"-"+P.getDate()+"-"+P.getFullYear();if(D.id==K){if(l.hasHours()){var S=1;var R=Q-J.orgStyle.rect.top;var P=Math.sqrt(S*S+R*R);if(P<15){j(J);return}var G=L.getStartDate();var N=L.getEndDate();p(z(Q+5,J),G,N);e(L,G,N)}else{j(J)}}else{var C=D.id.split("-");var G=L.getStartDate();G.setFullYear(parseInt(C[2]));G.setMonth(parseInt(C[0])-1);G.setDate(parseInt(C[1]));var F=Math.round((G.getTime()-L.getStartDate().getTime())/(24*60*60*1000));var N=L.getEndDate();N.setDate(N.getDate()+F);if(l.hasHours()){p(z(Q+5,J),G,N)}e(L,G,N)}};var e=function(E,C,G){var D=function(I){if(I==true){var H=o.parentNode;H.removeChild(o);l.removeEvent(E);E.setStartDate(C);E.setEndDate(G);l.addEvent(E);F=l.getListener("aftermove");if(F!=null){F.callback.apply(F.scope,[E,l])}}else{j(o)}};var F=l.getListener("beforemove");if(F!=null){F.callback.apply(F.scope,[E,new Date(C),new Date(G),D])}else{D(true)}};var j=function(I){var C=I.parentNode;C.removeChild(I);var E=I.orgStyle;I.style.left=E.left;I.style.top=E.top;I.style.width=E.width;if(l.hasHours()){I.orgParent.appendChild(I)}else{I.style.position="relative";var D=null;var H=I.event;for(var F=0;F<I.orgParent.childNodes.length;F++){if(I.orgParent.childNodes[F].event.equals(H)){D=I.orgParent.childNodes[F];break}}if(D==null){I.orgParent.appendChild(I)}else{var G=D.nextSibling;if(G==null){I.orgParent.removeChild(D);I.orgParent.appendChild(I)}else{I.orgParent.insertBefore(I,D);I.orgParent.removeChild(D)}}}I.orgParent=null;I.orgStyle=null};var B=function(E){var C=E;while(C.childNodes.length>0){var D=C.childNodes[0];if(D.className.match(/(?:^|\s)javaxt-cal-event(?!\S)/)){return D}else{C=D}}};var r=function(F){var C=F.left;var H=F.right;var I=F.top;var G=F.bottom;var E=[];var D=function(J){if(J==null){return}for(var K=0;K<E.length;K++){if(E[K].id==J.id){return}}E.push(J)};D(q(C,I));D(q(C,G));D(q(H,G));D(q(H,I));return E};var q=function(J,H){var L=l.getCells();for(var G=0;G<L.length;G++){var K=L[G];var I=K.rect;var F=I.left;var D=I.right;if(J>=F&&J<=D){var E=I.top;var C=I.bottom;if(H>=E&&H<=C){return K}}}return null};var s=function(F,O){var L=O.rect;var I=L.left;var E=L.right;var G=L.top;var D=L.bottom;var H=F.left;var N=F.right;var K=F.top;var C=F.bottom;if(H<I){H=I}if(N>E){N=E}if(K<G){K=G}if(C>D){C=D}var M=N-H;var J=C-K;return M*J};var z=function(M,D){var N=[];var K=D.orgParent;for(var I=0;I<K.childNodes.length;I++){var E=K.childNodes[I];var F=E.tagName.toLowerCase();if(F=="table"){var J=E.childNodes[0];for(var H=0;H<J.childNodes.length;H++){N.push(J.childNodes[H])}}}for(var I=0;I<N.length;I++){var L=k(N[I]);var G=L.top;var C=L.bottom;if(M>=G&&M<=C){return(I/2)}}return null};var p=function(H,D,G){var F=H-(D.getHours()+(D.getMinutes()/60));var E=Math.floor(F);var C=Math.abs((F%1)*60);D.setHours(D.getHours()+E);D.setMinutes(D.getMinutes()+C);G.setHours(G.getHours()+E);G.setMinutes(G.getMinutes()+C)};var k=javaxt.dhtml.calendar.Utils.getRect;var a=function(F){var E=0;var C=0;var G=Array();if(F){G=F.getElementsByTagName("*")}else{G=document.getElementsByTagName("*")}for(var D=0;D<G.length;D++){if(G[D].currentStyle){C=parseFloat(G[D].currentStyle.zIndex)}else{if(window.getComputedStyle){C=parseFloat(document.defaultView.getComputedStyle(G[D],null).getPropertyValue("z-index"))}}if(!isNaN(C)&&C>E){E=C}}return(E+1)}}};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.View=function(a,b){this.next=function(){};this.back=function(){};this.getDate=function(){};this.setDate=function(){};this.getDateRange=function(){};this.hasHours=function(){};this.getTitle=function(){};this.addEvent=function(e){};this.removeEvent=function(e){};this.getEvents=function(){};this.getEventStore=function(){};this.refresh=function(){};this.clear=function(){};this.show=function(){};this.hide=function(){};this.showFooter=function(){};this.hideFooter=function(){};this.getDOM=function(){};this.enableTouch=function(){};this.disableTouch=function(){};this.getScrollDiv=function(){};this.addEvents=function(f){for(var e=0;e<f.length;e++){a.addEvent(f[e])}};this.getCells=function(){};this.getListener=function(e){var g=b.listeners;if(g!=null){var f=g.scope;if(f==null){f=a}var h=g[e];if(h!=null){return{callback:h,scope:f}}}return null};this.addListener=function(e,h,g){var f=b.listeners;if(f==null){f={}}f[e]={callback:h,scope:g==null?a:g}};this.removeListener=function(e){var f=b.listeners;if(f!=null){delete f[e]}};var d=this;for(var c in d){if(d.hasOwnProperty(c)){if(a[c]==null){a[c]=d[c]}}}};
if(!javaxt.dhtml.calendar){javaxt.dhtml.calendar={}}javaxt.dhtml.calendar.Week=function(c,a){this.className="javaxt.dhtml.calendar.Week";var d=this;var b;var e=function(){var i=a;a={};for(var g in i){if(i.hasOwnProperty(g)){a[g]=i[g]}}a.days=7;b=a.listeners;if(b!=null){a.listeners={beforerender:function(j){for(var k in j){if(j.hasOwnProperty(k)){if(d[k]==null){d[k]=j[k]}}}var l=d.getListener("beforerender");if(l!=null){l.callback.apply(l.scope,arguments)}}};for(var h in b){if(b.hasOwnProperty(h)){if(h!="beforerender"){(function(j){a.listeners[j]=function(){var k=d.getListener(j);if(k!=null){k.callback.apply(k.scope,arguments)}}})(h)}}}}var f=new javaxt.dhtml.calendar.Day(c,a);f.getListener=d.getListener};this.getListener=function(f){if(b!=null){var g=b.scope;if(g==null){g=d}var h=b[f];if(h!=null){return{callback:function(){for(var j=0;j<arguments.length;j++){if(arguments[j] instanceof javaxt.dhtml.calendar.Day){arguments[j]=d}}h.apply(g,arguments)},scope:g}}}return null};e()};
javaxt.dhtml.Callout=function(n,e){this.className="javaxt.dhtml.Callout";var j=this;var b,g,h,l,c;var d=false;var i={position:"absolute",style:{panel:{border:"1px solid #c5d9e8",backgroundColor:"#eef4f9",borderRadius:"6px",boxShadow:"0 12px 14px 0 rgba(0, 0, 0, 0.2), 0 13px 20px 0 rgba(0, 0, 0, 0.2)"},arrow:{borderColor:"#c5d9e8",backgroundColor:"#eef4f9",width:"10px",height:"10px",padding:"10px"}}};var o=function(){var w={};k(w,e);k(w,i);e=w;b=f("div",n,"javaxt-callout");if(e.position==="absolute"){b.style.display="none";b.style.position="absolute";b.style.top=b.style.left=0}j.el=b;h=f("div",b,e.style.panel);h.style.position="relative";h.style.margin=0;h.style.padding=0;h.style.borderWidth="1px";g=f("div",h,{width:"100%",height:"100%"});var r=f("div","javaxt-callout");r.style.position="absolute";r.style.visibility="hidden";r.style.display="block";var q=document.getElementsByTagName("body")[0];q.appendChild(r);r=f("div",r,e.style.arrow);var t=r.currentStyle||window.getComputedStyle(r);var p=function(B){var y=function(D){if(t.getPropertyValue){var C=t.getPropertyValue(D);if(C&&C.length>0){return C}D=D.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return t.getPropertyValue(D)}else{return t[D]}};if(B instanceof Array){var x=B;for(var z=0;z<x.length;z++){var A=y(x[z]);if(A&&A.length>0){return A}}}else{return y(B)}};e.arrow={backgroundColor:p("backgroundColor"),borderColor:p(["borderColor","borderLeftColor","borderRightColor","borderTopColor","borderBottomColor"]),paddingTop:parseInt(p("paddingTop")),paddingBottom:parseInt(p("paddingBottom")),paddingLeft:parseInt(p("paddingLeft")),paddingRight:parseInt(p("paddingRight"))};r.style.border=0;r.style.padding=0;r.style.margin=0;e.arrow.width=r.offsetWidth;e.arrow.height=r.offsetHeight;q.removeChild(r.parentNode);r=null;l=f("b");l.setAttribute("desc","notch");l.style.position="absolute";l.style.top=0;l.style.left=0;l.style.margin=0;l.style.padding=0;l.style.width=0;l.style.height=0;l.style.fontSize=0;l.style.lineHeight=0;c=f("b",b);c.setAttribute("desc","notchBorder");c.style.position="absolute";c.style.top=0;c.style.left=0;c.style.margin=0;c.style.padding=0;c.style.width=0;c.style.height=0;c.style.fontSize=0;c.style.lineHeight=0;b.appendChild(l);if(e.position==="absolute"){var v=function(){j.hide()};var s=function(A){var z=A.clientX;var B=A.clientY;m(z,B)};var u=function(A){var z=A.changedTouches[0].pageX;var B=A.changedTouches[0].pageY;m(z,B)};if(document.addEventListener){document.addEventListener("click",s);document.addEventListener("touchstart",u);window.addEventListener("resize",v)}else{if(document.attachEvent){document.attachEvent("onclick",s);document.attachEvent("ontouchstart",u);window.attachEvent("onresize",v)}}}};var m=function(p,u){if(d){return}if(b.style.display==="block"){var r=parseInt(b.style.left);var q=r+b.offsetWidth;var t=parseInt(b.style.top);var s=t+b.offsetHeight;if(p<r||p>q){j.hide()}else{if(u<t||u>s){j.hide()}}}};this.getInnerDiv=function(){return g};this.getSize=function(){var p;if(b.style.display==="none"){b.style.visibility="hidden";b.style.display="block";p={width:b.offsetWidth,height:b.offsetHeight};b.style.visibility="";b.style.display="none"}else{p={width:b.offsetWidth,height:b.offsetHeight}}return p};this.show=function(){d=true;b.style.zIndex=a();b.style.display="block";j.onShow();setTimeout(function(){d=false},500)};this.showAt=function(A,w,s,u){d=true;b.style.visibility="hidden";b.style.display="block";var C=e.arrow.backgroundColor;var r=e.arrow.borderColor;var q=Math.max(e.arrow.width,e.arrow.height);var p=0;var B=q;var v=q;var t=function(){if(u==="left"){p=e.arrow.paddingLeft;b.style.left=(A-(p+B))+"px";l.style.left=c.style.left=p+"px"}else{if(u==="right"){p=e.arrow.paddingRight;b.style.left=((A-b.offsetWidth)+(p+B))+"px";l.style.left=c.style.left=(b.offsetWidth-(p+(B*2)))+"px"}else{if(u==="center"||u==="middle"){var x=b.offsetWidth/2;b.style.left=(A-x)+"px";l.style.left=c.style.left=(x-B)+"px"}else{return}}}};var z=function(){h.style.top="0px";if(u==="top"){p=e.arrow.paddingTop;b.style.top=(w-(p+B))+"px";l.style.top=c.style.top=p+"px"}else{if(u==="bottom"){p=e.arrow.paddingBottom;b.style.top=((w-b.offsetWidth)+(p+B))+"px";l.style.top=c.style.top=(b.offsetHeight-(p+(B*2)))+"px"}else{if(u==="middle"||u==="center"){var x=b.offsetHeight/2;b.style.top=(w-x)+"px";l.style.top=c.style.top=(x-B)+"px"}else{return}}}};if(s==="above"){l.style.borderTop=c.style.borderTop=q+"px solid "+C;l.style.borderLeft=c.style.borderLeft=q+"px solid transparent";l.style.borderRight=c.style.borderRight=q+"px solid transparent";l.style.borderBottom=c.style.borderBottom=0;c.style.borderTopColor=r;b.style.left=A+"px";b.style.top=((w-b.offsetHeight)-v)+"px";h.style.top="0px";l.style.top=(b.offsetHeight-1)+"px";c.style.top=b.offsetHeight+"px";t()}else{if(s==="below"){l.style.borderTop=c.style.borderTop=0;l.style.borderLeft=c.style.borderLeft=q+"px solid transparent";l.style.borderRight=c.style.borderRight=q+"px solid transparent";l.style.borderBottom=c.style.borderBottom=q+"px solid "+C;c.style.borderBottomColor=r;b.style.left=A+"px";b.style.top=w+"px";h.style.top=v+"px";l.style.top="1px";c.style.top="0px";t()}else{if(s==="left"){l.style.borderTop=c.style.borderTop=q+"px solid transparent";l.style.borderLeft=c.style.borderLeft=q+"px solid "+C;l.style.borderRight=c.style.borderRight=0;l.style.borderBottom=c.style.borderBottom=q+"px solid transparent";c.style.borderLeftColor=r;b.style.left=(A-(b.offsetWidth+v))+"px";h.style.left="0px";l.style.left=(b.offsetWidth-1)+"px";c.style.left=b.offsetWidth+"px";z()}else{if(s==="right"){l.style.borderTop=c.style.borderTop=q+"px solid transparent";l.style.borderLeft=c.style.borderLeft=0;l.style.borderRight=c.style.borderRight=q+"px solid "+C;l.style.borderBottom=c.style.borderBottom=q+"px solid transparent";c.style.borderRightColor=r;b.style.left=A+"px";h.style.left=v+"px";l.style.left="1px";c.style.left="0px";z()}else{return}}}}b.style.visibility="";j.show()};this.hide=function(){b.style.display="none";d=false;j.onHide()};this.isVisible=function(){return(b.style.display!=="none")};this.onShow=function(){};this.onHide=function(){};var k=javaxt.dhtml.utils.merge;var a=javaxt.dhtml.utils.getNextHighestZindex;var f=javaxt.dhtml.utils.createElement;o()};
javaxt.dhtml.Carousel=function(j,v){this.className="javaxt.dhtml.Carousel";var w=this;var f,x;var s;var q=false;var t;var g;var l={animate:true,animationSteps:250,transitionEffect:"linear",fx:null,loop:false,slideOver:false,drag:true,dragCursor:"ew-resize",visiblePanels:1,padding:0};var o=function(){if(typeof j==="string"){j=document.getElementById(j)}if(!j){return}var E={};h(E,v);h(E,l);v=E;for(var B in v){if(v.hasOwnProperty(B)){if(typeof v[B]=="function"){if(w[B]&&typeof w[B]=="function"){w[B]=v[B]}}}}var y=[];if(v.items){y=v.items}else{for(var A=0;A<j.childNodes.length;A++){var C=j.childNodes[A];if(C.nodeType===1){y.push(C)}}for(var A=0;A<y.length;A++){j.removeChild(y[A])}j.innerHTML=""}f=n("div",j,{width:"100%",height:"100%",position:"relative"});f.className="javaxt-carousel";w.el=f;var z=n("div",f,{width:"100%",height:"100%",position:"absolute",overflow:"hidden"});var D=v.padding;if(D>0){z.style.padding="0 "+D+"px";z.style.left=-D+"px"}f.appendChild(z);x=n("div",z,{left:"0px",height:"100%",position:"absolute"});if(v.drag===true){c();p(x)}for(var A=0;A<y.length;A++){w.add(y[A])}d(w);g=i(j,function(){w.resize()});e(f,function(){w.resize();w.onRender()})};this.destroy=function(){if(g){g.destroy()}w.disableAnimation();q=true;r(w);w=null;return w};this.onRender=function(){};this.onResize=function(){};this.add=function(A){var y=parseInt(x.style.width);if(isNaN(y)){y=0}var C=n("div",x,{width:f.offsetWidth+"px",height:"100%",position:"relative",display:"inline-block"});var B=v.padding;if(B>0){C.style.width=(f.offsetWidth+(B*2))+"px"}var z=n("div",C,{width:"100%",height:"100%",position:"absolute",overflow:"hidden"});if(B>0){z.style.padding="0 "+B+"px";z.style.width=f.offsetWidth+"px"}z.appendChild(A);x.style.width=(y+C.offsetWidth)+"px";if(!s){s=C}w.resize()};this.clear=function(){s=null;x.innerHTML="";x.style.left="0px";q=false;u()};this.resize=function(){var y=f.offsetWidth;if(y===0||isNaN(y)){var A;var z=function(){var B=f.offsetWidth;if(B===0||isNaN(B)){A=setTimeout(z,100)}else{clearTimeout(A);u()}};A=setTimeout(z,100)}else{u()}};var u=function(){var B=f.offsetWidth;var D=v.padding;if(D>0){B+=(D*2)}var y=x.childNodes.length;x.style.width=(B*y)+"px";var C=0;for(var A=0;A<y;A++){x.childNodes[A].style.width=B+"px";if(D>0){var z=x.childNodes[A].childNodes[0];z.style.width=f.offsetWidth+"px"}if(x.childNodes[A]==s){C=A}}w.onResize();if(q){return}x.style.left=-(C*B)+"px"};var a=function(z,y,B,A,D,I){if(v.fx){setTimeout(function(){v.fx.setTransition(z,v.transitionEffect,v.animationSteps);z.style.left=B+"px";setTimeout(function(){z.style.WebkitTransition=z.style.MozTransition=z.style.MsTransition=z.style.OTransition=z.style.transition="";if(I){I.apply(w,[])}},v.animationSteps+50)},50)}else{var E=new Date().getTime();var H=E-A;if(D<=H){z.style.left=B+"px";if(I){I.apply(w,[])}return}D-=H;var F=y-B;var G=1-(D/v.animationSteps);var C=Math.round(G*F);z.style.left=y-C+"px";setTimeout(function(){a(z,y,B,E,D,I)},33)}};this.next=function(){if(v.animate===true){if(q){return}q=true}var A=parseInt(x.style.left);var G;var z=s.childNodes[0].childNodes[0];var J;var D=function(L){var K=A-G;if(v.animate===true){a(x,A,K,new Date().getTime(),v.animationSteps,L)}else{x.style.left=K+"px";if(L){L.apply(w,[])}}};var B=function(N){var L=0;for(var K=0;K<x.childNodes.length;K++){var M=x.childNodes[K];L+=M.offsetWidth;if(M===s){break}}N.style.display="none";s.style.marginRight=G+"px";N.style.position="absolute";N.style.zIndex=2;N.style.left=L+"px";N.style.top="0px";N.style.display="";return L};var y=function(K){K.style.display="inline-block";K.style.position="relative";K.style.zIndex="";K.style.left="";K.style.top=""};var H=s.nextSibling;if(H){J=H.childNodes[0].childNodes[0];w.beforeChange(z,J,"next");var E=function(){w.onChange(J,z);s=H;q=false};G=H.offsetWidth;if(v.slideOver===true&&v.animate===true){var I=B(H);a(H,I,I-G,new Date().getTime(),v.animationSteps,function(){var K=A-G;x.style.left=K+"px";s.style.marginRight="0px";y(H);E()})}else{D(E)}}else{if(v.loop===true){var C=x.childNodes[0];G=C.offsetWidth;var F=C.cloneNode(true);x.style.width=(x.offsetWidth+G)+"px";x.appendChild(F);J=F.childNodes[0].childNodes[0];w.beforeChange(z,J,"next");var E=function(){x.style.left=A+"px";x.removeChild(C);x.style.width=(x.offsetWidth-G)+"px";w.onChange(J,z);s=F;q=false};if(v.slideOver===true&&v.animate===true){var I=B(F);a(F,I,I-G,new Date().getTime(),v.animationSteps,function(){s.style.marginRight="0px";y(F);E()})}else{D(E)}}else{q=false}}};this.back=function(){if(v.animate===true){if(q){return}q=true}var B,D,H;var A=s.childNodes[0].childNodes[0];var K;var E=function(L){if(v.animate===true){a(x,B,D,new Date().getTime(),v.animationSteps,L)}else{x.style.left=D+"px";if(L){L.apply(w,[])}}};var C=function(O){var M=0;for(var L=0;L<x.childNodes.length;L++){var N=x.childNodes[L];if(N===O){break}M+=N.offsetWidth}O.style.display="none";s.style.marginLeft=H+"px";O.style.position="absolute";O.style.zIndex=2;O.style.left=M+"px";O.style.top="0px";O.style.display="";return M};var y=function(L){L.style.display="inline-block";L.style.position="relative";L.style.zIndex="";L.style.left="";L.style.top=""};var I=s.previousSibling;if(I){K=I.childNodes[0].childNodes[0];w.beforeChange(A,K,"back");var F=function(){w.onChange(K,A);s=I;q=false};H=I.offsetWidth;B=parseFloat(x.style.left);D=B+H;if(v.slideOver===true&&v.animate===true){var J=C(I);a(I,J,J+H,new Date().getTime(),v.animationSteps,function(){x.style.left=D+"px";s.style.marginLeft="0px";y(I);F()})}else{E(F)}}else{if(v.loop===true){var z=x.childNodes[x.childNodes.length-1];H=z.offsetWidth;var G=z.cloneNode(true);x.style.width=(x.offsetWidth+H)+"px";x.insertBefore(G,x.firstChild);K=G.childNodes[0].childNodes[0];w.beforeChange(A,K,"back");var F=function(){w.onChange(K,A);s=G;q=false};B=-H;D=0;if(v.slideOver===true&&v.animate===true){C(G);var J=-H;G.style.left=J+"px";x.style.width=(x.offsetWidth-H)+"px";s.style.marginLeft="0px";a(G,J,J+H,new Date().getTime(),v.animationSteps,function(){x.removeChild(z);y(G);F()})}else{x.style.left=B+"px";E(function(){x.removeChild(z);x.style.width=(x.offsetWidth-H)+"px";F()})}}else{q=false}}};this.onChange=function(z,y){};this.beforeChange=function(y,A,z){};this.onDragStart=function(y){};this.onDragEnd=function(y){};this.getPanels=function(){var E=[];var B=k(f);var A=parseInt(v.padding);if(isNaN(A)){A=0}for(var D=0;D<x.childNodes.length;D++){var y=x.childNodes[D];var z=k(y);var F=false;var G=0;var C=0;if(z.right>B.left&&z.left<B.right){F=true;if(z.right<B.right){G=z.right-B.left}else{C=B.right-z.left}}if(F){if((G-A>0&&G-A<1)||(C-A>0&&C-A<1)){F=false}}E.push({div:y.childNodes[0].childNodes[0],isVisible:F,visibleArea:m(B,z)})}return E};this.enableAnimation=function(){v.animate=true};this.disableAnimation=function(){v.animate=false};var p=function(){var E=50;var B,C;var G;var y=function(J){w.onDragStart(s.childNodes[0].childNodes[0]);B=J.clientX;C=parseInt(x.style.left);var I=document.getElementsByTagName("body")[0];if(!I.className.match(/(?:^|\s)javaxt-noselect(?!\S)/)){I.className+=(I.className.length==0?"":" ")+"javaxt-noselect"}G=s;x.style.cursor=v.dragCursor};var A=function(N){var Q=N.clientX;var O=B-Q;var J=C-O;x.style.left=J+"px";if(J>0){if(v.loop===true){var S=s.previousSibling;if(S){}else{var I=x.childNodes[x.childNodes.length-1];var R=I.offsetWidth;var P=I.cloneNode(true);x.insertBefore(P,x.firstChild);x.removeChild(I);x.style.left=(-R+parseInt(x.style.left))+"px";B+=R;s=P}}else{}}else{var Q=0;var M=0;for(var L=0;L<x.childNodes.length;L++){var R=x.childNodes[L].offsetWidth;Q=Q-R;M=R}if((J-M)<Q){if(v.loop===true){var K=x.childNodes[0];var R=K.offsetWidth;var P=K.cloneNode(true);x.appendChild(P);x.removeChild(K);x.style.left=(parseInt(x.style.left)+R)+"px";B=B-R;s=P}else{}}}};var z=function(){var I=k(f);var ab=I.x;var Z=ab+I.width;var Y=I.y;var X=Y+I.height;var N=0;var Q=0;for(var T=0;T<x.childNodes.length;T++){var P=x.childNodes[T];var U=k(P);var K=U.x;var aa=K+U.width;var R=U.y;var M=R+U.height;if(K<ab){K=ab}if(aa>Z){aa=Z}if(R<Y){R=Y}if(M>X){M=X}var O=aa-K;var V=M-R;var W=O*V;if(W>N){N=W;Q=T}}var S="Snap to panel "+x.childNodes[Q].innerText;if(S.length>60){S=S.substring(0,60)}var L=parseInt(x.style.left);var J=0;for(var T=0;T<Q;T++){J+=x.childNodes[T].offsetWidth}J=-J;var ad=((L-J)/v.animationSteps);if(ad<0){ad=-ad}var ac=(L-J)>0?"next":"back";a(x,L,J,new Date().getTime(),100,function(){s=x.childNodes[Q];var ae=s.childNodes[0].childNodes[0];w.onDragEnd(ae);if(s!=G){w.beforeChange(G.childNodes[0].childNodes[0],ae,ac);w.onChange(ae,G.childNodes[0].childNodes[0])}})};var F=null;var H=false;x.onmousedown=function(I){if(q){return}if(I.button>0){return}F=setTimeout(function(){F=null;H=true;y(I);if(document.addEventListener){document.addEventListener("mousemove",A);document.addEventListener("mouseup",D)}else{if(document.attachEvent){document.attachEvent("onmousemove",A);document.addEventListener("onmouseup",D)}}},E)};var D=function(J){if(q){return}if(F){clearTimeout(F)}else{if(H){H=false;if(document.removeEventListener){document.removeEventListener("mousemove",A);document.removeEventListener("mouseup",D)}else{if(document.detachEvent){document.detachEvent("onmousemove",A);document.detachEvent("onmouseup",D)}}x.style.cursor="";z();var I=document.getElementsByTagName("body")[0];I.className=I.className.replace(/(?:^|\s)javaxt-noselect(?!\S)/g,"")}}};x.onmouseup=D};var h=javaxt.dhtml.utils.merge;var r=javaxt.dhtml.utils.destroy;var e=javaxt.dhtml.utils.onRender;var k=javaxt.dhtml.utils.getRect;var b=javaxt.dhtml.utils.intersects;var n=javaxt.dhtml.utils.createElement;var m=javaxt.dhtml.utils.getAreaOfIntersection;var i=javaxt.dhtml.utils.addResizeListener;var d=javaxt.dhtml.utils.addShowHide;var c=function(){if(t===true){return}javaxt.dhtml.utils.addNoSelectRule();t=true};o()};
javaxt.dhtml.Checkbox=function(o,c){this.className="javaxt.dhtml.Checkbox";var k=this;var h,b,q,n;var g={label:null,value:null,checked:false,disabled:false,style:{panel:{display:"inline-block"},box:{width:"13px",height:"13px",border:"1px solid #ccc",borderRadius:"3px",backgroundColor:"#F6F6F6",cursor:"pointer",margin:"0px",color:"#2b2b2b"},label:{fontFamily:"helvetica,arial,verdana,sans-serif",fontSize:"14px",whiteSpace:"nowrap",cursor:"pointer",padding:"1px 0 0 5px"},check:{content:"",display:"block",width:"3px",height:"6px",border:"solid #fff",borderWidth:"0 2px 2px 0",transform:"rotate(45deg)",margin:"1px 0 0 4px"},select:{backgroundColor:"#007FFF",border:"1px solid #003EFF",color:"#fff"},disable:{cursor:"default"},hover:{backgroundColor:"#ededed"}}};var p=function(){if(typeof o==="string"){o=document.getElementById(o)}if(!o){return}var u={};l(u,c);l(u,g);c=u;k.el=d("span",o,"javaxt-checkbox");a(k);var r=d("div",k.el,c.style.panel);r.style.position="relative";if(c.display){console.warn("The 'display' config in the javaxt.dhtml.Checkbox class has been deprecated. Use panel style instead");r.style.display=c.display}if(c.label){var s=m(r);s.style.fontFamily="inherit";s.style.textAlign="inherit";s.style.color="inherit";s.style.width="";s.style.height="";var t=s.addRow();h=d("div",t.addColumn(),c.style.box);n=d("div",t.addColumn(),c.style.label);if(j(c.label)){n.appendChild(c.label)}else{n.innerHTML=c.label}f(s)}else{h=d("div",r,c.style.box);f(h)}if(c.disabled===true){k.disable()}if(c.checked===true){k.select()}};var f=function(r){r.unselectable="on";r.onselectstart=function(){return false};r.onmousedown=function(){e(h,"select");return false};var z=function(){if(c.sound!=null){c.sound.play()}k.toggle();k.onClick(h.checked)};var v;var y;var t,s,x,w;var u=false;r.ontouchstart=function(A){u=true;A.preventDefault();t=A.changedTouches[0].pageX;x=A.changedTouches[0].pageY;v=new Date().getTime();y=null;if(h.checked!==true){e(h,"hover")}};r.ontouchend=function(B){y=new Date().getTime();s=B.changedTouches[0].pageX;w=B.changedTouches[0].pageY;var C=Math.sqrt((s-=t)*s+(w-=x)*w);if(C<0){C=-C}var A=y-v;if((A<=500&&C<=10)||(A>500&&C<=10)){z()}};r.onclick=function(){if(!u){z()}};r.onmouseover=function(){if(h.checked!==true){e(h,"hover")}};r.onmouseout=function(){if(h.checked!==true){i(h,"box")}}};this.onClick=function(r){};this.onChange=function(r){};this.enable=function(){q.style.visibility="hidden";h.style.opacity="";n.style.opacity=""};this.disable=function(){if(q){q.style.visibility="visible"}else{q=d("div",c.style.disable);q.style.position="absolute";q.style.zIndex="1";q.style.width="100%";q.style.height="100%";var r=k.el.firstChild;r.insertBefore(q,r.firstChild)}h.style.opacity="0.5";n.style.opacity="0.5"};this.select=function(r){if(h.checked===true){return}h.checked=true;e(h,"select");if(b){b.style.visibility="visible"}else{b=d("div",h,c.style.check)}if(r===true){return}k.onChange(true)};this.deselect=function(r){if(h.checked===true){h.checked=false;i(h,"box");b.style.visibility="hidden";if(r===true){return}k.onChange(false)}};this.toggle=function(){if(h.checked===true){k.deselect()}else{k.select()}};this.getValue=function(){if(c.value==null){return k.isChecked()}return c.value};this.isChecked=function(){return h.checked===true};var d=javaxt.dhtml.utils.createElement;var m=javaxt.dhtml.utils.createTable;var a=javaxt.dhtml.utils.addShowHide;var j=javaxt.dhtml.utils.isElement;var l=javaxt.dhtml.utils.merge;var i=function(s,r){javaxt.dhtml.utils.setStyle(s,c.style[r])};var e=function(s,r){javaxt.dhtml.utils.addStyle(s,c.style[r])};p()};
javaxt.dhtml.ComboBox=function(l,A){this.className="javaxt.dhtml.ComboBox";var B=this;var q,b,x;var C,k,u;var z,o;var r={placeholder:false,spellcheck:false,maxVisibleRows:5,scrollbar:true,showMenuOnFocus:true,typeAhead:true,readOnly:false,options:[],addNewOption:false,addNewOptionText:"Add New...",style:{width:"100%",input:{color:"#363636",fontSize:"14px",height:"24px",lineHeight:"24px",padding:"0px 4px",verticalAlign:"middle",transition:"border 0.2s linear 0s, box-shadow 0.2s linear 0s",backgroundColor:"#fff",border:"1px solid #ccc",borderRight:"0 none",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.075) inset"},button:{color:"#363636",height:"24px",width:"24px",border:"1px solid #b4b4b4",cursor:"pointer",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAlklEQVQ4jWNgGAUowNvbW9PBwUEAjxJGHx8f/dDQUB4MGV9f3+TAwMD/AQEB97y8vOSxafb392+BqrlkbGzMhSLr7++/MTAw8D8OQ+CaYdjb21sT3flKAQEBj7AYgqHZz8+vBqsHPT09ldENCQgImIysOSAgoBZPGGEaQpJmfIYQrRmbITj9TAg4ODgIeHp6apGleegAAME5Y+rCcN+AAAAAAElFTkSuQmCC)",backgroundPosition:"3px 3px",backgroundRepeat:"no-repeat",backgroundColor:"#e4e4e4"},menu:{backgroundColor:"#ffffff",border:"1px solid #ccc",marginTop:"-1px",overflow:"hidden",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.15)"},option:{color:"#363636",whiteSpace:"nowrap",height:"22px",lineHeight:"22px",padding:"0px 4px",cursor:"default"},newOption:{borderTop:"1px solid #ccc",color:"#363636",whiteSpace:"nowrap",height:"24px",lineHeight:"24px",padding:"0px 4px",cursor:"default"},iscroll:null}};var y=function(){if(p(l)){l=document.getElementById(l)}if(!l){return}var K={};i(K,A);i(K,r);A=K;javaxt.dhtml.utils.addNoSelectRule();var F=v("div",l);F.className="javaxt-combobox";F.style.width=A.style.width;F.style.position="relative";B.el=F;var O=h(F);O.style.height="";var L=O.addRow();var G=L.addColumn();G.style.width="100%";q=v("input",G);q.type="text";f(q,"input");if(A.readOnly===true){A.spellcheck=false;A.typeAhead=false;q.setAttribute("readonly","true")}if(A.spellcheck===true){}else{q.setAttribute("spellcheck","false")}if(A.placeholder){q.setAttribute("placeholder",A.placeholder)}q.onkeydown=function(P){if(P.keyCode===9){P.preventDefault()}};q.onkeyup=function(P){if(A.readOnly===true){return}if(P.keyCode===9){var Q;if(C.style.visibility!=="hidden"){Q=m()}if(Q){t(Q,true)}else{j()}}else{if(P.keyCode===40){B.showMenu();var Q=m();if(Q){Q.focus()}}else{if(A.typeAhead===true){B.filter()}}}};q.oninput=function(){if(B.isDisabled()===true){return}var P=q.value;var S=q.data;var V=false;var R=q.value.replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();for(var Q=0;Q<k.childNodes.length;Q++){var U=k.childNodes[Q];var T=U.text;if(!T){T=U.innerText}if(p(T)){T=T.toLowerCase()}if(T===R){V=true;q.data=U.value;break}}if(!V){q.data=null}B.onChange(q.value,q.data,P,S)};q.onpaste=q.oninput;q.onpropertychange=q.oninput;g(q);if(A.showMenuOnFocus){q.onclick=function(){if(B.isDisabled()===true){return}B.showMenu(true);d();this.focus()}}b=v("button",L.addColumn());f(b,"button");b.onclick=function(P){b.blur();P.preventDefault();if(C.style.visibility==="hidden"){B.showMenu(true);d()}else{B.hideMenu()}};var D=v("div",F,{position:"relative",width:"100%"});C=v("div",D);C.setAttribute("desc","menuDiv");f(C,"menu");C.style.position="absolute";C.style.visibility="hidden";C.style.display="block";C.style.width="100%";C.style.zIndex=1;C.style.boxSizing="border-box";o=v("div",{position:"relative",width:"100%",height:"100%"});z=o.cloneNode();z.style.position="absolute";z.style.overflow="hidden";o.appendChild(z);k=v("div",z,{position:"relative",width:"100%"});if(A.options){for(var I=0;I<A.options.length;I++){var E=A.options[I];B.add(E.label,E.value)}}if(A.addNewOption===true){var H=h(C);H.style.height="";L=H.addRow();G=L.addColumn({width:"100%",height:"100%",verticalAlign:"top"});G.appendChild(o);G=H.addRow().addColumn();u=v("div",G);f(u,"newOption");var N=c(A.addNewOptionText);u.text=N;u.innerHTML=N;u.tabIndex=-1;var J=function(){B.hideMenu();B.onAddNewOption()};u.onclick=J;u.onkeydown=function(P){if(P.keyCode===9){P.preventDefault()}};u.onkeyup=function(R){if(R.keyCode===9||R.keyCode===13){J()}else{if(R.keyCode===38){var Q;for(var P=k.childNodes.length-1;P>-1;P--){var S=k.childNodes[P];if(S.style.display!=="none"){Q=S;break}}if(Q){Q.focus()}}}};u.onselectstart=function(){return false};u.onmousedown=function(){return false};u.onmouseover=function(){var P=this;B.onMenuHover(N,P.value,P)}}else{C.appendChild(o)}var M=function(P){if(!F.contains(P.target)){B.hideMenu(false)}};if(document.addEventListener){document.addEventListener("click",M)}else{if(document.attachEvent){document.attachEvent("onclick",M)}}g(B)};this.isDisabled=function(){return B.el.disabled};this.enable=function(){var D=B.el;if(x){D.style.opacity="";x.style.visibility="hidden"}D.disabled=false};this.disable=function(){B.hideMenu();var D=B.el;D.style.opacity="0.6";if(x){x.style.visibility="visible"}else{x=v("div",{width:"100%",height:"100%",position:"absolute",zIndex:1});x.setAttribute("desc","mask");D.insertBefore(x,D.firstChild)}D.disabled=true};this.reset=function(){B.hideMenu();var D=[];var F=q.parentElement;var G=F.childNodes;for(var E=0;E<G.length;E++){if(G[E]!=q){D.push(G[E])}}for(var E=0;E<D.length;E++){F.removeChild(D[E])}q.value="";q.data=null;q.show();q.blur()};this.setValue=function(G,D){var I=function(L,K,M){if(s(L)){t(M,false,D)}else{q.value=L;q.data=K;if(D===true){return}q.oninput()}};if(G==null||G===""){I("",null);return}for(var E=0;E<k.childNodes.length;E++){var J=k.childNodes[E];if(J.value===G){var H=J.text;if(!H){H=J.innerText}I(H,J.value,J);return}}var F=c(G).toLowerCase();for(var E=0;E<k.childNodes.length;E++){var J=k.childNodes[E];var H=J.text;if(!H){H=J.innerText}if((p(H)&&H.toLowerCase()===F)||H===F){I(H,J.value,J);return}}};this.getValue=function(){return q.data};this.getText=function(){return q.value};this.getOptions=function(){var D=[];for(var E=0;E<k.childNodes.length;E++){var G=k.childNodes[E];var F=G.text;if(!F){F=G.innerText}D.push({text:F,value:G.value,el:G})}return D};this.getInput=function(){return q};this.getButton=function(){return b};this.onChange=function(D,F,E,G){};this.onAddNewOption=function(){};this.onMenuShow=function(){};this.onMenuHide=function(){};this.onMenuContext=function(D,F,E){};this.onMenuHover=function(D,F,E){};this.filter=function(){B.showMenu();var F=q.value.replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase();var G=0;var E=0;for(var D=0;D<k.childNodes.length;D++){var I=k.childNodes[D];var H=I.text;if(!H){H=I.innerText}if(s(H)){if(s(q.text)){I.style.display="none"}else{I.style.display="none"}}else{if(H.toLowerCase().indexOf(F)===0){I.style.display="";G++;E=Math.max(I.offsetHeight,E)}else{I.style.display="none"}}}a(G,E)};this.clear=function(){B.reset();B.hideMenu();w();C.style.height="";k.innerHTML=""};this.showMenu=function(G){if(C.style.visibility==="hidden"){if(G===true){for(var E=0;E<k.childNodes.length;E++){k.childNodes[E].style.display=""}}var H=0;var F=0;for(var E=0;E<k.childNodes.length;E++){var J=k.childNodes[E];if(J.style.display!=="none"){H++;F=Math.max(J.offsetHeight,F)}}if(A.addNewOption===true){H++;F=Math.max(u.offsetHeight,F)}if(H>0){a(H,F);var D=e();var I=D.zIndex;if(!D.contains(C)){I++}C.style.zIndex=I;C.style.visibility="";q.style.borderBottomColor=b.style.borderBottomColor="rgba(0,0,0,0)";if(B.iScroll){setTimeout(function(){B.iScroll.scrollTo(0,0);B.iScroll.refresh()},0)}else{z.scrollTop=0}B.onMenuShow()}}};this.hideMenu=function(){if(C.style.visibility!=="hidden"){var D=!q.isVisible();q.style.borderBottomColor=b.style.borderBottomColor="";f(q,"input");f(b,"button");q.style.width="100%";C.style.visibility="hidden";C.style.zIndex=1;if(D){q.hide()}else{if(arguments[0]!==false){q.focus()}}B.onMenuHide()}};var a=function(F,E){if(F>0){if(F>A.maxVisibleRows){n();var D=A.maxVisibleRows*E;if(u){C.style.height=D+"px";D=D-u.offsetHeight;o.style.height=D+"px"}else{C.style.height=D+"px"}}else{w();o.style.height="100%";C.style.height=""}}else{w();o.style.height="100%";C.style.height=""}if(B.iScroll){B.iScroll.refresh()}};var n=function(){z.style.position="absolute";if(A.scrollbar===true){if(typeof IScroll!=="undefined"){if(!B.iScroll){z.style.overflowY="hidden";B.iScroll=new IScroll(z,{scrollbars:A.style.iscroll?"custom":true,mouseWheel:true,fadeScrollbars:false,hideScrollbars:false});if(A.style.iscroll){f(B.iScroll,"iscroll")}}if(B.iScroll){B.iScroll.refresh()}}else{z.style.overflowY="scroll"}}else{z.style.overflowY="hidden"}};var w=function(){z.style.position="relative";if(A.addNewOption===true){if(typeof IScroll!=="undefined"){}else{z.style.overflowY=""}}};var d=function(){var H=function(M){if(true){return}if(B.iScroll){setTimeout(function(){B.iScroll.scrollToElement(M);B.iScroll.refresh();M.focus()},100)}else{z.scrollTop=M.offsetTop;M.focus()}};for(var F=0;F<k.childNodes.length;F++){var D=k.childNodes[F];var L=D.text;if(!L){L=D.innerText}if(L===q.value){H(D);return}}var J=q.value;var G=null;var I=0;for(var F=0;F<k.childNodes.length;F++){var D=k.childNodes[F];var L=D.text;if(!L){L=D.innerText}var K=0;for(var E=0;E<Math.min(J.length,L.length);E++){if(J.charAt(E)!==L.charAt(E)){break}K++}if(K>I){G=D;I=K}}if(G){H(G);return}};this.add=function(D,E){var F=v("div",k);f(F,"option");F.setLabel=function(G){if(s(G)){F.appendChild(G)}else{G=c(G);F.innerHTML=G}F.text=G;return G};F.setText=F.setLabel;D=F.setLabel(D);F.value=(typeof E==="undefined")?D:E;F.tabIndex=-1;F.onclick=function(){t(this)};F.onkeydown=function(G){if(G.keyCode===9){G.preventDefault()}};F.onkeyup=function(I){if(I.keyCode===9||I.keyCode===13){t(this,true)}else{if(I.keyCode===38){var G=this.previousSibling;if(G){G.focus()}}else{if(I.keyCode===40){var H=this.nextSibling;if(H){H.focus()}else{if(u){u.focus()}}}}}};F.onselectstart=function(){return false};F.onmousedown=function(){return false};F.oncontextmenu=function(){var H=this;var G=H.text;if(!G){G=H.innerText}B.onMenuContext(G,H.value,H)};F.onmouseover=function(){var H=this;var G=H.text;if(!G){G=H.innerText}B.onMenuHover(G,H.value,H)};return F};this.remove=function(G){for(var E=0;E<k.childNodes.length;E++){var I=k.childNodes[E];if(I.value===G){k.removeChild(I);if(B.getValue()===G){B.setValue("",true)}return}}var F=c(G).toLowerCase();var D=[];for(var E=0;E<k.childNodes.length;E++){var I=k.childNodes[E];var H=I.text;if(!H){H=I.innerText}if(p(H)){H=H.toLowerCase()}if(H===F){D.push(I);if(B.getValue()===I.value){B.setValue("",true)}}}for(E=0;E<D.length;E++){k.removeChild(D[E])}};this.removeAll=function(){k.innerHTML=""};var c=function(D){if(D){if(p(D)||s(D)){}else{D+=""}}else{D=""}return D};var t=function(F,L,K){if(F){var J=q.data;var I=F.value;var E=q.value;var G=F.text;if(!G){G=F.innerText}q.value=G;q.data=I;B.hideMenu();if(I!==J){if(E!==G){B.reset();q.value=G;q.data=I;if(s(G)){var D=v("div",q.parentElement);D.className=q.className;D.style.width="100%";var H=G.cloneNode(true);D.appendChild(H);if(A.showMenuOnFocus){D.onclick=function(){q.onclick()}}q.hide()}else{q.show()}if(K!==true){B.onChange(q.value,q.data,E,J)}}}if(L===true){j()}}};var j=function(){var E=q.form;if(E){for(var D=0;D<E.elements.length;D++){if(E.elements[D]===q&&D<E.elements.length-2){E.elements[D+2].focus();return}}}};var m=function(){for(var D=0;D<k.childNodes.length;D++){var E=k.childNodes[D];if(E.style.display!=="none"){return E}}return null};var i=javaxt.dhtml.utils.merge;var p=javaxt.dhtml.utils.isString;var s=javaxt.dhtml.utils.isElement;var v=javaxt.dhtml.utils.createElement;var h=javaxt.dhtml.utils.createTable;var g=javaxt.dhtml.utils.addShowHide;var e=javaxt.dhtml.utils.getHighestElements;var f=function(E,D){javaxt.dhtml.utils.setStyle(E,A.style[D]);if(E.type==="text"){E.style.width="100%";if(A.readOnly===true){E.className+=" javaxt-noselect";E.style.cursor="default"}}};y()};
javaxt.dhtml.DataGrid=function(parent,config){this.className="javaxt.dhtml.DataGrid";var me=this;var table;var mask;var currPage=1;var eof=false;var pageRequests={};var loading=false;var checkboxHeader;var columns;var rowHeight;var filterName,filter;var defaultStyle={};if(javaxt.dhtml.style){if(javaxt.dhtml.style.default){var tableStyle=javaxt.dhtml.style.default.table;if(tableStyle){defaultStyle=tableStyle;var checkboxStyle=javaxt.dhtml.style.default.checkbox;defaultStyle.checkbox=checkboxStyle;}}}
var defaultConfig={style:defaultStyle,columns:[],url:"",params:null,payload:null,post:false,limit:50,count:false,autoload:false,localSort:false,fields:[],hideHeader:false,multiselect:false,getResponse:function(url,payload,callback){var contentType;if(!payload&&config.post==true){contentType="application/x-www-form-urlencoded";var idx=url.indexOf("?");if(idx>-1){payload=url.substring(idx+1);url=url.substring(0,idx);}}
javaxt.dhtml.utils.get(url,{payload:payload,contentType:contentType,success:function(text,xml,url,request){callback.apply(me,[request]);},failure:function(request){callback.apply(me,[request]);}});},parseResponse:function(request){return[];},update:function(row,record){for(var i=0;i<record.length;i++){row.set(i,record[i]);}},mask:null};var init=function(){config=merge(config,defaultConfig);filterName=config.filterName;if(config.sort==="local")config.localSort=true;if(config.fields){if(!isArray(config.fields)){config.fields=config.fields.split(",");}}
else{config.fields=[];}
var multiselect=config.multiselect;columns=[];for(var i=0;i<config.columns.length;i++){var column=config.columns[i];if(column.field){var addField=true;for(var j=0;j<config.fields.length;j++){if(config.fields[j]==column.field){addField=false;break;}}
if(addField)config.fields.push(column.field);}
else{if(config.localSort!==true){column.sortable=false;}}
var clone={};for(var p in column){if(column.hasOwnProperty(p)){clone[p]=column[p];}}
var header=column.header;if(header==='x'&&!checkboxHeader){clone.header=createCheckbox();var checkbox=clone.header.checkbox;checkboxHeader={idx:i,isChecked:checkbox.isChecked,check:checkbox.select,uncheck:checkbox.deselect};}
else{clone.header=createHeader(header,column.sortable);}
columns.push(clone);}
setFilter(config.filter);table=new javaxt.dhtml.Table(parent,{multiselect:multiselect,hideHeader:config.hideHeader,columns:columns,style:config.style});table.el.className="javaxt-datagrid";me.el=table.el;mask=config.mask;if(!mask)mask=table.getMask();table.load=function(records,append){if(!append)me.clear();var rows=table.addRows(records.length);var select=false;if(checkboxHeader){select=checkboxHeader.isChecked();}
var isDataStore=(records instanceof javaxt.dhtml.DataStore);for(var i=0;i<rows.length;i++){rows[i].record=isDataStore?records.get(i):records[i];rows[i].update=function(){config.update(this,this.record);};rows[i]._set=rows[i].set;rows[i].set=function(key,val){if(key==='x'){for(var j=0;j<config.columns.length;j++){if(config.columns[j].header==='x'){var field=config.columns[j].field;var col=this.childNodes[j];var obj=col.getContent();if(obj){}
else{val=field?this.record[field]:this.record;var checkboxDiv=createCheckbox(val,this);var checkbox=checkboxDiv.checkbox;if(select)checkbox.select();this._set(j,checkboxDiv);}
return;}}}
else{for(var j=0;j<config.columns.length;j++){if(config.columns[j].header===key&&config.columns[j].wrap===true){val=wrap(val);break;}}
this._set(key,val);}};rows[i]._onclick=rows[i].onclick;rows[i].onclick=function(e){if(checkboxHeader){var insideCheckbox=false;var checkboxCol=this.childNodes[checkboxHeader.idx];var checkbox=checkboxCol.getContent().checkbox;var rect=_getRect(checkbox.el);var clientX=e.clientX;var clientY=e.clientY;if(clientX>=rect.left&&clientX<=rect.right){if(clientY>=rect.top&&clientY<=rect.bottom){insideCheckbox=true;}}
if(insideCheckbox){if(checkbox.isChecked()){var numRows=0;var checkedItems=0;var rows=this.parentNode.childNodes;for(var i=1;i<rows.length;i++){numRows++;var checkboxCol=rows[i].childNodes[checkboxHeader.idx];if(checkboxCol.getContent().checkbox.isChecked()){checkedItems++;}}
if(checkedItems===numRows){checkboxHeader.check();}}
else{checkboxHeader.uncheck();}}
else{if(!e.ctrlKey&&!e.shiftKey){var numSelectedRows=0;table.forEachRow(function(row){if(row.selected){numSelectedRows++;if(numSelectedRows>1){e=new MouseEvent("click",{isTrusted:e.isTrusted,view:e.view,bubbles:e.bubbles,cancelable:e.cancelable,clientX:e.clientX,clientY:e.clientY,screenX:e.screenX,screenY:e.screenY,altKey:e.altKey,ctrlKey:true});return true;}}});}}}
this._onclick(e);};rows[i].update();}
if(!append)table.update();};table.onSelectionChange=function(rows){me.onSelectionChange();};table.onScroll=function(y,maxY,h){var startRow=Math.ceil(y/rowHeight);if(startRow==0)startRow=1;var endRow=Math.ceil((y+h)/rowHeight);var prevPage=currPage;setPage(Math.ceil(endRow/config.limit));var d=Math.abs(maxY-y);if(d<rowHeight){if(!eof){if(currPage===prevPage)setPage(currPage+1);load(currPage);}}
me.onScroll();};table.onHeaderClick=sort;table.onRowClick=function(row,e){me.onRowClick(row,e);};table.onKeyEvent=function(keyCode,modifiers){me.onKeyEvent(keyCode,modifiers);};if(config.autoload===true)load();};this.setFilter=function(newFilter){console.warn("The filter object in the javaxt.dhtml.DataGrid class is a legacy "+"feature and will be removed in the future.");setFilter(newFilter);};var setFilter=function(newFilter){if(!newFilter)newFilter={};if(!filter)filter=newFilter;removeDuplicateParams(newFilter);for(var key in newFilter){if(newFilter.hasOwnProperty(key)){filter[key]=newFilter[key];}}
var deletions=[];for(var key in filter){if(filter.hasOwnProperty(key)){if(newFilter[key]===null||newFilter[key]==='undefined'){deletions.push(key);}}}
for(var i=0;i<deletions.length;i++){var key=deletions[i];delete filter[key];}
for(var j=0;j<columns.length;j++){columns[j].sort=null;var colHeader=columns[j].header;if(colHeader.setSortIndicator)colHeader.setSortIndicator(null);}
if(filter.orderby){var arr=filter.orderby.split(",");for(var i=0;i<arr.length;i++){var field=arr[i].trim();if(field.length>0){var fieldName,sortDirection;field=field.toUpperCase();if(field.endsWith(" ASC")||field.endsWith(" DESC")){var x=field.lastIndexOf(" ");fieldName=field.substring(0,x).trim();sortDirection=field.substring(x).trim();}
else{fieldName=field;sortDirection="ASC";}
for(var j=0;j<columns.length;j++){if(columns[j].field){if(columns[j].field.toUpperCase()===fieldName){columns[j].sort=sortDirection;var colHeader=columns[j].header;if(colHeader.setSortIndicator){colHeader.setSortIndicator(sortDirection);}
break;}}}}}}};this.getFilter=function(){console.warn("The filter object in the javaxt.dhtml.DataGrid class is a legacy "+"feature and will be removed in the future.");return filter;};this.getParams=function(){return config.params;};var setPage=function(page){if(isNaN(page)||page<1)page=1;if(page!=currPage){var prevPage=currPage;currPage=page;me.onPageChange(currPage,prevPage);}};this.getCurrPage=function(){return currPage;};this.getScrollInfo=function(){return table.getScrollInfo();};this.enableScroll=function(){table.enableScroll();};this.disableScroll=function(){table.disableScroll();};this.isScrollEnabled=function(){return table.isScrollEnabled();};this.onScroll=function(){};this.onPageChange=function(currPage,prevPage){};this.onSelectionChange=function(){};this.beforeLoad=function(page){};this.onLoad=function(){};this.onError=function(request){};this.onRowClick=function(row,e){};this.onKeyEvent=function(keyCode,modifiers){};this.onCheckbox=function(value,checked,checkbox){};this.onSort=function(idx,sortDirection){};this.forEachRow=function(callback){table.forEachRow(callback);};this.select=function(row){table.select(row);};this.selectAll=function(){table.selectAll();};this.deselectAll=function(){table.deselectAll();};this.clear=function(){table.clear();currPage=1;pageRequests={};if(checkboxHeader)checkboxHeader.uncheck();};this.remove=function(row){table.removeRow(row);};this.show=function(){table.show();};this.hide=function(){table.hide();};this.focus=function(){table.focus();};this.refresh=function(callback){me.clear();setPage(1);load(1,callback);};this.load=function(){if(arguments.length>0){var records=arguments[0];var page=1;if(arguments.length>1)page=parseInt(arguments[1]);if(isNaN(page)||page<1)page=1;if(isArray(records)||records instanceof javaxt.dhtml.DataStore){me.beforeLoad(page);table.load(records,page>1);setPage(page);calculateRowHeight();if(arguments.length===1){eof=true;}
else{if(records.length<config.limit)eof=true;}
me.onLoad();}}
else{load();}};this.setLimit=function(limit){config.limit=limit;};this.scrollTo=function(obj){if(isElement(obj)){var y=0;table.forEachRow(function(row){if(row==obj){return true;}
y+=row.offsetHeight;});table.scrollTo(0,y);return;}
if(!isNumber(obj))return;var page=parseInt(obj);var y=((page-1)*config.limit)*rowHeight;if(y<0)y=0;var numPagesInGrid=Math.ceil(table.getRowCount()/config.limit);if(page>numPagesInGrid){if(page==numPagesInGrid+1){load(page,function(){table.scrollTo(0,y);});}
else{console.log("Fetch pages! "+numPagesInGrid+" page loaded. Caller wants page "+page+"...");return;}}
else{table.scrollTo(0,y);}};var calculateRowHeight=function(){if(!rowHeight){table.forEachRow(function(row,content){rowHeight=row.offsetHeight;return;});}};this.getSelectedRecords=function(key,callback){var colID;if(key){if(typeof key==="string"){for(var i=0;i<config.fields.length;i++){if(key===config.fields[i]){colID=i;break;}}
if(!colID){for(var i=0;i<config.columns.length;i++){var column=config.columns[i];if(key===column.header){colID=i;break;}}}}}
if(!colID)colID=0;var useCheckbox=false;var selectAll=false;if(checkboxHeader){if(checkboxHeader.idx===colID){useCheckbox=true;if(checkboxHeader.isChecked()){selectAll=true;}}}
var arr=[];table.forEachRow(function(row,content){if(key){if(useCheckbox){var checkboxDiv=content[colID];var checkbox=checkboxDiv.checkbox;if(checkbox.isChecked())arr.push(checkbox.getValue());}
else{if(row.selected)arr.push(row.record[key]);}}
else{if(row.selected)arr.push(row.record);}});if(callback&&selectAll&&!eof){var url=config.url;if(url.indexOf("?")==-1)url+="?";var fieldNames="";if(key){fieldNames=config.columns[colID].field;}
else{for(var i=0;i<config.fields.length;i++){if(i>0)fieldNames+=",";fieldNames+=config.fields[i];}}
url+="fields="+fieldNames+"&count=false&offset="+(currPage*config.limit);url+=encodeParams(config.params);if(filter){for(var key in filter){if(filter.hasOwnProperty(key)){if(key.toLowerCase()!=='orderby'){var str=filter[key];if(str){str=str.trim();if(str.length>0){url+="&"+key+"="+str;}}}}}}
config.getResponse(url,config.payload,function(request){if(request.status===200){var arr=[];var records=config.parseResponse.apply(me,[request]);for(var i=0;i<records.length;i++){var val=records[i][fieldName];if(val)arr.push(val);}
if(callback)callback.apply(me,arr);}
else{me.onError(request);}});}
return arr;};var createHeader=function(label,sortable){var div=createElement("div");if(sortable===false){div.style.cursor="default";}
var span=createElement("span",div);span.innerHTML=label;var iconDiv=createElement("div",div,{position:"relative",display:"inline-block"});var icon=createElement("div",iconDiv);div.sortIndicator=icon;div.setSortIndicator=function(sortDirection){var className="";if(sortDirection){if(typeof sortDirection==="string"){sortDirection=sortDirection.toUpperCase().trim();if(sortDirection=="ASC"){className=config.style.ascendingSortIcon;}
else if(sortDirection=="DESC"){className=config.style.descendingSortIcon;}}}
this.sortIndicator.className=className;};return div;};var createCheckbox=function(value,row){var div=createElement('div',{display:"inline-block",position:"relative"});var checkbox=new javaxt.dhtml.Checkbox(div,{value:value,style:config.style.checkbox});if(typeof value!=='undefined'){checkbox.onClick=function(checked){var value=this.getValue();me.onCheckbox(value,checked,this);};}
else{checkbox.onClick=function(checked){table.forEachRow(function(row,content){var checkboxDiv=content[checkboxHeader.idx];var checkbox=checkboxDiv.checkbox;if(checked){checkbox.select();}
else{checkbox.deselect();}
me.onCheckbox(row.record,checked,checkbox);});};}
div.checkbox=checkbox;return div;};var load=function(page,callback){if(pageRequests[page+""])return;if(loading)return;loading=true;mask.show();pageRequests[page+""]=page;if(page){page=parseInt(page);if(isNaN(page)||page<1)page=1;}
else{page=1;}
if(page==1)eof=false;var fieldNames="";for(var i=0;i<config.fields.length;i++){if(i>0)fieldNames+=",";fieldNames+=config.fields[i];}
me.beforeLoad(page);var params={page:page,limit:config.limit,fields:fieldNames};if(config.params){for(var key in config.params){if(config.params.hasOwnProperty(key)){if(!hasParam(key,params)){if(key.toLowerCase()!=='orderby'){params[key]=config.params[key];}}}}}
if(config.count==true&&page==1)params.count=true;else params.count=false;var orderby="";if(filter){for(var key in filter){if(filter.hasOwnProperty(key)){if(key.toLowerCase()==='orderby'){if(!hasParam(key,params)){orderby=filter[key];orderby=((orderby!=null&&orderby!="")?"&orderby="+encodeURIComponent(orderby):"");}}
else{var val=filter[key];if(!isArray(val)){val=(val+"").trim();}
if(val.length>0){if(!hasParam(key,params)){params[key]=val;}}}}}}
if(orderby.length===0){if(config.params){for(var key in config.params){if(config.params.hasOwnProperty(key)){if(key.toLowerCase()==='orderby'){orderby=config.params[key];orderby=((orderby!=null&&orderby!="")?"&orderby="+encodeURIComponent(orderby):"");}}}}}
var url=config.url;if(url.indexOf("?")==-1)url+="?";url+=encodeParams(params);url+=orderby;config.getResponse(url,config.payload,function(request){if(request.status===200){var records=config.parseResponse.apply(me,[request]);if(records.length===0){if(page===1)table.clear();eof=true;}
else{if(records.length<config.limit)eof=true;table.load(records,page>1);setPage(page);calculateRowHeight();}
if(callback)callback.apply(me,[]);loading=false;mask.hide();me.onLoad();}
else{loading=false;mask.hide();me.onError(request);}});};var hasParam=function(key,params){for(var k in params){if(params.hasOwnProperty(k)){if(k.toLowerCase()===key.toLowerCase()){return true;}}}
return false;};var encodeParams=function(params){var url="";if(params){for(var key in params){if(params.hasOwnProperty(key)){var val=params[key];if(isArray(val)){for(var i=0;i<val.length;i++){var v=val[i];if(typeof v==="string")v=v.trim();url+="&"+key+"="+encodeURIComponent(v);}}
else{if(typeof val==="string")val=val.trim();url+="&"+key+"="+encodeURIComponent(val);}}}}
return url;};var removeDuplicateParams=function(params){var uniqueProperties={};for(var key in params){if(params.hasOwnProperty(key)){if(!hasParam(key,uniqueProperties)){uniqueProperties[key]=params[key];}}}
var deletions=[];for(var key in params){if(params.hasOwnProperty(key)){if(!uniqueProperties.hasOwnProperty(key)){deletions.push(key);}}}
for(var i=0;i<deletions.length;i++){var key=deletions[i];delete params[key];}};this.setSortIndicator=function(idx,sortDirection){for(var i=0;i<columns.length;i++){var colHeader=columns[i].header;if(colHeader.setSortIndicator){if(i===idx){colHeader.setSortIndicator(sortDirection);columns[i].sort=sortDirection;}
else{colHeader.setSortIndicator(null);columns[i].sort=null;}}}};var sort=function(idx,colConfig,cell,event){if(colConfig.sortable!==true)return;var sort=colConfig.sort;if(sort=="DESC")sort="";else sort="DESC";colConfig.sort=sort;var sortDirection=sort.length==0?"ASC":"DESC";me.setSortIndicator(idx,sortDirection);if(config.localSort){if(typeof config.localSort==="function"){}
var arr=[];var rows=[];table.forEachRow(function(row){var content=row.get(idx);var data=row.record[idx];if(content){if(content.nodeType===1)content=content.innerText;content=content.trim();}
else{content="";}
arr.push(content);row.sortKey=content;rows.push(row);});if(rows.length===0)return;var dates=0;var numbers=0;var nulls=[];for(var i=0;i<arr.length;i++){var val=arr[i];var f=parseFloat(val.replace(/[^0-9\.]+/g,""));if(!isNaN(f)){numbers++;}
else{if(typeof val==="string"){if(val==""||val=="-"||val=="n/a"){nulls.push(i);}
else{var d=new Date(val).getTime();if(!isNaN(d)){dates++;}}}}}
var numericSort=false;if((numbers+nulls.length)===rows.length){numericSort=true;for(var i=0;i<arr.length;i++){var isNull=false;for(var j=0;j<nulls.length;nulls++){if(nulls[j]===i){isNull=true;break;}}
var val=arr[i];var f=isNull?0:parseFloat(val.replace(/[^0-9\.]+/g,""));arr[i]=f;rows[i].sortKey=f;}}
if((dates+nulls.length)===rows.length){numericSort=true;for(var i=0;i<arr.length;i++){var isNull=false;for(var j=0;j<nulls.length;nulls++){if(nulls[j]===i){isNull=true;break;}}
var val=arr[i];var f=isNull?0:new Date(val).getTime();arr[i]=f;rows[i].sortKey=f;}}
if(numericSort){if(sort=="DESC"){arr.sort(function(a,b){return b-a;});}
else{arr.sort(function(a,b){return a-b;});}}
else{arr.sort();if(sort=="DESC"){arr.reverse();}}
var parent=rows[0].parentNode;for(var i=0;i<rows.length;i++){parent.removeChild(rows[i]);}
for(var i=0;i<arr.length;i++){var key=arr[i];for(var j=0;j<rows.length;j++){var row=rows[j];if(row.sortKey==key){row.sortKey=null;parent.appendChild(row);rows.splice(j,1);break;}}}
for(var i=0;i<rows.length;i++){parent.appendChild(rows[i]);}
me.onSort(idx,sortDirection);}
else{if(colConfig.field!=null){me.clear();if(!filter)filter={};filter.orderby=(colConfig.field+" "+sort).trim();me.onSort(idx,sortDirection);load();}}};var wrap=function(obj){if(obj==null)return;var div=createElement("div",{height:"100%"});var maxWidth=300;var content;if(typeof obj==="string"){content=createElement("span");content.innerHTML=obj;}
else{content=createElement("div");content.style.display="inline-block";content.appendChild(obj);}
div.onmousemove=function(){var content=this.firstChild;var parent=this.parentNode;if(content.offsetWidth>parent.offsetWidth){if(content.offsetWidth>maxWidth){content.style.width=maxWidth+"px";content.style.minHeight="115px";content.style.maxHeight=maxWidth+"px";content.style.whiteSpace="normal";content.style.lineHeight="18px";content.style.display="block";content.style.overflowY="auto";content.style.overflowX="hidden";}
parent.className="grid-overflow-popup";parent.style.width="";parent.style.height="";parent.onmouseout=function(e){var el=e.toElement||e.relatedTarget;if(el.parentNode==this||el==this){return;}
while(el.parentNode){if(el.parentNode==this.firstChild)return;el=el.parentNode;}
content.style="";content.style.display="inline-block";this.className="";this.style.width="100%";this.style.height="100%";};}};div.appendChild(content);return div;};var merge=javaxt.dhtml.utils.merge;var _getRect=javaxt.dhtml.utils.getRect;var isArray=javaxt.dhtml.utils.isArray;var isNumber=javaxt.dhtml.utils.isNumber;var isElement=javaxt.dhtml.utils.isElement;var createElement=javaxt.dhtml.utils.createElement;init();};
javaxt.dhtml.DateInput=function(n,c){this.className="javaxt.dhtml.DateInput";var h=this;var m,b,k,f,q;var p;var e={date:null,showMenuOnFocus:false,style:{input:{color:"#363636",fontSize:"14px",height:"24px",lineHeight:"24px",padding:"0px 4px",verticalAlign:"middle",transition:"border 0.2s linear 0s, box-shadow 0.2s linear 0s",backgroundColor:"#fff",border:"1px solid #ccc",borderRight:"0 none",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.075) inset"},button:{color:"#363636",height:"24px",width:"24px",border:"1px solid #b4b4b4",cursor:"pointer",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAlklEQVQ4jWNgGAUowNvbW9PBwUEAjxJGHx8f/dDQUB4MGV9f3+TAwMD/AQEB97y8vOSxafb392+BqrlkbGzMhSLr7++/MTAw8D8OQ+CaYdjb21sT3flKAQEBj7AYgqHZz8+vBqsHPT09ldENCQgImIysOSAgoBZPGGEaQpJmfIYQrRmbITj9TAg4ODgIeHp6apGleegAAME5Y+rCcN+AAAAAAElFTkSuQmCC)",backgroundPosition:"3px 3px",backgroundRepeat:"no-repeat",backgroundColor:"#e4e4e4"},menu:{backgroundColor:"#fff",border:"1px solid #ccc",borderTop:"0 none"},datePicker:{}},formatDate:function(r){return(r.getMonth()+1)+"/"+r.getDate()+"/"+r.getFullYear()}};var o=function(){if(typeof n==="string"){n=document.getElementById(n)}if(!n){return}var u={};i(u,c);i(u,e);c=u;p=c.formatDate;var r=d("div",n,{position:"relative",display:"inline-block"});r.setAttribute("desc",h.className);h.el=r;var s=j(r);s.style.height="";var t=s.addRow();k=d("input",t.addColumn({width:"100%"}),c.style.input);k.style.width="100%";k.type="text";k.onkeydown=function(v){if(v.keyCode===9){v.preventDefault()}};k.onkeyup=function(v){if(v.keyCode===9){h.hideMenu();g()}else{if(v.keyCode===40){h.showMenu()}}};if(c.showMenuOnFocus){k.onfocus=function(){h.showMenu()}}h.setDate(c.date,true);k.oninput=function(){if(h.isDisabled()===true){return}var w=this.value;if(l(w)){var v=new Date(w);if(b){if(b.style.visibility==="hidden"){}else{m.setDate(v)}}h.onChange(v)}};k.onpaste=k.oninput;k.onpropertychange=k.oninput;f=d("input",t.addColumn(),c.style.button);f.type="button";f.onclick=function(){if(b){if(b.style.visibility==="hidden"){h.showMenu()}else{b.style.visibility="hidden"}}else{h.showMenu()}};a(h)};this.isDisabled=function(){return h.el.disabled};this.enable=function(){var r=h.el;if(q){r.style.opacity="";q.style.visibility="hidden"}r.disabled=false};this.disable=function(){h.hideMenu();var r=h.el;r.style.opacity="0.6";if(q){q.style.visibility="visible"}else{q=d("div",{width:"100%",height:"100%",position:"absolute",zIndex:1});q.setAttribute("desc","mask");r.insertBefore(q,r.firstChild)}r.disabled=true};this.onChange=function(r,s){};this.showMenu=function(){var t=h.getValue();if(!t){t=new Date()}if(m){m.setDate(t);b.style.visibility=""}else{var s=h.el;b=d("div",s,c.style.menu);b.setAttribute("desc","menu");b.style.width="100%";b.style.position="absolute";b.style.zIndex=1;var r=function(u){if(!s.contains(u.target)){b.style.visibility="hidden"}};if(document.addEventListener){document.addEventListener("click",r)}else{if(document.attachEvent){document.attachEvent("onclick",r)}}m=new javaxt.dhtml.DatePicker(b,{date:t,style:c.style.datePicker});m.select();m.onClick=function(u){h.hideMenu();h.setValue(u)}}};this.hideMenu=function(){if(b){b.style.visibility="hidden"}};this.setValue=function(s,r){var t=h.getValue();if(l(s)){if(!s.getTime){s=new Date(s)}k.value=p(s)}else{s=null;k.value=""}if(r===true){return}h.onChange(s,t)};this.getValue=function(){var r=new Date(k.value);if(isNaN(r.getTime())){r=null}return r};this.setDate=function(s,r){h.setValue(s,r)};this.getDate=function(){h.getValue()};var g=function(){var s=k.form;if(s){for(var r=0;r<s.elements.length;r++){if(s.elements[r]===k&&r<s.elements.length-2){s.elements[r+2].focus();return}}}};var i=javaxt.dhtml.utils.merge;var d=javaxt.dhtml.utils.createElement;var j=javaxt.dhtml.utils.createTable;var a=javaxt.dhtml.utils.addShowHide;var l=javaxt.dhtml.utils.isDate;o()};
javaxt.dhtml.DatePicker=function(parent,config){this.className="javaxt.dhtml.DatePicker";var me=this;var defaultConfig={date:new Date(),selectionMode:"day",daysOfWeek:["S","M","T","W","T","F","S"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],allowDeselect:true,style:{panel:{fontFamily:"helvetica,arial,verdana,sans-serif",backgroundColor:"#ffffff",border:"1px solid #b4cbdd",display:"inline-block"},header:{backgroundColor:"#d9e7f8",height:"25px",lineHeight:"25px"},title:{position:"absolute",width:"100%",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"bold",color:"#555555",textAlign:"center",cursor:"default"},next:{float:"right",borderRight:"2px solid #5e8be0",borderBottom:"2px solid #5e8be0",width:"7px",height:"7px",transform:"rotate(-45deg)",margin:"7px 10px 0 0",cursor:"pointer"},back:{float:"left",borderRight:"2px solid #5e8be0",borderBottom:"2px solid #5e8be0",width:"7px",height:"7px",transform:"rotate(135deg)",margin:"7px 0 0 10px",cursor:"pointer"},cell:{width:"18px",height:"18px",lineHeight:"18px",textAlign:"right",padding:"2px 4px 1px 0px",fontSize:"11px",color:"#000000",cursor:"pointer",border:"1px solid #ffffff",margin:"1px"},cellHeader:{color:"#233d6d",fontSize:"10px",lineHeight:"10px",paddingBottom:"0px",paddingTop:"0px",border:"0px",borderTop:"1px solid #bbccff",borderBottom:"1px solid #bbccff"},previousMonth:{color:"#aaaaaa"},nextMonth:{color:"#aaaaaa"},today:{width:"22px",height:"21px",border:"1px solid #FF7373",top:"-1px",left:"-1px"},selectedRow:{},selectedCell:{color:"#000000",fontWeight:"bold",backgroundColor:"#fff4bf",border:"1px solid #bfa52f"}}};var currDate;var startDate;var mainDiv;var todayHighlightDiv;var cells=[];var selectionMode;var init=function(){if(typeof parent==="string"){parent=document.getElementById(parent);}
if(!parent)return;var clone={};merge(clone,config);merge(clone,defaultConfig);config=clone;if(config.style.selected&&!config.style.selectedCell){config.style.selectedCell=config.style.selected;}
selectionMode=config.selectionMode;mainDiv=createElement('div',parent,config.style.panel);mainDiv.style.display="table";me.el=mainDiv;mainDiv.unselectable="on";mainDiv.onselectstart=function(){return false;};mainDiv.onmousedown=function(){return false;};todayHighlightDiv=createElement('div',config.style.today);todayHighlightDiv.style.position="absolute";me.setDate(config.date);};this.setDate=function(date){date=new Date(date.getFullYear(),date.getMonth(),date.getDate());me.render(date);me.deselect();for(var i=0;i<cells.length;i++){var d=cells[i].date;if(d.getTime()===date.getTime()){select(cells[i]);return;}}};this.render=function(date){date=new Date(date.getFullYear(),date.getMonth(),date.getDate());if(currDate&&date.getTime()===currDate.getTime())return;var range=computeRange(date);if(startDate){if(startDate.getTime()===range.startDate.getTime()){if(currDate.getTime()!==date.getTime()){currDate=date;me.onUpdate(new Date(currDate));}
return;}}
currDate=date;startDate=range.startDate;var currMonth=currDate.getMonth();var numWeeks=range.numWeeks;mainDiv.innerHTML="";var headerDiv=createElement('div',mainDiv,config.style.header);headerDiv.style.position="relative";var titleDiv=createElement('div',headerDiv,config.style.title);titleDiv.innerHTML=config.months[currMonth]+" "+currDate.getFullYear();titleDiv.onclick=function(e){me.onHeaderClick(headerDiv,e);};var backDiv=createElement('div',headerDiv,config.style.back);backDiv.onclick=function(e){e.preventDefault();e.stopPropagation();me.back();};var nextDiv=createElement('div',headerDiv,config.style.next);nextDiv.onclick=function(e){e.preventDefault();e.stopPropagation();me.next();};var table=createTable(mainDiv);table.style.fontFamily="inherit";table.style.textAlign="inherit";table.style.color="inherit";var tr=table.addRow();for(var i=0;i<7;i++){var td=tr.addColumn();td.style.fontFamily="inherit";td.innerHTML=config.daysOfWeek[i];addStyle(td,"cell");addStyle(td,"cellHeader");}
cells=[];var d=new Date(startDate);for(var i=0;i<numWeeks;i++){tr=table.addRow();for(var j=0;j<7;j++){var td=tr.addColumn();td.style.fontFamily="inherit";var cell=createElement('div',td);cell.style.position="relative";cell.style.fontFamily="inherit";cell.date=new Date(d);cell.selected=false;cells.push(cell);var div1=createElement('div',cell);div1.style.fontFamily="inherit";div1.innerHTML=d.getDate();addStyle(cell,"cell");var month=d.getMonth();var monthOffset=0;if(month!==currMonth){if(i===0){monthOffset=-1;addStyle(cell,"previousMonth");}
else{monthOffset=1;addStyle(cell,"nextMonth");}}
cell.monthOffset=monthOffset;cell.onclick=function(e){var cell=this;var dateRange=select(cell);me.onClick(new Date(cell.date),dateRange);};d.setDate(d.getDate()+1);}}
highlightTodaysDate();function scheduledTask(){var now=new Date();var night=new Date(now.getFullYear(),now.getMonth(),now.getDate()+1,0,0,0);var msToMidnight=night.getTime()-now.getTime();setTimeout(function(){highlightTodaysDate();scheduledTask();},msToMidnight);}
scheduledTask();me.onUpdate(new Date(currDate));};var highlightTodaysDate=function(){if(todayHighlightDiv.parentNode){var cell=todayHighlightDiv.parentNode;cell.removeChild(todayHighlightDiv);}
var now=new Date();for(var x=0;x<cells.length;x++){var cell=cells[x];var d=cell.date;if(d.getFullYear()===now.getFullYear()&&d.getMonth()===now.getMonth()&&d.getDate()===now.getDate())
cell.appendChild(todayHighlightDiv);}};this.select=function(date){if(!date)return;var cell;for(var x=0;x<cells.length;x++){var _cell=cells[x];var _date=_cell.date;if(_date.getDate()===date.getDate()&&_date.getMonth()===date.getMonth()&&_date.getFullYear()===date.getFullYear()){cell=_cell;break;}}
if(cell)select(cell);};var select=function(cell){if(selectionMode==="day"){var d=new Date(cell.date);for(var x=0;x<cells.length;x++){var _cell=cells[x];if(_cell.selected){if(cell===_cell){if(config.allowDeselect){deselect(_cell);return[];}
else{return[d];}}
else{deselect(_cell);}
break;}}
cell.selected=true;addStyle(cell,"selectedCell");return[d];}
else if(selectionMode==="week"){var parentRow=cell.parentNode.parentNode;addStyle(parentRow,"selectedRow");var d1=new Date(parentRow.childNodes[0].childNodes[0].date);var d2=new Date(parentRow.childNodes[parentRow.childNodes.length-1].childNodes[0].date);for(var x=0;x<cells.length;x++){var _cell=cells[x];if(_cell.parentNode.parentNode===parentRow){if(_cell.selected){if(config.allowDeselect){for(var y=0;y<cells.length;y++){if(cells[y].selected)deselect(cells[y]);}
return[];}
else{return[d1,d2];}}
_cell.selected=true;addStyle(_cell,"selectedCell");}
else{var row=_cell.parentNode.parentNode;row.style='';row.className='';row.removeAttribute("class");if(_cell.selected)deselect(_cell);}}
return[d1,d2];}
else{return[];}};this.deselect=function(){for(var x=0;x<cells.length;x++){var _cell=cells[x];if(_cell.selected){if(config.allowDeselect){}
deselect(_cell);}}};var deselect=function(_cell){_cell.selected=false;_cell.style='';_cell.className='';_cell.removeAttribute("class");_cell.style.position="relative";addStyle(_cell,"cell");switch(_cell.monthOffset){case-1:addStyle(_cell,"previousMonth");break;case 1:addStyle(_cell,"nextMonth");break;}};this.getSelectionMode=function(){return selectionMode;};this.setSelectionMode=function(str){selectionMode=str;};this.getSelectedCells=function(){var selectedCells=[];for(var x=0;x<cells.length;x++){var cell=cells[x];if(cell.selected)selectedCells.push(cell);}
return selectedCells;};this.onClick=function(date,dateRange){};this.onHeaderClick=function(headerDiv,e){};this.onUpdate=function(date){};this.back=function(){var m=currDate.getMonth()-1;var d=currDate.getDate();var y=currDate.getFullYear();var x=new Date(y,m+1,0).getDate();if(d>x)console.log(d+" vs "+x);if(d>x)d=x;me.render(new Date(y,m,d));};this.next=function(){var m=currDate.getMonth()+1;var d=currDate.getDate();var y=currDate.getFullYear();var x=new Date(y,m+1,0).getDate();if(d>x)console.log(d+" vs "+x);if(d>x)d=x;me.render(new Date(y,m,d));};this.getMonth=function(){return currDate.getMonth();};this.getYear=function(){return currDate.getFullYear();};var computeRange=function(d){var year=d.getFullYear();var month=d.getMonth()+1;var firstOfMonth=new Date(year,month-1,1);var lastOfMonth=new Date(year,month,0);var numWeeks=Math.ceil((firstOfMonth.getDay()+lastOfMonth.getDate())/7);var startDate=new Date(firstOfMonth);startDate.setDate(startDate.getDate()-firstOfMonth.getDay());var endDate=new Date(lastOfMonth);endDate.setDate(endDate.getDate()+(6-lastOfMonth.getDay()));return{numWeeks:numWeeks,startDate:startDate,endDate:endDate};};var merge=javaxt.dhtml.utils.merge;var createElement=javaxt.dhtml.utils.createElement;var createTable=javaxt.dhtml.utils.createTable;var addStyle=function(el,style){javaxt.dhtml.utils.addStyle(el,config.style[style]);};init();};
javaxt.dhtml.Form=function(i,B){this.className="javaxt.dhtml.Form";var m=this;var J={onsubmit:null,items:[],buttons:[],style:{spacing:"8px",form:{padding:"5px 5px 0 5px"},label:{color:"#363636",whiteSpace:"nowrap",cursor:"default",paddingRight:"8px"},addColon:true,icon:{},input:{borderRadius:"4px",color:"#363636",display:"inline-block",fontSize:"14px",height:"26px",lineHeight:"26px",padding:"4px 6px",verticalAlign:"middle",transition:"border 0.2s linear 0s, box-shadow 0.2s linear 0s",backgroundColor:"#fff",border:"1px solid #ccc",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.075) inset",boxSizing:"border-box"},radio:{margin:0,padding:0},checkbox:{margin:0,padding:0},buttons:{padding:"0px 5px 3px 5px",textAlign:"right"},button:{borderRadius:"3px",color:"#363636",display:"inline-block",fontSize:"14px",width:"80px",height:"26px",lineHeight:"26px",verticalAlign:"middle",textAlign:"center",backgroundColor:"#e4e4e4",border:"1px solid #b4b4b4",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)",textShadow:"1px 1px 0px rgb(255, 255, 255)",cursor:"pointer",marginLeft:"7px"},groupbox:{border:"1px solid #ccc",borderRadius:"4px",padding:"16px 8px 12px 13px"},grouplabel:{margin:"8px 0 0 7px",backgroundColor:"white",padding:"0 5px 0 5px",color:"rgb(0, 70, 138)"},error:{input:"form-input-error",callout:{panel:"error-callout-panel",arrow:"error-callout-arrow"}}}};var y;var f;var E,H;var n;var p=[];var e=[];var t=[];var G=function(){if(typeof i==="string"){i=document.getElementById(i)}if(!i){return}var P={};D(P,B);D(P,J);B=P;n=B.style.spacing;y=u("form",i,{padding:0,margin:0,height:"100%"});y.className="javaxt-form";if(B.onsubmit){y.onsubmit=B.onsubmit}else{y.onsubmit=function(T){T.preventDefault()}}m.el=y;f=d("100%","100%",m.className);y.appendChild(f);var K=f.addRow();K.setAttribute("desc","formRow");var Q=K.addColumn(B.style.form);Q.style.width="100%";Q.style.height="100%";Q.style.verticalAlign="top";E=d("100%");Q.appendChild(E);if(B.items){for(var M=0;M<B.items.length;M++){var S=B.items[M];if(S.group){v(S.group,S.items,S.hidden)}else{I(S)}}}if(B.buttons){for(var M=0;M<B.buttons.length;M++){var N=B.buttons[M];var L=N.name;var O=true;var R=N.onclick;m.addButton(L,O,R)}}F(i,function(){m.resize()});b(i,m.resize)};this.onChange=function(K,L){};this.onResize=function(){};this.resize=function(){for(var K=0;K<e.length;K++){c(e[K])}m.onResize()};this.getForm=function(){return y};this.reset=function(){y.reset()};this.clear=function(){for(var L=0;L<y.elements.length;L++){var K=y.elements[L];var M=K.type;switch(M){case"text":case"textarea":case"password":case"hidden":K.value="";break;case"radio":case"checkbox":K.checked="";break;case"select-one":K.options[0].selected=true;break;case"select-multiple":for(var N=0;N<K.options.length;N++){K.options[N].selected=false}break}}for(var L=0;L<p.length;L++){var K=p[L];if(K.clear){K.clear()}}};this.getData=function(){var M={};for(var O=0;O<p.length;O++){var L=p[O];var N=L.name;var Q=L.getValue();var P=M[N];if(P){var K=[];if(P instanceof Array){K=P}K.push(Q);M[N]=K}else{M[N]=Q}}return M};this.getFormData=function(){var O=new FormData();var N=m.getData();for(var M in N){if(N.hasOwnProperty(M)){var P=N[M];if(P instanceof Array){var K=P;for(var L=0;L<K.length;L++){O.append(M,P)}}else{O.append(M,P)}}}return O};this.addButton=function(K,O,S){if(!H){H=f.addRow();H.setAttribute("desc","buttonRow");var Q=H.addColumn(B.style.buttons);var M=d();var R=u("div",Q);R.style.display="inline-block";R.appendChild(M);var N=B.style.buttons.textAlign;if(N===null){N="right"}else{N=N.toLowerCase()}if(N==="fit"){M.style.width="100%"}else{if(N==="right"){M.align="right"}else{if(N==="center"){M.align="center"}}}H=M.addRow()}var L=H.addColumn();if(K.toLowerCase()==="spacer"){L.style.width="100%"}else{var P=u("input",L);P.type="button";P.name=K;P.value=K;P.onclick=S;A(P,"button");t.push(P)}};this.getButton=function(K){for(var L=0;L<t.length;L++){if(t[L].name===K){return t[L]}}return null};this.getButtons=function(){return t};var a=function(L){var O=L.type;var K=L.name;var Q=L.label;var P=L.icon;var S=L.value;var R;if(O=="textarea"){R=u("textarea");A(R,"input");R.style.lineHeight="normal";R.style.resize="none";R.style.height="100px";if(L.height){R.style.height=L.height}if(L.spellcheck===false){R.setAttribute("spellcheck","false")}}else{R=u("input");A(R,"input");R.type=O;if(L.placeholder){R.setAttribute("placeholder",L.placeholder)}if(L.spellcheck===true){}else{R.setAttribute("spellcheck","false")}}R.name=K;if(S!=null){R.value=S}R.style.width="100%";R.setAttribute("autocomplete","off");var N=function(){return R.value};var M=function(W,V){if(typeof W==="undefined"){W=""}var U=R.value!=W;if(!U){if(W===0&&parseInt(R.value+"")!==0){U=true}}if(U){R.value=W;if(V===true){return}R.oninput()}};var T=k(K,Q,R,N,M,P);R.oninput=function(){m.hideError(T);m.onChange(T,R.value)};R.onpaste=R.oninput;R.onpropertychange=R.oninput};var l=function(N,O){var M=u("textarea",y);M.style.display="none";M.name=N;if(O!=null){M.value=O}var L=function(){return M.value};var P=function(R,Q){if(typeof R==="undefined"){R=""}if(M.value!=R){M.value=R;if(Q===true){return}M.onchange()}};var K={name:N,label:null,row:null,getValue:L,setValue:P};M.onchange=function(){m.onChange(K,M.value)};p.push(K)};var x=function(R,ac,ab){var P;var O=ab.options;var S=ab.alignment;var aa=d("100%");var L;var K=[];for(var Z=0;Z<O.length;Z++){if(S=="vertical"){L=aa.addRow()}else{if(Z==0){L=aa.addRow()}}var Q=L.addColumn();var U=d();var V=U.addRow();var X=V.addColumn();var W=V.addColumn();Q.appendChild(U);var T=u("input",X,B.style.radio);T.type="radio";T.name=ac;T.value=O[Z].value;if(O[Z].checked===true||O[Z].selected==true){T.checked=true}T.onchange=function(){m.onChange(P,N())};K.push(T);var Y=u("span",W,B.style.label);Y.innerHTML=O[Z].label;Y.input=T;Y.onclick=function(){if(this.input.disabled==true){return}this.input.checked=true;this.input.focus();g(this.input,"change")}}var N=function(){for(var ad=0;ad<K.length;ad++){if(K[ad].checked){return K[ad].value}}return null};var M=function(ag,ad){var af=0;for(var ae=0;ae<K.length;ae++){if((K[ae].value+"")==(ag+"")){if(K[ae].checked!==true){af++}K[ae].checked=true}else{K[ae].checked=false;if(K[ae].checked===true){af++}}}if(ad===true){return}if(af>0){m.onChange(P,N())}};P=k(ac,R,aa,N,M,ab.icon);P.enable=function(){for(var ad=0;ad<K.length;ad++){K[ad].disabled=false}var ae=aa.getRows();for(var ad=0;ad<ae.length;ad++){ae[ad].style.opacity=""}};P.disable=function(){for(var ad=0;ad<K.length;ad++){K[ad].disabled=true}var ae=aa.getRows();for(var ad=0;ad<ae.length;ad++){ae[ad].style.opacity="0.6"}}};var o=function(R,ac,ab){var P;var O=ab.options;var S=ab.alignment;var aa=d("100%");var L;var K=[];for(var Z=0;Z<O.length;Z++){if(S=="horizontal"){if(Z==0){L=aa.addRow()}}else{L=aa.addRow()}var Q=L.addColumn();var U=d();var V=U.addRow();var X=V.addColumn();var W=V.addColumn();Q.appendChild(U);var T=u("input",X,B.style.checkbox);T.type="checkbox";T.name=ac;T.value=O[Z].value;if(O[Z].checked===true||O[Z].selected==true){T.checked=true}T.onchange=function(){m.onChange(P,N())};K.push(T);var Y=u("span",W,B.style.label);Y.innerHTML=O[Z].label;Y.input=T;Y.onclick=function(){if(this.input.disabled==true){return}this.input.checked=!this.input.checked;g(this.input,"change")}}var N=function(){var ad="";for(var ae=0;ae<K.length;ae++){if(K[ae].checked){if(ad.length>0){ad+=","}ad+=K[ae].value}}return ad.length==0?null:ad};var M=function(ai,af){if(!ai){ai=[ai]}else{if(!q(ai)){if(typeof ai==="string"){ai=ai.split(",")}else{ai=[ai]}}}var ah=0;for(var ag=0;ag<K.length;ag++){var ae=K[ag];var aj=null;for(var ad=0;ad<ai.length;ad++){if((ae.value+"")==(ai[ad]+"")){aj=ai[ad];break}}if((ae.value+"")==(aj+"")){if(ae.checked!==true){ah++}ae.checked=true}else{ae.checked=false;if(ae.checked===true){ah++}}}if(af===true){return}if(ah>0){m.onChange(P,N())}};P=k(ac,R,aa,N,M,ab.icon);P.enable=function(){for(var ad=0;ad<K.length;ad++){K[ad].disabled=false}var ae=aa.getRows();for(var ad=0;ad<ae.length;ad++){ae[ad].style.opacity=""}};P.disable=function(){for(var ad=0;ad<K.length;ad++){K[ad].disabled=true}var ae=aa.getRows();for(var ad=0;ad<ae.length;ad++){ae[ad].style.opacity="0.6"}}};var v=function(af,W,X){var O=E.addRow();O.setAttribute("desc","-- Group Start --");var ab,K,aa,P,ad,U;var Z=r();if(Z){ab=Z.paddingLeft;K=Z.paddingRight;aa=Z.paddingTop;P=Z.paddingBottom;ad=Z.borderLeft+Z.borderRight;U=Z.borderTop+Z.borderBottom}else{ab=parseInt(n);K=ab;aa=ab*2;P=aa;ad=2;U=ad}var Q=O.addColumn();Q.style.padding=(parseInt(n)*2)+"px "+ad+"px "+aa+"px 0";Q.colSpan=3;var V=u("div",Q);V.style.position="relative";V.style.width="100%";V.style.visibility="hidden";V.style.display="block";var ae=u("div",V);A(ae,"groupbox");ae.style.padding=0;ae.style.position="absolute";ae.style.width="100%";ae.style.zIndex=-1;var R=u("div",V);A(R,"grouplabel");R.style.position="absolute";R.style.left=0;R.style.top=-(aa+U)+"px";R.innerHTML=af;R.style.zIndex=-1;for(var Y=0;Y<W.length;Y++){if(X===true){W[Y].hidden=true}I(W[Y])}var M=E.addRow();M.setAttribute("desc","-- Group End --");var Q=M.addColumn();Q.style.padding=(parseInt(n)+P)+"px 0 0 0";Q.colSpan=3;var ac=function(){var aj=[];var ag=false;var ak=E.getRows();for(var ah=0;ah<ak.length;ah++){var ai=ak[ah];if(ai===O){ag=true}if(ag){aj.push(ai);if(ai===M){ag=false;break}}}return aj};var N=function(ag){ag=ag-parseInt(n);ag+=(aa+P);ae.style.height=ag+"px";V.style.visibility=""};var S=ac();for(var Y=1;Y<S.length-1;Y++){var L=S[Y];var T=L.childNodes;T[0].style.paddingLeft=ab+"px";T[T.length-1].style.paddingRight=(K+ad)+"px"}e.push({name:af,getRows:ac,setHeight:N});j(af,X)};this.getGroups=function(){return e};this.showGroup=function(K){j(K,false)};this.hideGroup=function(K){j(K,true)};var j=function(P,L){var O;for(var K=0;K<e.length;K++){if(e[K].name===P){O=e[K];break}}if(O){var N=O.getRows();for(var K=0;K<N.length;K++){var M=N[K];if(L){M.style.visibility="hidden";M.style.display="none"}else{M.style.display="";M.style.visibility=""}}}};var I=function(V){var O=V.type;var K=V.name;var R=V.label;var P=V.icon;var S=V.value;if(typeof O==="string"){if(O==="text"||O==="password"||O==="textarea"){a(V)}else{if(O==="radio"){x(R,K,V)}else{if(O==="checkbox"){o(R,K,V)}else{if(O==="hidden"){l(K,S)}}}}}else{var L;var N,M;var Q=O;if(Q.tagName){if(Q.tagName.toLowerCase()==="input"){L=Q;N=function(){return Q.value};M=function(X,W){if(typeof X==="undefined"){X=""}if(Q.value!=X){Q.value=X;if(W===true){return}Q.onchange()}};var U=k(K,R,L,N,M,P);Q.onchange=function(){m.onChange(U,Q.value)}}}else{if(Q.el&&Q.getValue){var U=k(K,R,Q.el,Q.getValue,Q.setValue,P);for(var T in Q){if(Q.hasOwnProperty(T)){if(typeof Q[T]==="function"){U[T]=Q[T]}}}Q.onChange=function(){m.onChange(U,U.getValue())}}}}};var k=function(K,R,L,O,N,P){var S=E.addRow();var M=S.addColumn();if(P){A(M,"icon");u("div",M,P)}S.appendChild(s(R));M=S.addColumn();M.style.width="100%";M.style.paddingBottom=n;M.appendChild(L);var Q={name:K,label:R,row:S,getValue:O,setValue:N};p.push(Q);return Q};var s=function(K){var L=u("td",B.style.label);L.style.paddingBottom=n;L.onselectstart=function(){return false};L.onmousedown=function(){return false};if(K!=null){K=K.replace(/^\s*/,"").replace(/\s*$/,"");if(K.length>0){if(K.indexOf(":")!=K.length&&B.style.addColon===true){K+=": "}else{K+=" "}}}if(K!=null){L.innerHTML=K}return L};this.enableField=function(M){var O=m.findField(M);if(O){var P=O.row;for(var N=0;N<P.childNodes.length;N++){var K=P.childNodes[N];var L=1;if(N===2){if(O.enable){O.enable();L=""}else{K.childNodes[0].disabled=false}}K.style.opacity=L}return true}return false};this.disableField=function(M){var O=m.findField(M);if(O){var P=O.row;for(var N=0;N<P.childNodes.length;N++){var K=P.childNodes[N];var L="0.6";if(N===2){if(O.disable){O.disable();L=""}else{K.childNodes[0].disabled=true}}K.style.opacity=L}return true}return false};this.hideField=function(K){var M=m.findField(K);if(M){var N=M.row;N.style.visibility="hidden";N.style.display="none";var L=C(N);if(L){c(L)}return true}return false};this.showField=function(K){var M=m.findField(K);if(M){var N=M.row;N.style.visibility="";N.style.display="";var L=C(N);if(L){c(L)}return true}return false};this.showError=function(N,T){if(!T){return}if(h(T)){T=m.findField(T);if(!T){return}}var O=T.row;var K;if(O){if(O.childNodes.length===1){K=O.childNodes[0]}else{K=O.childNodes[2]}}else{K=T.el.parentNode}if(K==null){K=T.el.parentNode}var Q=javaxt.dhtml.utils.getRect;var R=Q(K);var M=K.getElementsByTagName("input");if(M.length==0){M=K.getElementsByTagName("textarea")}if(M.length>0){M[0].blur();var U=B.style.error.input;if(M[0].className){if(M[0].className.indexOf(U)==-1){M[0].className+=" "+U}}else{M[0].className=U}R=Q(M[0]);T.resetColor=function(){if(M[0].className){M[0].className=M[0].className.replace(U,"")}}}var L=javaxt.dhtml.Form.Error;if(!L){L=new javaxt.dhtml.Callout(document.body,{style:B.style.error.callout});javaxt.dhtml.Form.Error=L}L.getInnerDiv().innerHTML=N;var S=R.x+(R.width/2);var P=R.y;L.showAt(S,P,"above","center")};this.hideError=function(L){if(!L){return}if(h(L)){L=m.findField(L);if(!L){return}}if(L.resetColor){L.resetColor()}var K=javaxt.dhtml.Form.Error;if(K){K.hide()}};this.getValue=function(K){var L=m.findField(K);if(L){return L.getValue()}return null};this.setValue=function(L,M,K){var N=m.findField(L);if(N){N.setValue(M,K);return true}return false};this.findField=function(K){for(var L=0;L<p.length;L++){if(p[L].name===K){return p[L]}}for(var L=0;L<p.length;L++){if(p[L].label===K){return p[L]}}return null};var C=function(P){for(var L=0;L<e.length;L++){var O=e[L];var N=O.getRows();for(var K=0;K<N.length;K++){var M=N[K];if(M===P){return O}}}return null};var c=function(O){var N=O.getRows();var L=O.setHeight;var K=[];for(var M=1;M<N.length-1;M++){K.push(N[M])}w(K,L)};var r=function(){if(B.groupbox){return B.groupbox}var M=u("div",B.style.groupbox);M.style.position="absolute";M.style.visibility="hidden";M.style.display="block";var L=document.getElementsByTagName("body")[0];L.appendChild(M);var N=M.currentStyle||window.getComputedStyle(M);var K=function(P){if(N.getPropertyValue){var O=N.getPropertyValue(P);if(O&&O.length>0){return O}P=P.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return N.getPropertyValue(P)}else{return N[P]}};B.groupbox={paddingTop:parseInt(K("paddingTop")),paddingBottom:parseInt(K("paddingBottom")),paddingLeft:parseInt(K("paddingLeft")),paddingRight:parseInt(K("paddingRight")),borderLeft:parseInt(K("borderLeftWidth")),borderRight:parseInt(K("borderRightWidth")),borderTop:parseInt(K("borderTopWidth")),borderBottom:parseInt(K("borderBottomWidth"))};L.removeChild(M);M=null;return B.groupbox};var w=function(M,P){var N=function(){var R=0;for(var Q=0;Q<M.length;Q++){if(M[Q].style.display!=="none"){R+=M[Q].offsetHeight}}return R};var L=N(M);if(L===0||isNaN(L)){var O;var K=function(){var Q=N();if(Q===0||isNaN(Q)){O=setTimeout(K,100)}else{clearTimeout(O);P.apply(m,[Q])}};O=setTimeout(K,100)}else{P.apply(m,[L])}};var z=function(O){var L=O.split(".");var N=(window||this);for(var M=0,K=L.length;M<K;M++){N=N[L[M]]}if(typeof N!=="function"){throw new Error("function not found")}return N};var g=function(L,M){if("createEvent" in document){var K=document.createEvent("HTMLEvents");K.initEvent(M,false,true);L.dispatchEvent(K)}else{L.fireEvent("on"+M)}};var d=function(L,K,N){var M=javaxt.dhtml.utils.createTable();if(L){M.style.width=L}else{M.style.width=""}if(K){M.style.height=K}else{M.style.height=""}if(N){M.setAttribute("desc",N)}return M};var A=function(L,K){javaxt.dhtml.utils.setStyle(L,B.style[K])};var D=javaxt.dhtml.utils.merge;var b=javaxt.dhtml.utils.onRender;var u=javaxt.dhtml.utils.createElement;var F=javaxt.dhtml.utils.addResizeListener;var h=javaxt.dhtml.utils.isString;var q=javaxt.dhtml.utils.isArray;G()};
javaxt.dhtml.MenuLayout=function(l,v){this.className="javaxt.dhtml.MenuLayout";var w=this;var o={animationSteps:250,transitionEffect:"linear",fx:null,menuWidth:250,menuPosition:"left",title:"",style:{header:{height:"35px",backgroundColor:"#777777",color:"#FFFFFF"},title:{lineHeight:"35px",position:"absolute",width:"100%",whiteSpace:"nowrap",fontFamily:"helvetica,arial,verdana,sans-serif",fontSize:"20px",color:"white",textAlign:"center",cursor:"pointer"},menu:{backgroundColor:"#4BB5EF"},menuIcon:{},body:{}}};var g;var x;var b;var y;var j;var u;var z;var a,m;var c;var s=false;var r=function(){if(typeof l==="string"){l=document.getElementById(l)}if(!l){return}var H={};h(H,v);o.style.menuIcon=e;h(H,o);v=H;a=v.menuWidth;m=v.menuPosition;if(m==="right"){}else{m="left"}z=v.title;var A=q("div",l,{width:"100%",height:"100%",position:"relative"});A.setAttribute("desc",w.className);w.el=A;var C=d(A);C.setAttribute("desc",w.className);var E=C.addRow();var G=E.addColumn({width:"100%",height:"100%",border:"0px",verticalAlign:"top"});g=q("div",G,{width:"100%",height:"100%",position:"relative"});var B=q("div",g,{width:"100%",height:"100%",position:"absolute",overflow:"hidden"});x=q("div",B,{width:(g.offsetWidth+a)+"px",height:"100%",position:"relative",marginLeft:(m==="left"?-a:0)+"px"});if(v.fx){v.fx.setTransition(x,v.transitionEffect,v.animationSteps)}C=d(x);E=C.addRow();var D=E.addColumn({height:"100%",verticalAlign:"top"});if(m==="right"){D.style.width="100%"}var F=E.addColumn({height:"100%",verticalAlign:"top"});if(m==="left"){F.style.width="100%"}y=q("div",v.style.menu);y.style.height="100%";y.style.width=a+"px";if(m==="left"){D.appendChild(y)}else{F.appendChild(y)}C=d();E=C.addRow();b=E.addColumn(v.style.header);b.style.width="100%";E=C.addRow();j=E.addColumn(v.style.body);j.style.width="100%";j.style.height="100%";j.style.verticalAlign="top";if(m==="left"){F.appendChild(C)}else{D.appendChild(C)}f(j,function(){b.appendChild(n());i(g,function(){w.resize();w.onResize()});window.scrollTo(0,1)})};var n=function(){var B=d();var D=B.addRow();var C=D.addColumn();var A=D.addColumn({width:"100%",height:"100%"});A.appendChild(k());var F=D.addColumn();var E=(m==="left")?C:F;E.onclick=function(){var G=parseFloat(x.style.marginLeft);if(G<0){w.showMenu()}else{w.hideMenu()}};if(typeof v.style.menuIcon==="function"){c=v.style.menuIcon()}else{c=q("div",v.style.menuIcon)}E.appendChild(c);return B};var e=function(){var D=b.offsetHeight;var E=q("div",{width:D+"px",height:D+"px",position:"relative",cursor:"pointer"});var B=q("div",E,{width:"100%",height:"100%",position:"absolute",overflow:"hidden"});var C=22;var F=3;var G=3;for(var A=0;A<3;A++){q("div",B,{width:C+"px",height:F+"px",background:"#FFFFFF",marginBottom:G+"px"})}B.style.marginLeft=((D-C)/2)+"px";B.style.marginTop=((D-((F+G)*3))/2)+"px";return E};this.getMenuIcon=function(){return c};var k=function(){var B=q("div",{width:"100%",height:"100%",position:"relative"});var A=q("div",B,{width:"100%",height:"100%",position:"absolute",overflow:"hidden"});u=q("div",A,v.style.title);w.setTitle(z);return B};this.setTitle=function(A){z=A;if(p(z)){u.innerHTML="";u.appendChild(z)}else{u.innerHTML=z}};this.getTitle=function(){return z};this.isMenuVisible=function(){return s};this.showMenu=function(){if(s){return}w.beforeShow();s=true;if(v.fx){setTimeout(function(){x.style.marginLeft="0px";setTimeout(function(){w.onShow.apply(w,[])},v.animationSteps+50)},50)}else{t(true,new Date().getTime(),v.animationSteps,w.onShow)}};this.hideMenu=function(){if(!s){return}w.beforeHide();var A=function(){s=false;w.onHide.apply(w,[])};if(v.fx){setTimeout(function(){x.style.marginLeft=-a+"px";setTimeout(A,v.animationSteps+50)},50)}else{t(false,new Date().getTime(),v.animationSteps,A)}};this.onShow=function(){};this.onHide=function(){};this.beforeShow=function(){};this.beforeHide=function(){};var t=function(B,C,G,F){var A=new Date().getTime();var E=A-C;if(G<=E){x.style.marginLeft=B?"0px":-a+"px";if(F!=null){F.apply(w,[])}return}G-=E;var D;if(B){D=Math.round((G/v.animationSteps)*a)}else{D=a-Math.round((G/v.animationSteps)*a)}x.style.marginLeft=-D+"px";setTimeout(function(){t(B,A,G,F)},33)};this.resize=function(){x.style.width=(g.offsetWidth+a)+"px"};this.onResize=function(){};this.getMenu=function(){return y};this.getBody=function(){return j};var h=javaxt.dhtml.utils.merge;var f=javaxt.dhtml.utils.onRender;var d=javaxt.dhtml.utils.createTable;var q=javaxt.dhtml.utils.createElement;var i=javaxt.dhtml.utils.addResizeListener;var p=javaxt.dhtml.utils.isElement;r()};
javaxt.dhtml.PlayControl=function(h,b){this.className="javaxt.dhtml.PlayControl";var f=this;var a;var i=false;var c;var e=false;var d={startTime:0,speed:0.2,totalTime:60,style:{groove:{},handle:{}}};var j=function(){var l={};g(l,b);g(l,d);b=l;var k=false;a=new javaxt.dhtml.Slider(h,b);a.onChange=function(){if(k){f.onChange(f.getElapsedTime())}};a.onDrag=function(){var m=i;if(i){f.pause()}if(m){f.play(e)}};a.onRender=function(){f.setElapsedTime(b.startTime);k=true}};this.setRunTime=function(k){if(k===b.totalTime){return}var l=false;if(i){f.pause();l=true}b.totalTime=k;if(l){f.play()}};this.play=function(m){if(i===true){return}if(m===true){e=true}else{e=false}i=true;var k=new Date().getTime();var l=a.getPosition();if(l>0){k=k-((l/a.getWidth())*b.totalTime)*1000}c=setInterval(function(){var n=a.getWidth();var o=(new Date().getTime()-k)/1000;var q=o/b.totalTime;var p=n*q;if(p>=n){if(e===true){f.onEnd();a.setValue(0);k=new Date().getTime()}else{a.setValue(n);f.pause();f.onEnd()}}else{a.setValue(p)}},b.speed*1000)};this.pause=function(){clearInterval(c);i=false};this.stop=function(){f.pause();a.setValue(0)};this.isPlaying=function(){return i};this.getElapsedTime=function(){return(a.getPosition()/a.getWidth())*b.totalTime};this.setElapsedTime=function(m){if(m==null||m<0){return}var l=a.getWidth();var k=Math.ceil((m/b.totalTime)*l);if(k>l){k=0}a.setValue(k)};this.onChange=function(k){};this.onEnd=function(){};var g=javaxt.dhtml.utils.merge;j()};
javaxt.dhtml.Slider=function(e,q){var r=this;var f={value:0,disabled:false,units:"pixels",style:{groove:{position:"relative",display:"inline-block",backgroundColor:"#fff",backgroundImage:"linear-gradient(#4ea7ff, #6d72a5)",backgroundRepeat:"no-repeat",height:"9px",border:"1px solid #dcdcdc",borderRadius:"4px"},handle:{position:"absolute",display:"inline-block",width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"#dcdcdc",backgroundImage:"linear-gradient(#aaa, #ddd, #ccc)"}}};var l=false;var p,k,m;var j;var h=0;var d=0;var g=0;var n=function(){if(typeof e==="string"){e=document.getElementById(e)}if(!e){return}var s={};c(s,q);c(s,f);q=s;k=i("div",e,q.style.groove);k.style.position="relative";k.style.padding="0px";k.style.width="100%";r.el=k;p=i("div",k,q.style.handle);p.style.position="absolute";b(k,function(){var t=javaxt.dhtml.utils.getRect(p);var u=javaxt.dhtml.utils.getRect(k);d=t.width;g=t.height;h=u.height;a(0,true);p.style.left=-(d/2)+"px";p.style.top=(-(g/2)+(h/2))+"px";var v=0;o(p,{onDragStart:function(x,w){u=javaxt.dhtml.utils.getRect(k);t=javaxt.dhtml.utils.getRect(p);v=x-t.left},onDrag:function(B,A){var z=d/2;var y=-z;var C=u.width-z;var w=(B-u.left)-v;if(w<y){w=y}else{if(w>C){w=C}}this.style.left=w+"px";var D=w+z;a(D);if(q.units==="percent"){D=(j/u.width)*100}r.onDrag(D)},onDragEnd:function(){this.style.cursor="default"}});if(q.disabled===true){r.disable()}l=true;r.setValue(q.value,true);r.onRender()})};this.enable=function(){var s=r.el;s.style.opacity="";if(m){m.style.visibility="hidden"}};this.disable=function(){var t=r.el;t.style.opacity="0.5";if(m){m.style.visibility="visible"}else{m=i("div");m.setAttribute("desc","mask");m.style.position="absolute";m.style.zIndex=1;m.style.width="100%";m.style.height=g+"px";m.style.top=p.style.top;m.style.left=-(d/2)+"px";var s=m.cloneNode();s.style.top="";s.style.left="";s.style.right=-(d/2)+"px";m.appendChild(s);t.insertBefore(m,t.firstChild)}};this.isEnabled=function(){return !r.isDisabled()};this.isDisabled=function(){if(m){if(m.style.visibility!=="hidden"){return true}}return false};this.onRender=function(){};this.onDrag=function(s){};this.onChange=function(s){};this.getValue=function(){var u=(arguments.length>0&&arguments[0]===true)||q.units==="percent";if(u===true){var s=r.getWidth();var t=(j/s)*100;return t}else{return j}};this.getPosition=function(){return j};this.getWidth=function(){return javaxt.dhtml.utils.getRect(k).width};this.setValue=function(s,t){if(!l){q.value=s;return}b(k,function(){var u=function(v){p.style.left=(v-(d/2))+"px";a(v,t)};if(javaxt.dhtml.utils.isString(s)){if(s.lastIndexOf("%")===s.length-1){s=parseFloat(s.substring(0,s.length-1));if(isNaN(s)||s<0||s>100){return}s=r.getWidth()*(s/100);u(s)}}else{s=parseFloat(s+"");if(s<0){return}if(q.units==="percent"){if(s>100){return}s=r.getWidth()*(s/100)}u(s)}})};var a=function(s,u){if(s===j){return}j=s;var t=r.getWidth();var y=(s/t)*100;var v=y+"% auto, 100% auto";k.style.MozBackgroundSize=v;k.style.backgroundSize=v;if(u===true){return}var z=j;if(q.units==="percent"){z=y}r.onChange(z)};var i=javaxt.dhtml.utils.createElement;var o=javaxt.dhtml.utils.initDrag;var b=javaxt.dhtml.utils.onRender;var c=javaxt.dhtml.utils.merge;n()};
javaxt.dhtml.Switch=function(k,b){var h=this;var d={value:true,style:{groove:{backgroundColor:"#dcdcdc",width:"40px",height:"24px",borderRadius:"12px",position:"relative"},handle:{width:"20px",height:"20px",backgroundColor:"#fff",borderRadius:"10px",position:"absolute",margin:"2px",boxShadow:"0px 3px 4px rgba(0, 0, 0, 0.2)"},grooveActive:{backgroundColor:"#4bd763",width:"40px",height:"24px",borderRadius:"12px",position:"relative"},handleActive:{width:"20px",height:"20px",backgroundColor:"#fff",borderRadius:"10px",position:"absolute",margin:"2px",boxShadow:"0px 3px 4px rgba(0, 0, 0, 0.2)"}}};var e,g,j;var l=function(){if(typeof k==="string"){k=document.getElementById(k)}if(!k){return}var m={};i(m,b);i(m,d);b=m;e=c("div",k,b.style.groove);e.onclick=function(){h.setValue(!h.getValue())};g=c("div",e,b.style.handle);h.setValue(b.value,true);h.el=e;a(h)};this.getValue=function(){return j};this.setValue=function(m,n){if(m===true||m===false){if(m===j){return}if(m===true){f(e,b.style.grooveActive);f(g,b.style.handleActive);g.style.left="";g.style.right=0}else{f(e,b.style.groove);f(g,b.style.handle);g.style.right="";g.style.left=0}j=m;if(n===true){}else{h.onChange(j)}}};this.onChange=function(m){};var i=javaxt.dhtml.utils.merge;var f=javaxt.dhtml.utils.setStyle;var a=javaxt.dhtml.utils.addShowHide;var c=javaxt.dhtml.utils.createElement;l()};
javaxt.dhtml.Table=function(l,y){this.className="javaxt.dhtml.Table";var o=this;var q=false;var d,r;var s;var C;var i;var f;var p=false;var n=false;var F=false;var m=true;var K={columns:[],multiselect:false,overflow:true,hideHeader:false,focusOnMouseover:false,style:{table:{width:"100%",height:"100%",margin:0,padding:0,borderCollapse:"collapse"},headerRow:{height:"35px",borderBottom:"1px solid #8f8f8f",background:"#eaeaea"},headerColumn:{lineHeight:"35px",borderLeft:"1px solid #cccccc",borderRight:"1px solid #cccccc",padding:"0 5px",color:"#272727",cursor:"pointer",whiteSpace:"nowrap"},row:{height:"35px",borderBottom:"1px solid #cccccc"},column:{height:"35px",lineHeight:"35px",borderLeft:"1px solid #cccccc",borderRight:"1px solid #cccccc",padding:"0 5px",color:"#272727",cursor:"default",whiteSpace:"nowrap"},selectedRow:{height:"35px",borderBottom:"1px solid #cccccc",backgroundColor:"#FFFFB1"},resizeHandle:{width:"5px",cursor:"col-resize",marginRight:"-2px"},mask:{backgroundColor:"rgba(0,0,0,0.5)"},iscroll:null}};var E=function(){if(typeof l==="string"){l=document.getElementById(l)}if(!l){return}var Q={};B(Q,y);B(Q,K);y=Q;if(!y.columns||y.columns.length===0){return}if(typeof IScroll!=="undefined"){var L=y.style.iscroll?y.style.iscroll.columnWidth:null;if(!L){L="15px"}if(L<=0||L==="0px"||L==="0%"){}else{y.columns.push({header:"",width:L})}}var T,R,M;T=e(l);T.className="javaxt-table";x(T,"table");o.el=T;G(o);k(l);R=T.addRow();R.setAttribute("desc","Header Row");x(R,"headerRow");M=R.addColumn();M.style.width="100%";M.style.height="inherit";d=e(M);if(y.hideHeader===true){R.style.visibility="hidden";R.style.display="none"}R=T.addRow();R.setAttribute("desc","Body Row");M=R.addColumn({width:"100%",height:"100%"});s=v("div",M,{width:"100%",height:"100%",position:"relative"});s.setAttribute("desc","body-div");s.tabIndex=-1;s.onmouseover=function(){if(y.focusOnMouseover===true){var V=window.scrollX,W=window.scrollY;this.focus();window.scrollTo(V,W)}};s.addEventListener("keydown",function(V){if(V.keyCode===16){n=true}if(V.keyCode===17){p=true}if(V.keyCode===18){F=true}if(V.keyCode===38||V.keyCode===40){V.preventDefault();V.stopPropagation()}});s.addEventListener("keyup",function(X){if(X.keyCode===16){n=false}if(X.keyCode===17){p=false}if(X.keyCode===18){F=false}if(X.keyCode===38||X.keyCode===40){var V,W;o.forEachRow(function(Z){if(Z.selected){V=Z}W=Z});if(V){var Y;if(X.keyCode===40){Y=V.nextSibling}else{Y=V.previousSibling}if(Y){o.scrollTo(Y);Y.click()}}}o.onKeyEvent(X.keyCode,{shift:n,ctrl:p,alt:F})});s=v("div",s,{width:"100%",height:"100%",position:"absolute",overflow:"scroll",overflowX:"hidden"});r=e(s);r.style.height="";R=h(d,1);var O=v("div",R.addColumn());R=d.addRow();for(var N=0;N<y.columns.length;N++){var U=y.columns[N];var P=U.align;if(P=="right"){U.align="center"}var S=I(U,true,N);U.align=P;S.setContent(U.header);if(typeof U.header==="string"){U.label=U.header}else{U.label=U.header.innerText}S.colID=N;S.onclick=function(W){var V=this.colID;var Y=y.columns[V];o.onHeaderClick(V,Y,this,W);if(Y!=null){var X=Y.onHeaderClick;if(X!=null){X.apply(o,[N,S,W])}}};R.appendChild(S)}R.addColumn();h(r,1);a(s,function(){var Y=function(ab){var aa=s.scrollHeight-s.clientHeight;o.onScroll(ab,aa,s.offsetHeight)};if(typeof IScroll!=="undefined"){s.style.overflowY="hidden";o.iScroll=new IScroll(s,{scrollbars:y.style.iscroll?"custom":true,mouseWheel:true,fadeScrollbars:false,hideScrollbars:false});if(y.style.iscroll){x(o.iScroll,"iscroll")}var Z=o.iScroll._translate;o.iScroll._translate=function(aa,ab){if(!m){return}Z.apply(o.iScroll,arguments);Y(-o.iScroll.y)};o.iScroll.on("beforeScrollStart",function(){Y(-o.iScroll.y)});o.iScroll.on("scrollStart",function(){Y(-o.iScroll.y)});o.iScroll.on("scrollEnd",function(){Y(-o.iScroll.y)})}else{if(y.overflow===false){s.style.overflowY="hidden"}s.onscroll=function(aa){if(!m){aa.preventDefault();return}Y(s.scrollTop)}}var W=s.offsetWidth;var V=r.offsetWidth;var X=Math.abs(W-V);O.style.width=X+"px";D(l,function(){C.resize();o.update()})})};var h=function(S,R){var T=S.addRow();for(var N=0;N<y.columns.length;N++){var U=y.columns[N];var Q={};B(Q,U);var P=T.addColumn();P.style.height=A(R);if(U.hidden===true){P.style.visibility="hidden";P.style.display="none";P.style.width="0px"}else{var M=U.width;P.style.width=A((M==null)?25:M);var L=U.minWidth;if(L){P.style.minWidth=A(L)}}var O=v("div",P);O.style.width=A(((M+"").indexOf("%")>-1)?25:M);O.style.height=A(R)}return T};var I=function(N,R,M){var L=v("td");if(R===true){x(L,"headerColumn")}else{x(L,"column")}L.style.textAlign=N.align;if(N.hidden===true){L.style.visibility="hidden";L.style.display="none"}if(N.selecttext===true){}else{L.style.userSelect="none";L.style.webkitUserSelect="none";L.style.MozUserSelect="none";L.setAttribute("unselectable","on")}var P=v("div",L,{position:"relative",height:"100%"});var O=v("div",P,{position:"absolute",width:"100%",height:"100%",overflow:"hidden"});if(N.resizable===true){if(R&&M<y.columns.length-1){var Q=v("div",P);x(Q,"resizeHandle");Q.style.position="absolute";Q.style.right=0;Q.style.top=0;Q.style.height="100%"}}L.innerDiv=O;L.setContent=g;L.getContent=w;return L};this.addRows=function(O){if(!u(O)){O=parseInt(O);if(isNaN(O)){return}else{var P=O;O=[];var N=[];for(var M=0;M<y.columns.length;M++){N.push("")}for(var M=0;M<P;M++){O.push(N)}}}q=true;var L=[];for(var M=0;M<O.length;M++){L.push(o.addRow(O[M]))}q=false;o.update();return L};this.addRow=function(){var P=arguments;if(u(P[0])){P=P[0]}var Q=r.addRow();Q.selected=false;x(Q,"row");Q.get=b;Q.set=t;Q.onclick=z;Q.oncontextmenu=function(R){if(this.selected){this.selected=false}z.apply(this,[R])};if(!f){f=[];for(var N=0;N<y.columns.length;N++){var M=y.columns[N];var O={};B(O,M);var L=I(O);f.push(L)}}for(var N=0;N<y.columns.length;N++){var L=f[N].cloneNode(true);L.innerDiv=L.firstChild.firstChild;L.setContent=g;L.getContent=w;L.setContent(P[N]);Q.appendChild(L)}if(!q){o.update()}return Q};var g=function(L){if(L==null||typeof L==="undefined"){this.innerDiv.innerHTML=""}else{if(H(L)){this.innerDiv.innerHTML="";try{this.innerDiv.appendChild(L);return}catch(M){}}this.innerDiv.innerHTML=L}};var w=function(){if(this.innerDiv.childNodes){if(this.innerDiv.childNodes.length>0){var L=this.innerDiv.childNodes[0];if(L.nodeType===1){return L}else{return this.innerDiv.innerHTML}}}return null};var b=function(O){var P=parseInt(O);if(isNaN(P)){for(var N=0;N<y.columns.length;N++){var L=y.columns[N];var M=L.label;if(M===O){return this.childNodes[N].getContent()}}}else{return this.childNodes[P].getContent()}};var t=function(O,P){var Q=parseInt(O);if(isNaN(Q)){for(var N=0;N<y.columns.length;N++){var L=y.columns[N];var M=L.label;if(M===O){this.childNodes[N].setContent(P);return}}}else{if(Q<0||Q>y.columns.length-1){return}this.childNodes[Q].setContent(P)}};var z=function(L){var Y=this;var Z=[Y];var R=function(){var ac=r.getRows();for(var aa=1;aa<ac.length;aa++){var ab=ac[aa];if(ab.selected){o.deselect(ab);Z.push(ab)}}o.select(Y)};if(y.multiselect===true){var T;if(L){T=L}else{if(window.event){T=window.event}}if(Y.selected){if(T.ctrlKey){o.deselect(Y);var X=r.getRows();for(var Q=1;Q<X.length;Q++){var V=X[Q];if(V.selected&&V!=Y){Z.push(V)}}}else{var M=0;var X=r.getRows();for(var Q=1;Q<X.length;Q++){var V=X[Q];if(V.selected){if(V!=Y){o.deselect(V);Z.push(V);M++}}}if(M===0){o.deselect(Y)}}}else{if(T.shiftKey){var P=Y.parentNode;var O,W;for(var Q=0;Q<P.childNodes.length;Q++){var V=P.childNodes[Q];if(V===i){O=Q}if(V===Y){W=Q}}var M=[];for(var Q=Math.min(W,O);Q<=Math.max(W,O);Q++){var V=P.childNodes[Q];o.select(V);if(V!=Y){Z.push(V)}M.push(V)}var X=r.getRows();for(var Q=1;Q<X.length;Q++){var V=X[Q];if(V.selected){var U=true;for(var N=0;N<M.length;N++){var S=M[N];if(V==S){U=false}}if(U){o.deselect(V);Z.push(V)}}}}else{if(T.ctrlKey){o.select(Y);var X=r.getRows();for(var Q=1;Q<X.length;Q++){var V=X[Q];if(V.selected&&V!=Y){Z.push(V)}}}else{R()}}}}else{if(Y.selected){o.deselect(Y)}else{R()}}o.onRowClick(Y,L);o.onSelectionChange(Z);i=Y};this.select=function(L){if(L.selected){return}L.selected=true;x(L,"selectedRow")};this.deselect=function(L){if(L.selected){L.selected=false;x(L,"row")}};this.selectAll=function(){var N=[];if(y.multiselect===true){var O=r.getRows();for(var L=1;L<O.length;L++){var M=O[L];if(!M.selected){o.select(M);N.push(M)}}i=null;if(N.length){o.onSelectionChange(N)}}};this.deselectAll=function(){var N=[];if(r){var O=r.getRows();for(var L=1;L<O.length;L++){var M=O[L];if(M.selected){o.deselect(M);N.push(M)}}}i=null;if(N.length>0){o.onSelectionChange(N)}};this.onSelectionChange=function(L){};this.onRowClick=function(M,L){};this.onHeaderClick=function(M,O,L,N){};this.onKeyEvent=function(M,L){};this.focus=function(){var L=window.scrollX,M=window.scrollY;s.parentNode.focus();window.scrollTo(L,M)};this.clear=function(){if(!r){return}o.deselectAll();var L=r.getRows();while(L.length>1){r.removeRow(L[1]);L=r.getRows()}o.update()};this.update=function(){if(o.iScroll){o.iScroll.refresh()}o.onOverflow(o.hasOverflow())};this.hasOverflow=function(){return(s.offsetHeight<s.scrollHeight||s.offsetWidth<s.scrollWidth)};this.onOverflow=function(L){};this.onScroll=function(N,M,L){};this.scrollTo=function(S,P){var R=javaxt.dhtml.utils.getRect(s);if(H(S)){var O=javaxt.dhtml.utils.getRect(S);var Q=O.height/2;var T={left:R.left,right:R.right,top:R.top+Q,bottom:R.bottom-Q};if(!javaxt.dhtml.utils.intersects(T,O)){var N=o.getScrollInfo();var M=O.top+N.y;if(M>R.bottom){P=M+O.height-R.bottom}else{if(M+O.height>R.top){P=M-R.top}else{}}}}if(!J(P)){return}if(o.iScroll){o.iScroll.scrollTo(0,-P)}else{s.scrollTop=P}var L=s.scrollHeight-s.clientHeight;o.onScroll(P,L,R.height)};this.getScrollInfo=function(){return{x:o.iScroll?-o.iScroll.x:s.scrollLeft,y:o.iScroll?-o.iScroll.y:s.scrollTop,w:s.offsetWidth,h:s.offsetHeight,maxY:s.scrollHeight-s.clientHeight,enabled:m}};this.enableScroll=function(){m=true};this.disableScroll=function(){m=false};this.isScrollEnabled=function(){return m};this.getRowCount=function(){return r.getRows().length-1};this.forEachRow=function(S){if(S==null){return}var R=r.getRows();for(var O=1;O<R.length;O++){var Q=R[O];var P=[];for(var N=0;N<Q.childNodes.length;N++){var M=Q.childNodes[N];P.push(M.getContent())}var L=S.apply(o,[Q,P]);if(L===true){return}}};this.updateRow=function(O,N){for(var M=0;M<O.childNodes.length;M++){var L=O.childNodes[M];L.setContent(N[M])}};this.removeRow=function(O){var N=o.getScrollInfo();var L=N.x;var P=N.y;var M=O.offsetHeight;r.removeRow(O);o.update();o.scrollTo(L,P-M)};this.getColumnWidth=function(L){var M=r.getRows();return M[0].childNodes[L].offsetWidth};this.showColumn=function(L){var M=d.getRows();var O=M[0].childNodes.length;if(L>=O){return}var R=r.getRows();var P=j(M);P=P.concat(j(R));for(var N=0;N<P.length;N++){var Q=P[N].childNodes;Q[L].style.visibility="";Q[L].style.display=""}};this.hideColumn=function(L){var M=d.getRows();var O=M[0].childNodes.length;if(L>=O){return}var R=r.getRows();if(R[0].childNodes[L].style.display=="none"){return}var P=j(M);P=P.concat(j(R));for(var N=0;N<P.length;N++){var Q=P[N].childNodes;Q[L].style.visibility="hidden";Q[L].style.display="none"}};var j=function(M){var L=[];for(var N=0;N<M.length;N++){L.push(M[N])}return L};var A=function(M){var N=M+"";var L=N.substring(N.length-1).toLowerCase();if(L=="x"||L=="%"){return N}L=parseFloat(M);if(isNaN(L)){return M}else{return L+"px"}};var k=function(M){C=v("div",M,y.style.mask);C.style.position="absolute";C.style.top=0;C.style.left=0;var L=function(){var N=javaxt.dhtml.utils.getRect(o.el);C.style.top=N.top;C.style.left=N.left;C.style.width=N.width+"px";C.style.height=N.height+"px"};C.show=function(){L();var N=c(M);var O=N.zIndex;if(!N.contains(C)){O++}C.zIndex=O;C.style.visibility="";C.style.display=""};C.hide=function(){C.style.visibility="hidden";C.style.display="none"};C.isVisible=function(){return !(C.style.visibility==="hidden"&&C.style.display==="none")};C.resize=function(){if(C.isVisible()){L()}};C.hide()};this.getMask=function(){return C};var B=javaxt.dhtml.utils.merge;var a=javaxt.dhtml.utils.onRender;var G=javaxt.dhtml.utils.addShowHide;var D=javaxt.dhtml.utils.addResizeListener;var u=javaxt.dhtml.utils.isArray;var J=javaxt.dhtml.utils.isNumber;var H=javaxt.dhtml.utils.isElement;var v=javaxt.dhtml.utils.createElement;var e=javaxt.dhtml.utils.createTable;var c=javaxt.dhtml.utils.getHighestElements;var x=function(M,L){javaxt.dhtml.utils.setStyle(M,y.style[L])};E()};
javaxt.dhtml.TabPanel=function(parent,config){this.className="javaxt.dhtml.TabPanel";var me=this;var tabList;var tabContent;var defaultConfig={closable:false,style:{tabBar:{border:"1px solid #ccc",backgroundColor:"#eaeaea",height:"30px",borderBottom:"0px"},activeTab:{lineHeight:"30px",padding:"0 7px",backgroundColor:"#fafafa",cursor:"default",borderRight:"1px solid #ccc",borderBottom:"1px solid #fafafa"},inactiveTab:{lineHeight:"30px",padding:"0 7px",cursor:"pointer",borderRight:"1px solid #ccc",borderBottom:"0px"},tabBody:{border:"1px solid #ccc",verticalAlign:"top"},closeIcon:{}}};var init=function(){if(typeof parent==="string"){parent=document.getElementById(parent);}
if(!parent)return;var clone={};merge(clone,config);merge(clone,defaultConfig);config=clone;var table=createTable(parent);table.className="javaxt-tab-panel";var td=table.addRow().addColumn();setStyle(td,"tabBar");td.style.width="100%";tabList=createElement("ul",td,{listStyle:"none outside none",height:"100%",padding:0,margin:0});var td=table.addRow().addColumn();setStyle(td,"tabBody");td.style.width="100%";td.style.height="100%";tabContent=createElement("div",td,{width:"100%",height:"100%",position:"relative"});me.el=table;};this.addTab=function(label,el){var div=createElement("div",tabContent,{width:"100%",height:"100%",position:"absolute"});if(el==null)div.innerHTML="";else{if(isElement(el)){var p=el.parentNode;if(p)p.removeChild(el);div.appendChild(el);}
else{if(typeof el==="string"){div.innerHTML=el;}}}
var tab=createElement("li",tabList);setStyle(tab,"inactiveTab");tab.style.position="relative";tab.style.float="left";tab.style.height="100%";tab.innerHTML=label;tab.el=div;tab.onclick=function(){raiseTab(this);};tab.onselectstart=function(){return false;};tab.onmousedown=function(){return false;};for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t!==tab){setStyle(t,"inactiveTab");t.style.position="relative";t.style.float="left";t.style.height="100%";hideTabContent(t);}}
div.style.display='none';raiseTab(tab);};this.getTabs=function(){var tabs=[];for(var i=0;i<tabList.childNodes.length;i++){var tab=tabList.childNodes[i];tabs.push(getTabInfo(tab));}
return tabs;};this.raiseTab=function(id){var tab=findTab(id);if(tab)raiseTab(tab);};var raiseTab=function(tab){if(tab.style.display==='none')return;if(tab.el.style.display==='none'){var currTab=null;for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t.el.style.display==='block'){currTab=t;break;}}
setStyle(tab,"activeTab");tab.style.position="relative";tab.style.float="left";tab.style.height="100%";tab.el.style.display='';for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t!==tab){if(t.style.display!=='none'){setInactive(t);}}}
tab.el.style.display='block';tab.el.style.zIndex=1;me.onTabChange(getTabInfo(tab),getTabInfo(currTab));}};var getTabInfo=function(tab){if(tab==null)return null;var hidden=(tab.style.display==='none');var active=(tab.el.style.display!=='none');return{name:tab.innerText,el:tab.el,header:tab,body:tab.el,hidden:hidden,active:active};};this.setActiveTab=this.raiseTab;this.onTabChange=function(currTab,prevTab){};this.removeTab=function(id){var tab=findTab(id);if(tab){var nextTab=tab.nextSibling;if(!nextTab)nextTab=tab.previousSibling;tabContent.removeChild(tab.el);tabList.removeChild(tab);if(nextTab)raiseTab(nextTab);}};this.hideTab=function(id){var tab=findTab(id);if(tab){if(tab.style.display==='none')return;var nextTab=tab.nextSibling;if(!nextTab)nextTab=tab.previousSibling;setInactive(tab);tab.style.display='none';hideTabContent(tab);if(nextTab)raiseTab(nextTab);}};this.showTab=function(id){var tab=findTab(id);if(tab)tab.style.display='';};var findTab=function(id){if(isNaN(id)){if(typeof id==="string"){for(var i=0;i<tabList.childNodes.length;i++){var t=tabList.childNodes[i];if(t.innerHTML===id){return t;}}}}
else{if(id<tabList.childNodes.length){return tabList.childNodes[id];}}
return null;};var setInactive=function(tab){setStyle(tab,"inactiveTab");tab.style.position="relative";tab.style.float="left";tab.style.height="100%";hideTabContent(tab);};var hideTabContent=function(tab){tab.el.style.display='none';tab.el.style.zIndex='';};var merge=javaxt.dhtml.utils.merge;var createTable=javaxt.dhtml.utils.createTable;var createElement=javaxt.dhtml.utils.createElement;var isElement=javaxt.dhtml.utils.isElement;var setStyle=function(el,style){javaxt.dhtml.utils.setStyle(el,config.style[style]);};init();};
javaxt.dhtml.Tree=function(f,x){this.className="javaxt.dhtml.Tree";var y=this;var k={style:{rowHeight:"20px",colWidth:"21px",backgroundColor:"white",cursor:"default",padding:0,li:"",label:{},leaf:"leaf",node:{open:"node_open",closed:"node"},root:{open:"root",closed:"root"},path:{node:{open:{middle:"join_node_middle_open",last:"join_node_bottom_open"},closed:{middle:"join_node_middle",last:"join_node_bottom"}},leaf:{middle:"join_leaf_middle",last:"join_leaf_bottom"},line:"join_line"}}};var q={ul:"grid",li:"inline-table"};var r=function(){if(typeof f==="string"){f=document.getElementById(f)}if(!f){return}var A={};c(A,x);c(A,k);x=A;var z=u(f);z.style.cursor=x.style.cursor;z.style.padding=x.style.padding;z.onselectstart=function(){return false};z.onmousedown=function(){return false};z.setAttribute("desc",y.className);y.el=z;if(x.nodes){y.addNodes(x.nodes)}};this.clear=function(){y.el.innerHTML=""};this.addNodes=function(z,C){var B=[];n(z,y.el,B);if(C===true){return}for(var A=0;A<B.length;A++){h(B[A],true)}};this.onClick=function(z){};this.onExpand=function(z){};this.onCollapse=function(z){};this.getItem=function(K){if(!g(K)){if(typeof K==="string"){K=K.split("/")}else{return null}}var B=function(O,M){if(M){for(var N=0;N<M.length;N++){if(m(M[N])){var L=M[N];if(!L.getText){continue}if(O===L.getText()){return L}}}}return null};var H;var z=y.el.childNodes;for(var F=0;F<K.length;F++){var J=K[F];var A=B(J,z);if(A){if(F==K.length-1){H=A}else{var E=A.nextSibling;if(E){z=[];for(var D=0;D<E.childNodes.length;D++){var G=E.childNodes[D];if(l(G)){for(var C=0;C<G.childNodes.length;C++){var I=G.childNodes[C];if(m(I)){z.push(I)}}}}}}}else{return null}}if(H){return e(H)}else{return null}};this.show=function(C){if(C){var A=C.el;var B=A.parentNode;w(B);if(a(A)!="leaf"){var z=A.nextSibling;if(l(z)){w(z)}}if(A.offsetParent===null&&B!==y.el){while(A.offsetParent===null){B=B.parentNode;if(m(B)){B=B.parentNode}w(B);if(y.el===B){break}}}}else{y.el.style.visibility="";y.el.style.display=""}};this.hide=function(z){if(z){}else{y.el.style.visibility="hidden";y.el.style.display="node"}};this.getPath=function(B){var z=[];if(B){z.push(B);var A=B.el;while(A!==y.el){A=A.parentNode;if(!A||A===y.el){break}if(l(A)){A=A.parentNode.previousSibling}if(!A||A===y.el){break}if(m(A)){z.push(e(A))}}}return z};var e=function(z){return{type:a(z),name:z.getText(),node:z.node,el:z}};var n=function(C,L,I){if(!C||C.length===0){return}var A;for(var G=0;G<C.length;G++){var E=C[G];if(j(E)){var B=E;E={name:B,expand:false,children:false}}var D=E.nodes;if(!D){D=E.leaves}if(m(L)){L=u(L)}var M=t(L);M.node=E;M.onclick=function(){var N=this;if(N.nextSibling){var P;if(N.nextSibling){for(var O=0;O<N.nextSibling.childNodes.length;O++){if(l(N.nextSibling.childNodes[O])){P=N.nextSibling.childNodes[O];break}}}if(P){if(P.style.visibility==="hidden"){w(P)}else{h(P)}}}y.onClick(e(this))};var H;if(D){H=u(t(L));H.style.width="100%";d(H.parentNode)}var F=a(M);if(F!=="root"){var z=v(F,true,(G===C.length-1));if(z){M.className=z;M.style.paddingLeft=x.style.colWidth}}else{M.style.padding=0;M.style.background="none"}var J;if(F=="leaf"){J=x.style.leaf}else{J=x.style[F].open}s(E.name,J,M);if(D){if(F!=="root"){H.style.paddingLeft=x.style.colWidth}var K=false;if(E.expand===true){K=true}if(!K){I.push(H)}n(D,H,I)}A=M}if(A){var F=a(A);if(F==="leaf"){d(A)}}};var d=function(z){var B=z.previousSibling;while(B){for(var A=0;A<B.childNodes.length;A++){if(l(B.childNodes[A])){var C=B.childNodes[A];p(C,x.style.path.line);C.style.height="100%";break}}B=B.previousSibling}};var w=function(C,B){if(C===y.el){return}C.parentNode.style.visibility="";C.parentNode.style.display=q.li;C.style.visibility="";C.style.display=q.ul;var z=C.parentNode.previousSibling;if(z){var A=a(z);var D=v(A,true,i(C.parentNode));if(D){z.className=D}if(A!=="leaf"){z.setIcon(x.style[A].open)}if(B===true){return}y.onExpand(e(z))}};var h=function(C,B){if(C===y.el){return}C.style.visibility="hidden";C.style.display="none";C.parentNode.style.visibility="hidden";C.parentNode.style.display="none";var z=C.parentNode.previousSibling;if(z){var A=a(z);var D=v(A,false,i(C.parentNode));if(D){z.className=D}if(A!=="leaf"){z.setIcon(x.style[A].closed)}if(B===true){return}y.onCollapse(e(z))}};var s=function(B,C,z){var D=o("div",z);D.style.width="100%";D.style.backgroundColor=x.style.backgroundColor;D.style.position="relative";D.style.overflow="hidden";D.style.height=x.style.rowHeight;var A;if(C){A=o("div",D,C);A.style.display="inline-block";A.style.position="absolute"}var E;if(B){var E=o("div",D,x.style.label);E.style.display="inline-block";E.style.position="absolute";E.style.paddingLeft=x.style.colWidth;E.style.lineHeight=x.style.rowHeight;E.innerHTML=B.replace(/^\s*/,"").replace(/\s*$/,"")}z.setIcon=function(F){if(A){A.className=F}};z.getText=function(){return E.innerText}};var a=function(z){if(z.parentNode===y.el){return"root"}else{var A=false;if(z.nextSibling){for(var B=0;B<z.nextSibling.childNodes.length;B++){if(l(z.nextSibling.childNodes[B])){A=true;break}}}if(A){return"node"}else{return"leaf"}}};var i=function(z){var D=z.parentNode.childNodes;for(var B=0;B<D.length;B++){if(D[B]===z){var C=false;for(var A=B+1;A<D.length;A++){if(m(D[A])){C=true;break}}if(C){return false}}}return true};var v=function(z,A,C){if(z!=="root"){var D=C?"last":"middle";var B=x.style.path[z];if(z!=="leaf"){if(A){B=B.open}else{B=B.closed}}B=B[D];if(typeof B==="string"){return B}else{}}return null};var u=function(z){if(z.tagName.toLowerCase()==="ul"){z=t(z)}return o("ul",z,{listStyleType:"none",padding:0,margin:0,display:q.ul,backgroundColor:x.style.backgroundColor})};var t=function(A){var z=o("li",A,x.style.li);z.style.width="100%";z.style.display=q.li;z.setIcon=function(B){};z.getText=function(){};return z};var m=function(z){return b(z,"li")};var l=function(z){return b(z,"ul")};var b=function(A,z){return A.tagName.toLowerCase()===z};var c=javaxt.dhtml.utils.merge;var p=javaxt.dhtml.utils.addStyle;var g=javaxt.dhtml.utils.isArray;var j=javaxt.dhtml.utils.isString;var o=javaxt.dhtml.utils.createElement;r()};
javaxt.dhtml.DataStore=function(f){var e=this;var d={};var b=[];this.length=0;var g=function(){if(a(f)){b=f;e.length=b.length}};this.addEventListener=function(h,j,i){if(!j){return}var k={fn:j,scope:i};if(d[h]){d[h].push(k)}else{d[h]=[k]}};var c=function(k,j){if(d[k]){var h=d[k];for(var l=0;l<h.length;l++){var m=h[l];m.fn.apply(m.scope,a(j)?j:[j])}}};this.push=function(h){e.add(h)};this.add=function(h){b.push(h);e.length=b.length;c("add",h)};this.insert=function(i,h){if(!isNaN(h)){b.splice(h,0,i)}else{b.push(i)}e.length=b.length;c("add",i)};this.pop=function(){var h=b.pop();e.length=b.length;c("remove",h)};this.shift=function(){var h=b.shift();e.length=b.length;c("remove",h)};this.remove=function(h){for(var j=0;j<b.length;j++){if(b[j]===h){e.removeAt(j);break}}};this.removeAt=function(h){e.splice(h,1)};this.clear=function(){e.splice(0,b.length)};this.splice=function(i,j){var h=b.splice(i,j);e.length=b.length;c("remove",h)};this.get=function(h){return b[h]};this.set=function(h,i){var j=b[h];b[h]=i;c("update",[i,j])};this.sort=function(h){b.sort(h)};this.forEach=function(k){if(!k){return}for(var h=0;h<b.length;h++){var j=k.apply(e,[e.get(h),h]);if(j===true){return}}};this.destroy=function(){b.splice(0,b.length);e.length=0;for(var k in d){if(d.hasOwnProperty(k)){var h=d[k];h=h.splice(0,h.length);for(var j=0;j<h.length;j++){h[j]=null}delete d[k]}}};var a=javaxt.dhtml.utils.isArray;g()};
javaxt.dhtml.Effects=function(){var e=this;this.fadeIn=function(h,g,i,j){h.style.opacity=0;h.style.display="";e.setTransition(h,g,i);setTimeout(function(){h.style.opacity="";setTimeout(function(){a(h);if(j){j.apply(h,[])}},i+50)},50)};this.fadeOut=function(h,g,i,j){e.setTransition(h,g,i);setTimeout(function(){h.style.opacity=0;setTimeout(function(){h.style.display="none";a(h);if(j){j.apply(h,[])}},i+50)},50)};this.setTransition=function(i,g,j){if(isNaN(j)||j<=0){return}var h=c(g);f(i,j,h)};var c=function(g){if(b(g)){return g}else{var h=javaxt.dhtml.Transitions[g];if(!h){h=javaxt.dhtml.Transitions.ease}return h}};var b=function(g){return(Object.prototype.toString.call(g)==="[object Array]")};var f=function(i,o,j){var h=j[0];var n=j[1];var g=j[2];var m=j[3];i.style.WebkitTransition=i.style.MozTransition=i.style.MsTransition=i.style.OTransition=i.style.transition="all "+o+"ms cubic-bezier("+h+", "+n+", "+g+", "+m+")";if(!d){var l,k;if(n>1){l=1}if(n<0){l=0}if(m>1){k=1}if(m<0){k=0}i.style.WebkitTransition="all "+o+"ms cubic-bezier("+h+", "+l+", "+g+", "+k+")"}};var a=function(g){g.style.WebkitTransition=g.style.MozTransition=g.style.MsTransition=g.style.OTransition=g.style.transition="";if(!d){g.style.WebkitTransition=""}};var d=(function(){var g=document.createElement("div");g.style.WebkitTransitionTimingFunction="cubic-bezier(1,0,0,1.1)";return !!g.style.WebkitTransitionTimingFunction.length})()};javaxt.dhtml.Transitions={linear:[0.25,0.25,0.75,0.75],ease:[0.25,0.1,0.25,1],easeIn:[0.42,0,1,1],easeOut:[0,0,0.58,1],easeInOut:[0.42,0,0.58,1],easeInQuad:[0.55,0.085,0.68,0.53],easeInCubic:[0.55,0.055,0.675,0.19],easeInQuart:[0.895,0.03,0.685,0.22],easeInQuint:[0.755,0.05,0.855,0.06],easeInSine:[0.47,0,0.745,0.715],easeInExpo:[0.95,0.05,0.795,0.035],easeInCirc:[0.6,0.04,0.98,0.335],easeInBack:[0.6,-0.28,0.735,0.045],easeOutQuad:[0.25,0.46,0.45,0.94],easeOutCubic:[0.215,0.61,0.355,1],easeOutQuart:[0.165,0.84,0.44,1],easeOutQuint:[0.23,1,0.32,1],easeOutSine:[0.39,0.575,0.565,1],easeOutExpo:[0.19,1,0.22,1],easeOutCirc:[0.075,0.82,0.165,1],easeOutBack:[0.175,0.885,0.32,1.275],easeInOutQuad:[0.455,0.03,0.515,0.955],easeInOutCubic:[0.645,0.045,0.355,1],easeInOutQuart:[0.77,0,0.175,1],easeInOutQuint:[0.86,0,0.07,1],easeInOutSine:[0.445,0.05,0.55,0.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[0.785,0.135,0.15,0.86],easeInOutBack:[0.68,-0.55,0.265,1.55]};
javaxt.dhtml.PageLoader=function(config){var me=this;var head=document.getElementsByTagName("head")[0];var debug=false;var includes;var init=function(){if(config){if(config.debug===true){debug=true}}};this.loadPage=function(url,onSuccess,onFail,onUpdate){me.load(url,function(html,title,inlineScripts){document.title=title;var body=document.getElementsByTagName("body")[0];body.innerHTML=html;for(var i=0;i<inlineScripts.length;i++){var script=inlineScripts[i].firstChild.nodeValue;var type=inlineScripts[i].getAttribute("type");if(type=="module"){script=script.replace("//<![CDATA[","").replace("//]]>","");var s=document.createElement("script");s.setAttribute("type",type);s.innerHTML=script;body.appendChild(s)}else{eval(script)}}dispatchEvent("load");if(onSuccess){onSuccess.apply(me,[])}},onFail,onUpdate)};this.load=function(url,onSuccess,onFail,onUpdate){get(url,function(html){var div=document.createElement("div");div.innerHTML=html;var title;var titles=div.getElementsByTagName("title");if(titles.length>0){title=titles[0].innerHTML}var inlineScripts=[];var externalScripts=[];var scripts=div.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].src.length>0){externalScripts.push(scripts[i].src)}else{inlineScripts.push(scripts[i])}}var css=[];var cssNodes=[];var links=div.getElementsByTagName("link");for(var i=0;i<links.length;i++){if(links[i].rel=="stylesheet"){if(links[i].href.length>0){css.push(links[i].href);cssNodes.push(links[i])}}}removeNodes(titles);removeNodes(div.getElementsByTagName("description"));removeNodes(div.getElementsByTagName("keywords"));removeNodes(div.getElementsByTagName("meta"));removeNodes(scripts);removeNodes(links);removeNodes(cssNodes);var comments=[];for(var i=0;i<div.childNodes.length;i++){var node=div.childNodes[i];if(node.nodeType==8){comments.push(node)}}while(comments.length>0){div.removeChild(comments[0]);comments.shift()}html=div.innerHTML;div=null;loadIncludes(css,externalScripts,function(){if(onSuccess){onSuccess.apply(me,[html,title,inlineScripts])}},onUpdate)},onFail)};this.loadApp=function(url,onSuccess,onFail,onUpdate){get(url,function(text,xml){var appInfo={};var application=xml.getElementsByTagName("application")[0];if(application){appInfo.name=application.getAttribute("name");appInfo.main=application.getAttribute("main")}var scripts=[];var css=[];var includes=xml.getElementsByTagName("includes")[0].childNodes;for(var i=0;i<includes.length;i++){var include=includes[i];if(include.nodeType==1){var type=include.getAttribute("type");if(type==="text/javascript"){scripts.push(include.getAttribute("src"))}else{if(type==="text/css"){css.push(include.getAttribute("href"))}}}}loadIncludes(css,scripts,function(){if(onSuccess){appInfo.init=function(){var cls=stringToFunction(this.main);return newInstance(cls).apply(arguments)};onSuccess.apply(me,[appInfo,xml])}},onUpdate)},onFail)};var loadIncludes=function(css,scripts,onComplete,onUpdate){parseIncludes();var addInclude=function(category,key){if(category=="css"){return true}var obj=includes[category];for(var k in obj){if(obj.hasOwnProperty(k)){if(k==key){return false}}}return true};var arr=[];for(var i=0;i<css.length;i++){if(addInclude("css",css[i])){var link=document.createElement("link");link.setAttribute("rel","stylesheet");link.setAttribute("type","text/css");link.setAttribute("href",css[i]);arr.push(link);includes.css[css[i]]=true}else{log("Skipping "+css[i]+"...")}}for(var i=0;i<scripts.length;i++){if(addInclude("scripts",scripts[i])){var script=document.createElement("script");script.setAttribute("type","text/javascript");script.setAttribute("src",scripts[i]);arr.push(script);includes.scripts[scripts[i]]=true}else{log("Skipping "+scripts[i]+"...")}}if(arr.length>0){var t=arr.length;var loadResource=function(obj){var processResponse=function(){var percentComplete=Math.round((1-(arr.length/t))*100);if(percentComplete===100&&arr.length>0){percentComplete=99}log(percentComplete+"%");if(onUpdate!=null){onUpdate({totalIncludes:t,remainingIncludes:arr.length,percentComplete:percentComplete})}if(arr.length>0){loadResource(arr.shift())}else{if(onComplete!=null){onComplete.apply(me,[])}}};obj.onload=function(){processResponse()};obj.onerror=function(){processResponse()};head.appendChild(obj)};loadResource(arr.shift())}else{if(onComplete!=null){onComplete.apply(me,[])}}};var parseIncludes=function(){if(includes){return}includes={css:{},scripts:{}};var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].src.length>0){includes.scripts[scripts[i].src]=true}}var css=document.getElementsByTagName("link");for(var i=0;i<css.length;i++){if(css[i].rel=="stylesheet"){if(css[i].href.length>0){includes.css[css[i].href]=true}}}};var removeNodes=function(nodes){while(nodes.length>0){var node=nodes[0];var parent=node.parentNode;if(!parent){break}parent.removeChild(node)}};var stringToFunction=function(str){var arr=str.split(".");var fn=(window||this);for(var i=0,len=arr.length;i<len;i++){fn=fn[arr[i]]}if(typeof fn!=="function"){throw new Error("function not found")}return fn};var newInstance=function(cls){var fn=(new Function("return function () { };"))();fn.prototype=cls.prototype;var self=new fn();return{apply:function(args){cls.apply(self,args);return self}}};var dispatchEvent=function(name){var evt;try{evt=new Event(name)}catch(e){evt=document.createEvent("Event");evt.initEvent(name,false,false)}window.dispatchEvent(evt)};var log=function(str){if(debug){console.log(str)}};var get=function(url,success,onFail){javaxt.dhtml.utils.get(url,{success:function(text,xml,url,request){request.abort();request=null;if(success){success.apply(me,[text,xml,url])}},failure:function(request){if(onFail){onFail.apply(me,[request])}}})};init()};
javaxt.dhtml.utils={get:function(url,config){if(!config)config={};if(config.payload!=null){var payload=config.payload;delete config.payload;return javaxt.dhtml.utils.post(url,payload,config);}
var settings={method:"GET",payload:null};javaxt.dhtml.utils.merge(settings,config);return javaxt.dhtml.utils.http(url,settings);},post:function(url,payload,config){var settings;if(payload.payload){settings=payload;settings.method="POST";}
else{var settings={method:"POST",payload:payload};javaxt.dhtml.utils.merge(settings,config);}
return javaxt.dhtml.utils.http(url,settings);},delete:function(url,config){if(!config)config={};config.method="DELETE";return javaxt.dhtml.utils.http(url,config);},http:function(url,config){if(!config)config={method:"GET"};var cache=false;if(config.cache){if(config.cache==true)cache=true;}
if(!cache){if(url.indexOf("?")==-1)url+="?";url+="&_="+new Date().getTime();}
var method=config.method;var success=config.success;var scope=config.scope;var async=true;if(config.async){if(config.async!=false)async=true;}
var failure=config.failure;if(typeof failure==="undefined")failure=function(request){if(request.status!==0){alert(request);}};var request=new XMLHttpRequest();if(config.username&&config.password){request.open(method,url,async,config.username,config.password);request.setRequestHeader("Authorization","Basic "+btoa(config.username+":"+config.password));}
else{request.open(method,url,async);}
if(!cache)request.setRequestHeader("Cache-Control","no-cache, no-transform");if(config.contentType){request.setRequestHeader("Content-Type",config.contentType);}
request.onreadystatechange=function(){if(request.readyState===4){if(request.status>=200&&request.status<300){if(success)success.apply(scope,[request.responseText,request.responseXML,request.responseURL,request]);}
else{if(failure)failure.apply(scope,[request]);}
if(config.finally)config.finally.apply(scope,[request]);}};if(config.payload){var payload=config.payload;if(javaxt.dhtml.utils.isArray(payload)){payload=JSON.stringify(payload);}
else{if(payload!=null&&typeof payload=='object'&&!(payload instanceof FormData)){payload=JSON.stringify(payload);}}
request.send(payload);}
else request.send();return request;},getParameter:function(name,url){name=name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");if(!url)url=window.location.href;var regexS="[\\?&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(url);if(results==null)return"";else return results[1];},merge:function(settings,defaults){var isElement=javaxt.dhtml.utils.isElement;var merge=function(settings,defaults){if(settings==null)return;if(javaxt.dhtml.utils.isArray(settings)){return;}
for(var p in defaults){if(defaults.hasOwnProperty(p)&&typeof settings[p]!=="undefined"){if(p!=0){if(isElement(settings[p])||isElement(defaults[p])){}
else{merge(settings[p],defaults[p]);}}}
else{settings[p]=defaults[p];}}};merge(settings,defaults);return settings;},clone:function(obj){return javaxt.dhtml.utils.merge({},obj);},isDirty:function(obj,org){var isEmpty=javaxt.dhtml.utils.isEmpty;var a=isEmpty(obj);var b=isEmpty(org);if((a==true&&b==false)||(b==true&&a==false))return true;var d=javaxt.dhtml.utils.diff(obj,org);return!isEmpty(d);},diff:function(obj1,obj2){var isEmpty=javaxt.dhtml.utils.isEmpty;var merge=javaxt.dhtml.utils.merge;var diff=function(obj1,obj2){var ret={},rett;for(var i in obj2){rett={};if(typeof obj2[i]==='object'){if(obj1.hasOwnProperty(i)){rett=diff(obj1[i],obj2[i]);if(!isEmpty(rett)){ret[i]=rett;}}
else{ret[i]=obj2[i];}}
else{if(!obj1||!obj1.hasOwnProperty(i)||obj2[i]!==obj1[i]){ret[i]=obj2[i];}}}
return ret;};var d1=diff(obj1,obj2);var d2=diff(obj2,obj1);return merge(d1,d2);},isEmpty:function(obj){return JSON.stringify(obj)==="{}";},isArray:function(obj){return(Object.prototype.toString.call(obj)==='[object Array]');},isString:function(obj){return(typeof obj==="string");},isNumber:function(n){if(typeof n==="number")return true;if(typeof n!=="string")n=""+n;return!isNaN(parseFloat(n))&&!isNaN(n-0);},isDate:function(d){if(typeof d==="string"||typeof d==="number"){var n=(d+"").replace(/[^-+0-9,.]+/g,"");if(d===n){return false;}}
return!isNaN(Date.parse(d));},isElement:function(obj){if(obj==null||typeof obj==='undefined')return false;var b=(obj instanceof Element);if(!b&&(navigator.userAgent.indexOf("Firefox")>-1)){b=(typeof obj=="object"&&"nodeType"in obj&&obj.nodeType===1&&obj.cloneNode);}
return b;},setStyle:function(el,style){if(el===null||el===0)return;if(style===null)return;if(typeof IScroll!=='undefined'){if(el instanceof IScroll){var indicators=el.indicators;if(indicators){var indicatorClass="iScrollIndicator";if(style.indicator)indicatorClass=style.indicator;for(var i=0;i<indicators.length;i++){var indicator=indicators[i].indicator;indicator.className=indicatorClass;var scrollbar=indicator.parentNode;if(scrollbar.className.indexOf("iScrollVerticalScrollbar")){if(style.verticalScrollbar){scrollbar.className=scrollbar.className.replace("iScrollVerticalScrollbar",style.verticalScrollbar);}}
else{if(style.horizontalScrollbar){scrollbar.className=scrollbar.className.replace("iScrollHorizontalScrollbar",style.horizontalScrollbar);}}}}
return;}}
el.removeAttribute("style");if(javaxt.dhtml.utils.isString(style)){el.className=style;}
else{for(var key in style){if(style.hasOwnProperty(key)){var val=style[key];if(key==="content"){el.innerHTML=val;}
else{el.style[key]=val;}}}}},addStyle:function(el,style){if(el===null||el===0)return;if(style===null)return;if(javaxt.dhtml.utils.isString(style)){style=style.replace(/^\s*/,"").replace(/\s*$/,"");if(el.hasAttribute("class")){var arr=el.className.split(" ");for(var i=0;i<arr.length;i++){var className=arr[i].replace(/^\s*/,"").replace(/\s*$/,"");if(className===style)return;}
el.className+=" "+style;}
else{el.className=style;}}
else{for(var key in style){var val=style[key];el.style[key]=val;if(key==="transform"){el.style["-webkit-"+key]=val;}}}},hasStyleRule:function(selector){var hasRule=function(selector,rules){if(!rules)return false;for(var i=0;i<rules.length;i++){var rule=rules[i];if(rule.selectorText){var arr=rule.selectorText.split(',');for(var j=0;j<arr.length;j++){if(arr[j].indexOf(selector)!==-1){var txt=trim(arr[j]);if(txt===selector){return true;}
else{var colIdx=txt.indexOf(":");if(colIdx!==-1){txt=trim(txt.substring(0,colIdx));if(txt===selector){return true;}}}}}}}
return false;};var trim=function(str){return str.replace(/^\s*/,"").replace(/\s*$/,"");};for(var i=0;i<document.styleSheets.length;i++){var rules;try{rules=document.styleSheets[i].rules||document.styleSheets[i].cssRules;if(hasRule(selector,rules)){return true;}}
catch(e){}
var imports=document.styleSheets[i].imports;if(imports){for(var j=0;j<imports.length;j++){rules=imports[j].rules||imports[j].cssRules;if(hasRule(selector,rules))return true;}}}
return false;},addNoSelectRule:function(){var hasStyleRule=javaxt.dhtml.utils.hasStyleRule;if(!hasStyleRule(".javaxt-noselect")){var head=document.head||document.getElementsByTagName('head')[0];var sheet=document.createElement('style');sheet.innerHTML=".javaxt-noselect {\n";var arr=["-webkit-","-moz-","-o-","-ms-","-khtml-",""];for(var i=0;i<arr.length;i++){sheet.innerHTML+=arr[i]+"user-select: none;\n";}
sheet.innerHTML+="}";head.appendChild(sheet);}},createElement:function(type,obj,style){var setStyle=javaxt.dhtml.utils.setStyle;var el=document.createElement(type);if(obj){if(javaxt.dhtml.utils.isElement(obj)){setStyle(el,style);obj.appendChild(el);}
else{if(!style)style=obj;setStyle(el,style);}}
else{setStyle(el,style);}
return el;},createTable:function(parent){var createElement=javaxt.dhtml.utils.createElement;var table=createElement('table',parent,{width:"100%",height:"100%",margin:0,padding:0,borderCollapse:"collapse"});table.cellSpacing=0;table.cellPadding=0;var tbody=createElement('tbody',table);table.addRow=function(style){var tr=createElement("tr",tbody,style);tr.addColumn=function(style){return createElement("td",tr,style);};return tr;};table.removeRow=function(tr){if(!tr)return;tbody.removeChild(tr);};table.getRows=function(){return tbody.childNodes;};table.clear=function(){tbody.innerHTML="";};if(parent)parent.appendChild(table);return table;},createClipboard:function(parent){var createElement=javaxt.dhtml.utils.createElement;var clipboard=createElement("textarea");clipboard.insert=function(str){clipboard.value=str;clipboard.select();clipboard.setSelectionRange(0,99999);document.execCommand('copy');};var clipboardDiv=createElement("div",parent,{position:"absolute",left:"-9999px",width:"0px",height:"0px"});clipboardDiv.appendChild(clipboard);return clipboard;},getSuggestedColumnWidths:function(records,pixelsPerChar,maxWidth){var widths=[];var zscores=[];var totalWidth=0;var headerWidth=0;var suggestedWidths=[];var columns=records[0];if(columns.length>1){for(var i=0;i<columns.length;i++){var len=0;var column=columns[i];if(column!=null)len=(column+"").length;widths.push(len);headerWidth+=len*pixelsPerChar;}
for(var i=0;i<records.length;i++){var record=records[i];for(var j=0;j<record.length;j++){var rec=record[j];var len=0;if(rec!=null){var str=rec+"";var r=str.indexOf("\r");var n=str.indexOf("\n");if(r==-1){if(n>-1)str=str.substring(0,n);}
else{if(n>-1){str=str.substring(0,Math.min(r,n));}
else str=str.substring(0,r);}
len=str.length*pixelsPerChar;}
widths[j]=Math.max(widths[j],len);}}
for(var i=0;i<widths.length;i++){totalWidth+=widths[i];}
var outliers=[];zscores=javaxt.dhtml.utils.getZScores(widths,true);for(var i=0;i<zscores.length;i++){if(zscores[i]>1)outliers.push(i);}
var usePercentages=true;if(outliers.length===1){var outlier=outliers[0];var outlierWidth=widths[outlier];var updateOutlier=true;for(var i=0;i<widths.length;i++){if(i===outlier)continue;if(widths[i]>outlierWidth){updateOutlier=false;break;}}
if(updateOutlier){maxWidth=parseFloat(maxWidth+"");if(!isNaN(maxWidth)){if(totalWidth-outlierWidth>maxWidth){updateOutlier=false;}
else{var r=maxWidth-(totalWidth-outlierWidth);for(var i=0;i<widths.length;i++){if(i===outlier)continue;if(widths[i]>r){updateOutlier=false;break;}}}}}
if(updateOutlier){usePercentages=false;for(var i=0;i<widths.length;i++){var colWidth=i==outlier?"100%":widths[i]+"px";suggestedWidths.push(colWidth);}}}
if(usePercentages){for(var i=0;i<widths.length;i++){var colWidth=((widths[i]/totalWidth)*100)+"%";suggestedWidths.push(colWidth);}}}
else{widths.push(1);totalWidth=1;suggestedWidths.push("100%");}
return{widths:widths,zscores:zscores,totalWidth:totalWidth,headerWidth:headerWidth,suggestedWidths:suggestedWidths};},onRender:function(el,callback){var w=el.offsetWidth;if(w===0||isNaN(w)){var timer;var checkWidth=function(){var w=el.offsetWidth;if(w===0||isNaN(w)){timer=setTimeout(checkWidth,100);}
else{clearTimeout(timer);if(callback)callback.apply(el,[el]);}};timer=setTimeout(checkWidth,100);}
else{if(callback)callback.apply(el,[el]);}},updateDOM:function(){if(document.javaxt)return;document.oncontextmenu=function(e){return false;};var firstMove;window.addEventListener('touchstart',function(e){firstMove=true;});window.addEventListener('touchmove',function(e){if(firstMove){e.preventDefault();firstMove=false;}});if(!document.body)document.body=document.getElementsByTagName("body")[0];var body=document.body;body.addEventListener('dragover',function(e){e.stopPropagation();e.preventDefault();return false;},false);body.addEventListener('drop',function(e){e.stopPropagation();e.preventDefault();return false;},false);document.javaxt={};},getRect:function(el){if(el.getBoundingClientRect){return el.getBoundingClientRect();}
else{var x=0;var y=0;var w=el.offsetWidth;var h=el.offsetHeight;function isNumber(n){return n===parseFloat(n);}
var org=el;do{x+=el.offsetLeft-el.scrollLeft;y+=el.offsetTop-el.scrollTop;}while(el=el.offsetParent);el=org;do{if(isNumber(el.scrollLeft))x-=el.scrollLeft;if(isNumber(el.scrollTop))y-=el.scrollTop;}while(el=el.parentNode);return{x:x,y:y,left:x,right:x+w,top:y,bottom:y+h,width:w,height:h};}},intersects:function(r1,r2){return!(r2.left>r1.right||r2.right<r1.left||r2.top>r1.bottom||r2.bottom<r1.top);},getAreaOfIntersection:function(r1,r2){var minX=r2.left;var maxX=r2.right;var minY=r2.top;var maxY=r2.bottom;var left=r1.left;var right=r1.right;var top=r1.top;var bottom=r1.bottom;if(left<minX)left=minX;if(right>maxX)right=maxX;if(top<minY)top=minY;if(bottom>maxY)bottom=maxY;var w=right-left;var h=bottom-top;return w*h;},getZScores:function(values,normalize){var total=0;for(var i=0;i<values.length;i++){total+=values[i];}
var numSamples=values.length;var mean=total/numSamples;var sum=0.0;for(var i=0;i<values.length;i++){var x=values[i];sum+=Math.pow(x-mean,2);}
var std=Math.sqrt(sum/numSamples);var zScores=[];for(var i=0;i<values.length;i++){var x=values[i];var z=(x-mean)/std;if(z<0&&normalize)z=-z;zScores.push(z);}
return zScores;},initDrag:function(dragHandle,config){javaxt.dhtml.utils.addNoSelectRule();if(!config)config={};var holdDelay=config.holdDelay;if(isNaN(holdDelay))holdDelay=50;var cursor=dragHandle.style.cursor;if(!cursor)cursor="default";var holdStarter=null;var holdActive=false;dragHandle.onmousedown=function(e){holdStarter=setTimeout(function(){holdStarter=null;holdActive=true;startDrag(e);if(document.addEventListener){document.addEventListener("mousemove",onMouseMove);document.addEventListener("mouseup",onMouseUp);}
else if(document.attachEvent){document.attachEvent("onmousemove",onMouseMove);document.attachEvent("onmouseup",onMouseUp);}},holdDelay);};var onMouseUp=function(e){if(holdStarter){clearTimeout(holdStarter);}
else if(holdActive){holdActive=false;if(document.removeEventListener){document.removeEventListener("mousemove",onMouseMove);document.removeEventListener("mouseup",onMouseUp);}else if(document.detachEvent){document.detachEvent("onmousemove",onMouseMove);document.detachEvent("onmouseup",onMouseUp);}
dragHandle.style.cursor=cursor;if(config.onDragEnd)
config.onDragEnd.apply(dragHandle,[e]);var body=document.getElementsByTagName('body')[0];setTimeout(function(){body.className=body.className.replace(/(?:^|\s)javaxt-noselect(?!\S)/g,'');},800);}};dragHandle.onmouseup=onMouseUp;dragHandle.ontouchstart=function(e){e.preventDefault();var touch=e.touches[0];var x=touch.pageX;var y=touch.pageY;holdStarter=setTimeout(function(){holdStarter=null;holdActive=true;startDrag({clientX:x,clientY:y});if(document.removeEventListener){dragHandle.addEventListener("touchmove",onTouchMove);}
else if(document.detachEvent){dragHandle.attachEvent("ontouchmove",onTouchMove);}},holdDelay);};dragHandle.ontouchend=function(e){if(document.removeEventListener){dragHandle.removeEventListener("touchmove",onTouchMove);}
else if(document.detachEvent){dragHandle.detachEvent("ontouchmove",onTouchMove);}
if(holdStarter){clearTimeout(holdStarter);}
else if(holdActive){holdActive=false;}};var onMouseMove=function(e){var x=e.clientX;var y=e.clientY;if(config.onDrag)
config.onDrag.apply(dragHandle,[x,y]);};var onTouchMove=function(e){e.preventDefault();var touch=e.touches[0];var x=touch.pageX;var y=touch.pageY;onMouseMove({clientX:x,clientY:y});};var startDrag=function(e){var x=e.clientX;var y=e.clientY;if(config.onDragStart)
config.onDragStart.apply(dragHandle,[x,y,e]);var body=document.getElementsByTagName('body')[0];if(!body.className.match(/(?:^|\s)javaxt-noselect(?!\S)/)){body.className+=(body.className.length==0?"":" ")+"javaxt-noselect";}};},addResizeListener:function(element,fn){var destroy,isDestroyed=false;var requestFrame=(function(){var raf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(fn){return window.setTimeout(fn,20);};return function(fn){return raf(fn);};})();var cancelFrame=(function(){var cancel=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(id){return cancel(id);};})();function resizeListener(e,fn){var el=e.target||e.srcElement;if(el.raf)cancelFrame(el.raf);el.raf=requestFrame(function(){if(isDestroyed)return;fn.call(el.resizeTrigger,e);});};if(document.attachEvent){element.resizeTrigger=element;var f=function(e){resizeListener(e,fn);};element.attachEvent('onresize',f);destroy=function(){element.detachEvent('onresize',f);};}
else{if(getComputedStyle(element).position=='static')element.style.position='relative';var obj=element.resizeTrigger=document.createElement('object');obj.setAttribute('style','display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');obj.resizeElement=element;obj.onload=function(e){this.contentDocument.defaultView.resizeTrigger=this.resizeElement;this.contentDocument.defaultView.addEventListener('resize',function(e){resizeListener(e,fn);});};var isIE=navigator.userAgent.match(/Trident/);obj.type='text/html';if(isIE)element.appendChild(obj);obj.data='about:blank';if(!isIE)element.appendChild(obj);destroy=function(){element.removeChild(obj);};}
return{destroy:function(){try{destroy();}catch(e){}
isDestroyed=true;}};},getHighestElements:function(obj){var arr=[];var highestIndex=0;var currentIndex=0;var elArray=Array();if(obj){elArray=obj.getElementsByTagName('*');}else{elArray=document.getElementsByTagName('*');}
for(var i=0;i<elArray.length;i++){var el=elArray[i];if(el.currentStyle){currentIndex=parseFloat(el.currentStyle['zIndex']);}
else if(window.getComputedStyle){currentIndex=parseFloat(document.defaultView.getComputedStyle(el,null).getPropertyValue('z-index'));}
if(!isNaN(currentIndex)){if(currentIndex>highestIndex){highestIndex=currentIndex;arr=[];arr.push(el);}
else if(currentIndex===highestIndex){arr.push(el);}}}
return{zIndex:highestIndex,elements:arr,contains:function(el){for(var i=0;i<arr.length;i++){if(arr[i]===el)return true;}
return false;}};},getNextHighestZindex:function(obj){var highestIndex=javaxt.dhtml.utils.getHighestElements(obj).zIndex;return(highestIndex+1);},addShowHide:function(el){if(el.el){var me=el;me.show=function(){me.el.style.visibility='';me.el.style.display='';};me.hide=function(){me.el.style.visibility='hidden';me.el.style.display='none';};me.isVisible=function(){return!(me.el.style.visibility==='hidden'&&me.el.style.display==='none');};}
else{el.show=function(){this.style.visibility='';this.style.display='';};el.hide=function(){this.style.visibility='hidden';this.style.display='none';};el.isVisible=function(){return!(this.style.visibility==='hidden'&&this.style.display==='none');};}},destroy:function(me){if(!me.el)return;me.el.innerHTML="";var parent=me.el.parentNode;if(parent)parent.removeChild(me.el);var props=[];for(var key in me){if(me.hasOwnProperty(key)){props.push(key);}}
for(var i=0;i<props.length;i++){var key=props[i];me[key]=null;delete me[key];}
props=null;},round:function(number,decimalPlaces){if(decimalPlaces){var n=Math.pow(10,decimalPlaces);return Math.round(number*n)/n;}
else{return Math.round(number);}},alert:function(msg,config){var win=javaxt.dhtml.utils.Alert;if(win&&win.isOpen())return;if(msg==null)msg="";if(!(typeof(msg)==='string'||msg instanceof String)){if(typeof msg.responseText!=='undefined'){msg=(msg.responseText.length>0?msg.responseText:msg.statusText);if(!msg)msg="Unknown Server Error";}}
var win=javaxt.dhtml.utils.Alert;if(!win){var createElement=javaxt.dhtml.utils.createElement;var merge=javaxt.dhtml.utils.merge;var outerDiv=createElement('div',{position:"relative",width:"100%",height:"100%",cursor:"inherit"});var innerDiv=createElement('div',outerDiv,{position:"absolute",width:"100%",height:"100%",overflowX:"hidden",cursor:"inherit"});if(!config)config={};merge(config,{width:450,height:200,valign:"top",modal:true,title:"Alert",body:outerDiv,style:merge({header:"window-header alert-header",body:"window-body alert-body"},javaxt.dhtml.style.default.window)});win=new javaxt.dhtml.Window(document.body,config);win.div=innerDiv;javaxt.dhtml.utils.Alert=win;}
win.div.innerHTML=msg;win.show();return win;},confirm:function(msg,config){var win=javaxt.dhtml.utils.Confirm;if(win&&win.isOpen())return;if(!(typeof(msg)==='string'||msg instanceof String)){config=msg;}
if(!config)config={};javaxt.dhtml.utils.merge(config,{title:"Confirm",text:msg});if(!win){var createElement=javaxt.dhtml.utils.createElement;var merge=javaxt.dhtml.utils.merge;var buttonDiv=createElement("div","button-div");var createButton=function(label,result){var input=createElement("input",buttonDiv,"form-button");input.type="button";input.onclick=function(){win.result=this.result;win.close();};input.setLabel=function(label){if(label)this.name=this.value=label;};input.setValue=function(b){if(b===true||b===false)this.result=b;};input.update=function(config){if(config){this.setLabel(config.label);this.setValue(config.value);}};input.setLabel(label);input.setValue(result);return input;};merge(config,{width:450,height:150,valign:"top",modal:true,footer:buttonDiv,style:merge({body:"window-body confirm-body"},javaxt.dhtml.style.default.window)});win=new javaxt.dhtml.Window(document.body,config);javaxt.dhtml.utils.Confirm=win;win.leftButton=createButton("OK",true);win.rightButton=createButton("Cancel",false);}
win.setTitle(config.title);win.setContent(config.text.replace("\n","<p></p>"));win.leftButton.update(config.leftButton);win.rightButton.update(config.rightButton);win.result=false;win.onClose=function(){var callback=config.callback;if(callback)callback.apply(win,[win.result]);};win.show();return win;}};
javaxt.dhtml.WebSocket=function(c){var f=this;var d={url:"",keepAlive:15000,pingMessage:"",timeout:5*60*1000,debugr:{append:function(l){}}};var a;var g;var b;var k=false;var h,e;var i=function(){var p={};javaxt.dhtml.utils.merge(p,c);javaxt.dhtml.utils.merge(p,d);c=p;for(var m in c){if(c.hasOwnProperty(m)){if(typeof c[m]=="function"){if(f[m]&&typeof f[m]=="function"){f[m]=c[m]}}}}var o=window.location.protocol.toLowerCase();if(o.indexOf("https")===0){o="wss"}else{o="ws"}a=o+"://"+window.location.host;if(c.url.indexOf("/")!==0){a+="/"}var n=c.url;if(n){var l=n.indexOf("//");if(l>=0){n=n.substring(l+2);l=n.indexOf("/");if(l>-1){n=n.substring(l+1)}}a+=n}j()};var j=function(){var m;var l=c.debugr;if(b){clearInterval(b)}b=setInterval(function(){if(g){if(g.readyState===WebSocket.OPEN){g.send(c.pingMessage)}else{if(g.readyState===WebSocket.CLOSED){j()}}}},c.keepAlive);g=new WebSocket(a);g.onopen=function(){l.append("onopen");m=setTimeout(function(){k=true;h=new Date().getTime();e=0},500);f.onConnect()};g.onmessage=function(n){k=true;var o=n.data;l.append(o);f.onMessage(o)};g.onclose=function(n){l.append("onclose");l.append(n.code+": "+n.reason);if(!e){e=new Date().getTime()}if(k){if((new Date().getTime()-e)<c.timeout){f.onDisconnect();j()}else{f.stop();clearTimeout(m);f.onTimeout();f.onDisconnect()}}else{l.append("Websocket failed");g=null;clearTimeout(b);clearTimeout(m);f.onFailure(n.code,n.reason);f.onDisconnect()}};g.onerror=function(){l.append("error!")}};this.onConnect=function(){};this.onDisconnect=function(){};this.onMessage=function(l){};this.onFailure=function(l,m){};this.onTimeout=function(){};this.start=function(){if(g){return}j()};this.stop=function(){k=false;if(b){clearInterval(b)}if(g){g.close();g=null}};this.send=function(l){if(g){if(g.readyState===WebSocket.OPEN){g.send(l)}else{if(g.readyState===WebSocket.CLOSED){}}}};i()};
javaxt.dhtml.Window=function(parent,config){this.className="javaxt.dhtml.Window";var me=this;var defaultConfig={title:false,body:null,footer:null,buttons:[],width:null,height:null,modal:false,resizable:true,closable:true,movable:true,shrinkToFit:false,valign:"middle",style:{panel:{fontFamily:"helvetica,arial,verdana,sans-serif",background:"#ffffff",border:"1px solid #b4cbdd",borderRadius:"5px",display:"inline-block",boxShadow:"0 12px 14px 0 rgba(0, 0, 0, 0.2), 0 13px 20px 0 rgba(0, 0, 0, 0.2)",minWidth:"50px"},header:{background:"#d9e7f8",height:"28px",borderRadius:"4px 4px 0 0",border:"1px solid #ecf2fb",borderBottom:"1px solid #b4cbdd"},title:{position:"absolute",width:"100%",whiteSpace:"nowrap",fontSize:"14px",fontWeight:"bold",color:"#04468C",textAlign:"left",cursor:"default",padding:"5px"},icon:{float:"left"},buttonBar:{position:"absolute",right:0,padding:"5px"},button:{width:"16px",height:"16px",border:"1px solid #cccccc",borderRadius:"3px",background:"#F6F6F6",color:"#6f6f6f",cursor:"default"},closeIcon:{content:"&#x2715;",lineHeight:"16px",textAlign:"center"},body:{padding:"7px",verticalAlign:"top",color:"#484848"},footer:{},footerButtonBar:{display:"inline-block",float:"right",padding:"7px 7px 14px 7px"},footerButton:{borderRadius:"3px",color:"#363636",display:"inline-block",fontSize:"14px",width:"80px",height:"26px",lineHeight:"26px",verticalAlign:"middle",textAlign:"center",backgroundColor:"#e4e4e4",border:"1px solid #b4b4b4",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)",textShadow:"1px 1px 0px rgb(255, 255, 255)",cursor:"pointer",marginLeft:"7px"},resizeHandle:{},mask:{background:"rgba(0,0,0,0.1)"}},renderers:{headerButtons:createHeaderButtons}};var win,header,body,footer,buttonRow,mask;var titleDiv,iconDiv,buttonDiv;var recenter=true;var visible=false;var seen=false;var overflow;var resizeListener;var init=function(){if(typeof parent==="string"){parent=document.getElementById(parent);}
if(!parent)return;var clone={};merge(clone,config);merge(clone,defaultConfig);config=clone;var mainDiv=createElement('div',parent,"javaxt-window");win=createElement('div',mainDiv,config.style.panel);win.style.position="absolute";win.style.left="0px";win.style.top="0px";win.style.display="none";win.style.visibility="hidden";win.tabIndex=-1;me.setWidth(config.width);me.setHeight(config.height);me.el=mainDiv;if(config.resizable===true){addResizeHandles();}
var table=createTable(win);table.style.fontFamily="inherit";table.style.textAlign="inherit";table.style.color="inherit";header=table.addRow().addColumn();body=table.addRow().addColumn(config.style.body);body.style.width="100%";body.style.height="100%";footer=table.addRow().addColumn(config.style.footer);var headerDiv=createElement('div',header,config.style.header);headerDiv.style.position="relative";var dragHandle=createElement('div',headerDiv);dragHandle.style.position="absolute";dragHandle.style.width="100%";dragHandle.style.height="100%";dragHandle.style.zIndex=1;titleDiv=createElement('div',headerDiv,config.style.title);if(config.title)titleDiv.innerHTML=config.title;titleDiv.onclick=function(e){me.onHeaderClick(headerDiv,e);};iconDiv=createElement('div',headerDiv,config.style.icon);buttonDiv=createElement('div',headerDiv,config.style.buttonBar);buttonDiv.style.zIndex=2;if(config.renderers.headerButtons){config.renderers.headerButtons(buttonDiv);}
else{createHeaderButtons(buttonDiv);}
me.setContent(config.body);if(config.footer){me.setFooter(config.footer);}
else{if(config.buttons){for(var i=0;i<config.buttons.length;i++){var button=config.buttons[i];var name=button.name;var enabled=true;var onclick=button.onclick;addButton(name,enabled,onclick);}}}
mask=createElement('div',mainDiv);if(config.modal===true){addStyle(mask,"mask");}
mask.style.position="absolute";mask.style.left="0px";mask.style.top="0px";mask.style.width="100%";mask.style.height="100%";addShowHide(mask);mask.hide();if(config.movable===true){initDrag(dragHandle,{onDragStart:function(x,y){var div=win;var rect=_getRect(div);var rect2=_getRect(parent);var xOffset=(x-rect.x)+rect2.x;var yOffset=(y-rect.y)+rect2.y;div.xOffset=xOffset;div.yOffset=yOffset;div.width=rect.width;div.height=rect.height;div.style.left=(x-xOffset)+'px';div.style.top=(y-yOffset)+'px';dragHandle.style.cursor='move';},onDrag:function(x,y){var div=win;var left=(x-div.xOffset);if(left<0)left=0;if(left+div.width>parent.offsetWidth)left=parent.offsetWidth-div.width;var top=(y-div.yOffset);if(top<0)top=0;if(top+div.height>parent.offsetHeight)top=parent.offsetHeight-div.height;div.style.left=left+'px';div.style.top=top+'px';},onDragEnd:function(){this.style.cursor='default';}});}
if(config.shrinkToFit===true){addResizeListener(shrinkToFit);}};this.destroy=function(){if(resizeListener){resizeListener.listeners=[];resizeListener.destroy();}
me.close();mask.innerHTML="";var parent=mask.parentNode;if(parent)parent.removeChild(mask);mask=null;destroy(me);me=null;return me;};var createHeaderButtons=function(buttonDiv){if(config.closable===true){buttonDiv.appendChild(createButton(config.style.closeIcon,me.close));}};var createButton=function(icon,onclick){var div=createElement('div',config.style.button);div.onclick=onclick;createElement('div',div,icon);return div;};this.getTitle=function(){return titleDiv.innerHTML;};this.setTitle=function(obj){if(obj==null)titleDiv.innerHTML="";else{if(isElement(obj)){titleDiv.innerHTML="";body.appendChild(obj);}
else{if(typeof obj==="string"){titleDiv.innerHTML=obj;}}}};this.onHeaderClick=function(){};this.onResize=function(){};this.getBody=function(){return body;};this.setBody=function(obj){if(obj==null)body.innerHTML="";else{if(isElement(obj)){body.innerHTML="";var p=obj.parentNode;if(p)p.removeChild(obj);body.appendChild(obj);}
else{if(typeof obj==="string"){body.innerHTML=obj;}}}};this.setContent=function(obj){me.setBody(obj);};this.getFooter=function(){return footer;};this.setFooter=function(obj){if(obj==null)footer.innerHTML="";else{if(isElement(obj)){var p=obj.parentNode;if(p)p.removeChild(obj);footer.appendChild(obj);}
else{if(typeof obj==="string"){footer.innerHTML=obj;}}}};this.open=function(animation){me.show(animation);};this.show=function(animation){me.showAt(null,null,animation);};this.showAt=function(x,y,animation){var highestElements=getHighestElements();var zIndex=highestElements.zIndex;if(!highestElements.contains(mask))zIndex++;overflow=parent.style.overflow;parent.style.overflow="hidden";mask.style.zIndex=zIndex;if(config.modal===true){mask.show();}
win.style.zIndex=zIndex+1;win.style.display='';win.style.visibility='';if(x!=null&y!=null){win.style.left=x+"px";win.style.top=y+"px";recenter=false;}
else{if(recenter)me.center();}
if(!seen){if(recenter){addResizeListener(function(){if(recenter)me.center();});}
seen=true;}
if(!visible){me.update();visible=true;me.onOpen();if(config.shrinkToFit===true){shrinkToFit();}}};this.close=function(silent){if(visible){parent.style.overflow=overflow;mask.hide();mask.style.zIndex='';win.style.display="none";win.style.visibility="hidden";win.style.zIndex='';visible=false;if(silent!==true)me.onClose();}};this.hide=function(silent){me.close(silent);};this.isOpen=function(){return visible;};this.onOpen=function(){};this.onClose=function(){};this.getWidth=function(){return win.offsetWidth;};this.setWidth=function(width){if(isNaN(width)){if(typeof width==="string"){win.style.width=width;}}
else{win.style.width=width+"px";}
me.update();me.onResize();};this.getHeight=function(){return win.offsetHeight;};this.setHeight=function(height){if(isNaN(height)){if(typeof height==="string"){win.style.height=height;}}
else{win.style.height=height+"px";}
me.update();me.onResize();};this.update=function(){setTimeout(function(){try{var minWidth=Math.max(header.offsetWidth,body.offsetWidth,footer.offsetWidth);if(win.offsetWidth<minWidth){win.style.width=minWidth+"px";}}
catch(e){}
try{var minHeight=header.offsetHeight+body.offsetHeight+footer.offsetHeight;if(win.offsetHeight<minHeight){win.style.height=minHeight+"px";}}
catch(e){}},0);};this.center=function(){var w=win.offsetWidth;var h=win.offsetHeight;var x=parent.clientWidth;var y=parent.clientHeight;if(screen.width>(2*screen.height))x=x/2;x=(x/2)-(w/2);switch(config.valign){case"top":y=(y/4)-(h/2);break;default:y=(y/2)-(h/2);}
if(y<0)y=0;if(x<0)x=0;win.style.left=x+"px";win.style.top=y+"px";};addButton=function(name,enabled,onclick){if(!buttonRow){var buttonDiv=createElement('div',footer,config.style.footerButtonBar);buttonRow=createTable(buttonDiv).addRow();}
var td=buttonRow.addColumn();if(name.toLowerCase()==="spacer"){td.style.width="100%";}
else{var input=createElement('input',td,config.style.footerButton);input.type="button";input.name=name;input.value=name;input.onclick=onclick;}};var addResizeHandles=function(){var parentRect,windowRect;var dx,dy;var onDragStart=function(x,y){var resizeHandle=this;mask.style.cursor=resizeHandle.style.cursor;mask.show();parentRect=_getRect(parent);windowRect=_getRect(win);var orgWidth=windowRect.width;dx=parseFloat(win.style.width);if(dx<orgWidth)dx=orgWidth-dx;else dx=0;var orgHeight=windowRect.height;dy=parseFloat(win.style.height);if(dy<orgHeight)dy=orgHeight-dy;else dy=0;};var onDragEnd=function(){if(config.modal!==true){mask.hide();}
mask.style.cursor="";win.focus();};var setWidth=function(w){win.style.width=w+"px";var minWidth=Math.max(header.offsetWidth,body.offsetWidth,footer.offsetWidth);if(win.offsetWidth<minWidth){win.style.width=minWidth+"px";}};var setHeight=function(h){win.style.height=h+"px";var minHeight=header.offsetHeight+body.offsetHeight+footer.offsetHeight;if(win.offsetHeight<minHeight){win.style.height=minHeight+"px";}};var pullDown=function(y){var top=windowRect.top-parentRect.top;if(y>parentRect.bottom)y=parentRect.bottom;var bottom=y-parentRect.top;var height=(bottom-top)-dx;setHeight(height);};var pullUp=function(y){var top=y-parentRect.top;if(top<0)top=0;var minY=(windowRect.bottom-parentRect.top)-50;if(top>minY)top=minY;win.style.top=top+'px';var bottom=windowRect.bottom-parentRect.top;var height=(bottom-top)-dy;setHeight(height);var d=_getRect(win).bottom-windowRect.bottom;if(d>0)setHeight(height-d);};pullLeft=function(x){if(x<parentRect.left)x=parentRect.left;var left=x-parentRect.left;var maxX=(windowRect.right-parentRect.left)-75;if(left>maxX)left=maxX;win.style.left=left+'px';var right=windowRect.right-parentRect.left;var width=(right-left)-dx;setWidth(width);var d=_getRect(win).right-windowRect.right;if(d>0)setWidth(width-d);};var pullRight=function(x){var left=windowRect.left-parentRect.left;if(x>parentRect.right)x=parentRect.right;var right=x-parentRect.left;var width=(right-left)-dx;setWidth(width);};var resizeHandle=createElement("div",win);resizeHandle.style.position="absolute";resizeHandle.style.width="100%";resizeHandle.style.height="10px";resizeHandle.style.top="-5px";resizeHandle.style.cursor="ns-resize";resizeHandle.style.zIndex=2;javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){pullUp(y);me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="";resizeHandle.style.bottom="-5px";win.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){pullDown(y);me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="0px";resizeHandle.style.bottom="";resizeHandle.style.left="-5px";resizeHandle.style.height="100%";resizeHandle.style.width="10px";resizeHandle.style.cursor="ew-resize";win.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){pullLeft(x);me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="-5px";resizeHandle.style.right="";resizeHandle.style.height="10px";resizeHandle.style.cursor="se-resize";win.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){pullLeft(x);pullUp(y);me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="";resizeHandle.style.bottom="-5px";resizeHandle.style.cursor="ne-resize";win.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){pullLeft(x);pullDown(y);me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.left="";resizeHandle.style.right="-5px";resizeHandle.style.top="0px";resizeHandle.style.height="100%";resizeHandle.style.cursor="ew-resize";win.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){pullRight(x);me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="-5px";resizeHandle.style.height="10px";resizeHandle.style.cursor="ne-resize";win.appendChild(resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){pullRight(x);pullUp(y);me.onResize();},onDragEnd:onDragEnd});resizeHandle=resizeHandle.cloneNode();resizeHandle.style.top="";resizeHandle.style.cursor="se-resize";if(config.style.resizeHandle==null||isEmpty(config.style.resizeHandle)){resizeHandle.style.bottom="-5px";javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){pullRight(x);pullDown(y);me.onResize();},onDragEnd:onDragEnd});}
else{resizeHandle.style.width="25px";resizeHandle.style.height="25px";createElement("div",resizeHandle,config.style.resizeHandle);javaxt.dhtml.utils.initDrag(resizeHandle,{onDragStart:onDragStart,onDrag:function(x,y){pullRight(x);pullDown(y);me.onResize();},onDragEnd:onDragEnd});}
win.appendChild(resizeHandle);};var shrinkToFit=function(){var width=me.getWidth();var height=me.getHeight();var w=parent.offsetWidth;var h=parent.offsetHeight;if(width>w){me.setWidth(w);}
if(height>h){me.setHeight(h);}};var addResizeListener=function(fn){if(!resizeListener){resizeListener=javaxt.dhtml.utils.addResizeListener(parent,function(){var listeners=resizeListener.listeners;for(var i=0;i<listeners.length;i++){listeners[i].apply(me,[]);}});resizeListener.listeners=[];}
resizeListener.listeners.push(fn);};var _getRect=javaxt.dhtml.utils.getRect;var merge=javaxt.dhtml.utils.merge;var destroy=javaxt.dhtml.utils.destroy;var isEmpty=javaxt.dhtml.utils.isEmpty;var isElement=javaxt.dhtml.utils.isElement;var addShowHide=javaxt.dhtml.utils.addShowHide;var getHighestElements=javaxt.dhtml.utils.getHighestElements;var createElement=javaxt.dhtml.utils.createElement;var createTable=javaxt.dhtml.utils.createTable;var initDrag=javaxt.dhtml.utils.initDrag;var addStyle=function(el,style){javaxt.dhtml.utils.addStyle(el,config.style[style]);};init();};